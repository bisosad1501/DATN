"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/courses/[courseId]/lessons/[lessonId]/page",{

/***/ "(app-pages-browser)/./app/courses/[courseId]/lessons/[lessonId]/page.tsx":
/*!************************************************************!*\
  !*** ./app/courses/[courseId]/lessons/[lessonId]/page.tsx ***!
  \************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LessonPlayerPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.2.4_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.2.4_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.2.4_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _components_layout_app_layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/layout/app-layout */ \"(app-pages-browser)/./components/layout/app-layout.tsx\");\n/* harmony import */ var _components_layout_page_container__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/layout/page-container */ \"(app-pages-browser)/./components/layout/page-container.tsx\");\n/* harmony import */ var _components_ui_card__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ui/card */ \"(app-pages-browser)/./components/ui/card.tsx\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,ChevronRight,FileText,Loader2,PenTool,PlayCircle,Target!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,ChevronRight,FileText,Loader2,PenTool,PlayCircle,Target!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/chevron-left.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,ChevronRight,FileText,Loader2,PenTool,PlayCircle,Target!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/circle-check-big.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,ChevronRight,FileText,Loader2,PenTool,PlayCircle,Target!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,ChevronRight,FileText,Loader2,PenTool,PlayCircle,Target!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/circle-play.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,ChevronRight,FileText,Loader2,PenTool,PlayCircle,Target!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/file-text.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,ChevronRight,FileText,Loader2,PenTool,PlayCircle,Target!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/target.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,ChevronRight,FileText,Loader2,PenTool,PlayCircle,Target!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/pen-tool.js\");\n/* harmony import */ var _lib_api_courses__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/api/courses */ \"(app-pages-browser)/./lib/api/courses.ts\");\n/* harmony import */ var _lib_api_apiClient__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/api/apiClient */ \"(app-pages-browser)/./lib/api/apiClient.ts\");\n/* harmony import */ var _lib_utils_format__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/lib/utils/format */ \"(app-pages-browser)/./lib/utils/format.ts\");\n/* harmony import */ var _lib_hooks_use_youtube_progress__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/lib/hooks/use-youtube-progress */ \"(app-pages-browser)/./lib/hooks/use-youtube-progress.ts\");\n/* harmony import */ var _lib_contexts_preferences_context__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/lib/contexts/preferences-context */ \"(app-pages-browser)/./lib/contexts/preferences-context.tsx\");\n/* harmony import */ var _lib_i18n__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/lib/i18n */ \"(app-pages-browser)/./lib/i18n/index.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction LessonPlayerPage() {\n    var _videos__video_provider, _videos_, _videos_1, _videos_2, _videos__video_provider1, _videos_3, _videos_4, _videos_5, _videos_6, _videos_7;\n    _s();\n    const t = (0,_lib_i18n__WEBPACK_IMPORTED_MODULE_12__.useTranslations)('courses');\n    const params = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useParams)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [lesson, setLesson] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [videos, setVideos] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [modules, setModules] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [isPlaying, setIsPlaying] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isMuted, setIsMuted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentTime, setCurrentTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [duration, setDuration] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [note, setNote] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [notes, setNotes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [lastPosition, setLastPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0) // âœ… For resume watching\n    ;\n    const [progressLoaded, setProgressLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false) // âœ… Track if progress has been fetched\n    ;\n    // âœ… Generate UUID for session (backend expects UUID format)\n    const sessionIdRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(undefined) // Optional, backend will handle if missing\n    ;\n    // Track time spent on page (for non-video lessons)\n    const pageStartTimeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(Date.now());\n    const totalTimeSpentRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    // âœ… Get user preferences for playback speed and auto-play\n    const { preferences } = (0,_lib_contexts_preferences_context__WEBPACK_IMPORTED_MODULE_11__.usePreferences)();\n    const playbackSpeed = (preferences === null || preferences === void 0 ? void 0 : preferences.playback_speed) || 1.0;\n    const autoPlayNext = (preferences === null || preferences === void 0 ? void 0 : preferences.auto_play_next_lesson) || false;\n    // Send progress update to backend\n    const sendProgressUpdate = async (data)=>{\n        try {\n            const payload = {};\n            if (data.videoWatchedSeconds !== undefined) {\n                payload.video_watched_seconds = data.videoWatchedSeconds;\n            }\n            if (data.videoTotalSeconds !== undefined) {\n                payload.video_total_seconds = data.videoTotalSeconds;\n            }\n            if (data.progressPercentage !== undefined) {\n                payload.progress_percentage = data.progressPercentage;\n            }\n            if (data.isCompleted) {\n                payload.is_completed = true;\n            }\n            console.log('[Lesson Player] Sending progress:', payload);\n            if (data.useKeepalive) {\n                // Use fetch with keepalive for page unload\n                const token = (0,_lib_api_apiClient__WEBPACK_IMPORTED_MODULE_8__.getToken)();\n                const base = \"http://localhost:8080/api/v1\" || 0;\n                const url = \"\".concat(base, \"/progress/lessons/\").concat(params.lessonId);\n                await fetch(url, {\n                    method: \"PUT\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        ...token ? {\n                            Authorization: \"Bearer \".concat(token)\n                        } : {}\n                    },\n                    body: JSON.stringify(payload),\n                    keepalive: true\n                });\n            } else {\n                await _lib_api_courses__WEBPACK_IMPORTED_MODULE_7__.coursesApi.updateLessonProgress(params.lessonId, payload);\n            }\n            console.log('[Lesson Player] Progress sent successfully');\n        } catch (error) {\n            console.error('[Lesson Player] Failed to send progress:', error);\n        }\n    };\n    // Check if this is a YouTube video\n    const isYouTube = videos.length > 0 && ((_videos_ = videos[0]) === null || _videos_ === void 0 ? void 0 : (_videos__video_provider = _videos_.video_provider) === null || _videos__video_provider === void 0 ? void 0 : _videos__video_provider.toLowerCase()) === 'youtube' && ((_videos_1 = videos[0]) === null || _videos_1 === void 0 ? void 0 : _videos_1.video_id);\n    const youtubeVideoId = isYouTube ? videos[0].video_id : '';\n    console.log('ðŸŽ¥ [Lesson Player] Component render:', {\n        hasVideos: videos.length > 0,\n        isYouTube,\n        youtubeVideoId,\n        videoProvider: (_videos_2 = videos[0]) === null || _videos_2 === void 0 ? void 0 : _videos_2.video_provider\n    });\n    // âœ… Memoize onProgressUpdate Ä‘á»ƒ trÃ¡nh re-render loop\n    const handleProgressUpdate = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"LessonPlayerPage.useCallback[handleProgressUpdate]\": (data)=>{\n            // âŒ REMOVED: setCurrentTime/setDuration cause re-render loop!\n            // âœ… Use youtubeProgress.currentTime/duration directly instead\n            console.log('[YouTube Hook] Progress:', {\n                accumulatedTime: data.accumulatedTime,\n                lastPosition: data.lastPosition,\n                watchedSeconds: data.watchedSeconds\n            });\n            // âœ… DÃ¹ng accumulated time tá»« hook (thá»i gian thá»±c sá»± xem)\n            // Send progress to backend vá»›i last position + video stats\n            const payload = {\n                video_watched_seconds: data.watchedSeconds,\n                video_total_seconds: Math.floor(data.duration),\n                // âš ï¸ Don't send progress_percentage - let backend auto-calculate from last_position\n                // This ensures consistent calculation: progress = last_position / total_duration * 100\n                last_position_seconds: data.lastPosition\n            };\n            console.log('[Lesson Player] Sending YouTube progress:', payload);\n            // Update lesson progress\n            _lib_api_courses__WEBPACK_IMPORTED_MODULE_7__.coursesApi.updateLessonProgress(params.lessonId, payload).then({\n                \"LessonPlayerPage.useCallback[handleProgressUpdate]\": ()=>{\n                    console.log('[Lesson Player] YouTube progress sent successfully');\n                // â„¹ï¸ Video tracking removed - lesson progress already includes all video metrics\n                // (watched_seconds, total_seconds, last_position, etc.)\n                }\n            }[\"LessonPlayerPage.useCallback[handleProgressUpdate]\"]).catch({\n                \"LessonPlayerPage.useCallback[handleProgressUpdate]\": (error)=>console.error('[Lesson Player] Failed to send YouTube progress:', error)\n            }[\"LessonPlayerPage.useCallback[handleProgressUpdate]\"]);\n        }\n    }[\"LessonPlayerPage.useCallback[handleProgressUpdate]\"], [\n        params.lessonId,\n        videos\n    ]);\n    // Initialize YouTube player and tracking (only for YouTube videos)\n    // Hook MUST be called unconditionally, but with empty videoId it will skip init\n    // âœ… Only pass videoId after progress is loaded to ensure startPosition is correct\n    const youtubeProgress = (0,_lib_hooks_use_youtube_progress__WEBPACK_IMPORTED_MODULE_10__.useYouTubeProgress)({\n        videoId: progressLoaded ? youtubeVideoId : '',\n        startPosition: lastPosition,\n        onProgressUpdate: handleProgressUpdate,\n        updateInterval: 5000,\n        autoPlay: false,\n        playbackSpeed: playbackSpeed\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"LessonPlayerPage.useEffect\": ()=>{\n            console.log('[Lesson Player] ðŸŽ¬ useEffect triggered for lesson:', params.lessonId);\n            const fetchLessonData = {\n                \"LessonPlayerPage.useEffect.fetchLessonData\": async ()=>{\n                    try {\n                        var _lessonData_lesson, _lessonData_videos, _lessonData_videos1, _lessonData_videos_, _lessonData_videos2, _lessonData_videos_1, _lessonData_videos3;\n                        setLoading(true);\n                        console.log('[Lesson Player] ðŸ” Fetching lesson data...');\n                        // Fix: getLessonById only takes lessonId, not courseId\n                        const lessonData = await _lib_api_courses__WEBPACK_IMPORTED_MODULE_7__.coursesApi.getLessonById(params.lessonId);\n                        console.log('[Lesson Player] âœ… Lesson data received:', {\n                            lesson: (_lessonData_lesson = lessonData.lesson) === null || _lessonData_lesson === void 0 ? void 0 : _lessonData_lesson.title,\n                            videosCount: (_lessonData_videos = lessonData.videos) === null || _lessonData_videos === void 0 ? void 0 : _lessonData_videos.length,\n                            firstVideo: (_lessonData_videos1 = lessonData.videos) === null || _lessonData_videos1 === void 0 ? void 0 : _lessonData_videos1[0]\n                        });\n                        setLesson(lessonData.lesson);\n                        setVideos(lessonData.videos || []);\n                        console.log('[Lesson Player] Video data:', lessonData.videos);\n                        console.log('[Lesson Player] Is YouTube?', (_lessonData_videos2 = lessonData.videos) === null || _lessonData_videos2 === void 0 ? void 0 : (_lessonData_videos_ = _lessonData_videos2[0]) === null || _lessonData_videos_ === void 0 ? void 0 : _lessonData_videos_.video_provider, (_lessonData_videos3 = lessonData.videos) === null || _lessonData_videos3 === void 0 ? void 0 : (_lessonData_videos_1 = _lessonData_videos3[0]) === null || _lessonData_videos_1 === void 0 ? void 0 : _lessonData_videos_1.video_id);\n                        // âœ… Load last position Ä‘á»ƒ resume watching (BEFORE rendering player)\n                        try {\n                            const progress = await _lib_api_courses__WEBPACK_IMPORTED_MODULE_7__.coursesApi.getLessonProgress(params.lessonId);\n                            console.log('[Lesson Player] ðŸ“Š Progress response:', progress);\n                            if (progress && progress.last_position_seconds > 0) {\n                                console.log('[Lesson Player] ðŸ”„ Found saved position:', progress.last_position_seconds, 'seconds');\n                                setLastPosition(progress.last_position_seconds);\n                            } else {\n                                console.log('[Lesson Player] â­ï¸ Starting from beginning (progress:', progress, 'last_position:', progress === null || progress === void 0 ? void 0 : progress.last_position_seconds, ')');\n                            }\n                        } catch (error) {\n                            console.log('[Lesson Player] âŒ No previous progress found, starting from beginning:', error);\n                        }\n                        // âœ… Mark progress as loaded so player can initialize with correct startPosition\n                        setProgressLoaded(true);\n                        // Get course detail with modules and lessons (including videos)\n                        const courseDetail = await _lib_api_courses__WEBPACK_IMPORTED_MODULE_7__.coursesApi.getCourseById(params.courseId);\n                        // Auto-enroll if not enrolled and user is authenticated\n                        const token = (0,_lib_api_apiClient__WEBPACK_IMPORTED_MODULE_8__.getToken)();\n                        if (token && courseDetail && courseDetail.is_enrolled === false) {\n                            try {\n                                await _lib_api_courses__WEBPACK_IMPORTED_MODULE_7__.coursesApi.enrollCourse(params.courseId);\n                                console.log('[Lesson Player] Auto-enrolled to course:', params.courseId);\n                            } catch (enErr) {\n                                console.warn('[Lesson Player] Failed to auto-enroll:', enErr);\n                            }\n                        }\n                        // Transform the modules data to match our Module type\n                        // UPDATED: Include exercises from API\n                        const transformedModules = courseDetail.modules.map({\n                            \"LessonPlayerPage.useEffect.fetchLessonData.transformedModules\": (moduleData, index)=>{\n                                var _moduleData_lessons, _moduleData_exercises;\n                                return {\n                                    id: moduleData.module.id,\n                                    course_id: params.courseId,\n                                    title: moduleData.module.title || \"Module \".concat(index + 1),\n                                    display_order: moduleData.module.display_order || index + 1,\n                                    total_lessons: ((_moduleData_lessons = moduleData.lessons) === null || _moduleData_lessons === void 0 ? void 0 : _moduleData_lessons.length) || 0,\n                                    total_exercises: ((_moduleData_exercises = moduleData.exercises) === null || _moduleData_exercises === void 0 ? void 0 : _moduleData_exercises.length) || 0,\n                                    is_published: true,\n                                    created_at: moduleData.module.created_at || new Date().toISOString(),\n                                    updated_at: moduleData.module.updated_at || new Date().toISOString(),\n                                    lessons: moduleData.lessons || [],\n                                    exercises: moduleData.exercises || []\n                                };\n                            }\n                        }[\"LessonPlayerPage.useEffect.fetchLessonData.transformedModules\"]);\n                        setModules(transformedModules);\n                    // TODO: Backend notes endpoint not implemented yet\n                    // const lessonNotes = await coursesApi.getLessonNotes(params.courseId as string, params.lessonId as string)\n                    // setNotes(lessonNotes)\n                    } catch (error) {\n                        console.error(\"[v0] Failed to fetch lesson:\", error);\n                    } finally{\n                        setLoading(false);\n                    }\n                }\n            }[\"LessonPlayerPage.useEffect.fetchLessonData\"];\n            fetchLessonData();\n        }\n    }[\"LessonPlayerPage.useEffect\"], [\n        params.courseId,\n        params.lessonId\n    ]);\n    // Track HTML5 video progress (for non-YouTube videos)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"LessonPlayerPage.useEffect\": ()=>{\n            const video = videoRef.current;\n            if (!video || isYouTube) return;\n            let progressInterval = null;\n            // âœ… Apply playback speed from user preferences\n            if (playbackSpeed && playbackSpeed !== 1.0) {\n                video.playbackRate = playbackSpeed;\n                console.log('[HTML5 Video] ðŸŽšï¸ Playback speed set to:', playbackSpeed);\n            }\n            const handleTimeUpdate = {\n                \"LessonPlayerPage.useEffect.handleTimeUpdate\": ()=>{\n                    setCurrentTime(video.currentTime);\n                }\n            }[\"LessonPlayerPage.useEffect.handleTimeUpdate\"];\n            const handleLoadedMetadata = {\n                \"LessonPlayerPage.useEffect.handleLoadedMetadata\": ()=>{\n                    setDuration(video.duration);\n                    // âœ… Ensure playback speed is set after metadata loads\n                    if (playbackSpeed && playbackSpeed !== 1.0) {\n                        video.playbackRate = playbackSpeed;\n                    }\n                }\n            }[\"LessonPlayerPage.useEffect.handleLoadedMetadata\"];\n            const handlePlay = {\n                \"LessonPlayerPage.useEffect.handlePlay\": ()=>{\n                    setIsPlaying(true);\n                    // Send progress every 5 seconds while playing\n                    progressInterval = setInterval({\n                        \"LessonPlayerPage.useEffect.handlePlay\": ()=>{\n                            if (video.duration > 0) {\n                                sendProgressUpdate({\n                                    videoWatchedSeconds: Math.floor(video.currentTime),\n                                    videoTotalSeconds: Math.floor(video.duration),\n                                    progressPercentage: video.currentTime / video.duration * 100\n                                });\n                            }\n                        }\n                    }[\"LessonPlayerPage.useEffect.handlePlay\"], 5000);\n                }\n            }[\"LessonPlayerPage.useEffect.handlePlay\"];\n            const handlePause = {\n                \"LessonPlayerPage.useEffect.handlePause\": ()=>{\n                    setIsPlaying(false);\n                    if (progressInterval) {\n                        clearInterval(progressInterval);\n                        progressInterval = null;\n                    }\n                    // Send final progress\n                    if (video.duration > 0) {\n                        sendProgressUpdate({\n                            videoWatchedSeconds: Math.floor(video.currentTime),\n                            videoTotalSeconds: Math.floor(video.duration),\n                            progressPercentage: video.currentTime / video.duration * 100\n                        });\n                    }\n                }\n            }[\"LessonPlayerPage.useEffect.handlePause\"];\n            const handleEnded = {\n                \"LessonPlayerPage.useEffect.handleEnded\": ()=>{\n                    setIsPlaying(false);\n                    if (progressInterval) {\n                        clearInterval(progressInterval);\n                        progressInterval = null;\n                    }\n                    // Mark as completed\n                    sendProgressUpdate({\n                        videoWatchedSeconds: Math.floor(video.duration),\n                        videoTotalSeconds: Math.floor(video.duration),\n                        progressPercentage: 100,\n                        isCompleted: true\n                    });\n                }\n            }[\"LessonPlayerPage.useEffect.handleEnded\"];\n            video.addEventListener('timeupdate', handleTimeUpdate);\n            video.addEventListener('loadedmetadata', handleLoadedMetadata);\n            video.addEventListener('play', handlePlay);\n            video.addEventListener('pause', handlePause);\n            video.addEventListener('ended', handleEnded);\n            return ({\n                \"LessonPlayerPage.useEffect\": ()=>{\n                    if (progressInterval) {\n                        clearInterval(progressInterval);\n                    }\n                    video.removeEventListener('timeupdate', handleTimeUpdate);\n                    video.removeEventListener('loadedmetadata', handleLoadedMetadata);\n                    video.removeEventListener('play', handlePlay);\n                    video.removeEventListener('pause', handlePause);\n                    video.removeEventListener('ended', handleEnded);\n                }\n            })[\"LessonPlayerPage.useEffect\"];\n        }\n    }[\"LessonPlayerPage.useEffect\"], [\n        isYouTube,\n        playbackSpeed\n    ]);\n    // Send progress on page unload\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"LessonPlayerPage.useEffect\": ()=>{\n            const handleBeforeUnload = {\n                \"LessonPlayerPage.useEffect.handleBeforeUnload\": ()=>{\n                    sendProgressUpdate({\n                        useKeepalive: true\n                    });\n                }\n            }[\"LessonPlayerPage.useEffect.handleBeforeUnload\"];\n            const handleVisibilityChange = {\n                \"LessonPlayerPage.useEffect.handleVisibilityChange\": ()=>{\n                    if (document.hidden) {\n                        sendProgressUpdate({\n                            useKeepalive: true\n                        });\n                    }\n                }\n            }[\"LessonPlayerPage.useEffect.handleVisibilityChange\"];\n            window.addEventListener('beforeunload', handleBeforeUnload);\n            document.addEventListener('visibilitychange', handleVisibilityChange);\n            return ({\n                \"LessonPlayerPage.useEffect\": ()=>{\n                    window.removeEventListener('beforeunload', handleBeforeUnload);\n                    document.removeEventListener('visibilitychange', handleVisibilityChange);\n                }\n            })[\"LessonPlayerPage.useEffect\"];\n        }\n    }[\"LessonPlayerPage.useEffect\"], []);\n    const togglePlay = ()=>{\n        if (videoRef.current) {\n            if (isPlaying) {\n                videoRef.current.pause();\n            } else {\n                videoRef.current.play();\n            }\n        }\n    };\n    const toggleMute = ()=>{\n        if (videoRef.current) {\n            videoRef.current.muted = !isMuted;\n            setIsMuted(!isMuted);\n        }\n    };\n    const handleProgressClick = (e)=>{\n        if (videoRef.current) {\n            const rect = e.currentTarget.getBoundingClientRect();\n            const pos = (e.clientX - rect.left) / rect.width;\n            videoRef.current.currentTime = pos * duration;\n        }\n    };\n    // TODO: Backend notes feature not implemented yet\n    /*\n  const handleAddNote = async () => {\n    if (!note.trim()) return\n\n    try {\n      await coursesApi.addLessonNote(params.courseId as string, params.lessonId as string, {\n        content: note,\n        timestamp: Math.floor(currentTime),\n      })\n      const updatedNotes = await coursesApi.getLessonNotes(params.courseId as string, params.lessonId as string)\n      setNotes(updatedNotes)\n      setNote(\"\")\n    } catch (error) {\n      console.error(\"[v0] Failed to add note:\", error)\n    }\n  }\n  */ const handleCompleteLesson = async ()=>{\n        try {\n            await sendProgressUpdate({\n                videoWatchedSeconds: Math.floor(currentTime),\n                videoTotalSeconds: Math.floor(duration),\n                progressPercentage: 100,\n                isCompleted: true\n            });\n            // âœ… Check auto_play_next_lesson preference\n            if (autoPlayNext) {\n                // Auto-redirect to next lesson\n                handleNextLesson();\n            } else {\n            // Show completion message or just stay on page\n            // User can manually navigate to next lesson\n            }\n        } catch (error) {\n            console.error(\"[v0] Failed to complete lesson:\", error);\n        }\n    };\n    const handleNextLesson = ()=>{\n        const allLessons = modules.flatMap((m)=>m.lessons || []);\n        const currentIndex = allLessons.findIndex((l)=>(l === null || l === void 0 ? void 0 : l.id) === params.lessonId);\n        if (currentIndex < allLessons.length - 1) {\n            const nextLesson = allLessons[currentIndex + 1];\n            if (nextLesson === null || nextLesson === void 0 ? void 0 : nextLesson.id) {\n                router.push(\"/courses/\".concat(params.courseId, \"/lessons/\").concat(nextLesson.id));\n            }\n        } else {\n            router.push(\"/courses/\".concat(params.courseId));\n        }\n    };\n    const handlePreviousLesson = ()=>{\n        const allLessons = modules.flatMap((m)=>m.lessons || []);\n        const currentIndex = allLessons.findIndex((l)=>(l === null || l === void 0 ? void 0 : l.id) === params.lessonId);\n        if (currentIndex > 0) {\n            const prevLesson = allLessons[currentIndex - 1];\n            if (prevLesson === null || prevLesson === void 0 ? void 0 : prevLesson.id) {\n                router.push(\"/courses/\".concat(params.courseId, \"/lessons/\").concat(prevLesson.id));\n            }\n        }\n    };\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_app_layout__WEBPACK_IMPORTED_MODULE_4__.AppLayout, {\n            showSidebar: false,\n            showFooter: false,\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-center min-h-screen\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                    className: \"w-8 h-8 animate-spin text-primary\"\n                }, void 0, false, {\n                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                    lineNumber: 471,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                lineNumber: 470,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n            lineNumber: 469,\n            columnNumber: 7\n        }, this);\n    }\n    if (!lesson) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_app_layout__WEBPACK_IMPORTED_MODULE_4__.AppLayout, {\n            showSidebar: false,\n            showFooter: false,\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_page_container__WEBPACK_IMPORTED_MODULE_5__.PageContainer, {\n                className: \"py-20 text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-2xl font-bold mb-4\",\n                        children: t('courses.lesson_not_found')\n                    }, void 0, false, {\n                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                        lineNumber: 481,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                        onClick: ()=>router.push(\"/courses/\".concat(params.courseId)),\n                        children: t('courses.back_to_course')\n                    }, void 0, false, {\n                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                        lineNumber: 482,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                lineNumber: 480,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n            lineNumber: 479,\n            columnNumber: 7\n        }, this);\n    }\n    const allLessons = modules.flatMap((m)=>m.lessons || []);\n    const currentIndex = allLessons.findIndex((l)=>(l === null || l === void 0 ? void 0 : l.id) === params.lessonId);\n    const hasPrevious = currentIndex > 0;\n    const hasNext = currentIndex < allLessons.length - 1;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_app_layout__WEBPACK_IMPORTED_MODULE_4__.AppLayout, {\n        showSidebar: false,\n        showFooter: false,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen relative\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"border-b bg-white sticky top-0 z-10 shadow-sm\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"container mx-auto px-4 py-3\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center justify-between gap-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                    variant: \"ghost\",\n                                    size: \"sm\",\n                                    onClick: ()=>router.push(\"/courses/\".concat(params.courseId)),\n                                    className: \"flex-shrink-0\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                            className: \"w-4 h-4 mr-1\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                            lineNumber: 506,\n                                            columnNumber: 15\n                                        }, this),\n                                        t('back')\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                    lineNumber: 500,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                    className: \"text-base md:text-lg font-semibold truncate flex-1 text-center px-4\",\n                                    children: lesson.title\n                                }, void 0, false, {\n                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                    lineNumber: 510,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                    onClick: handleCompleteLesson,\n                                    size: \"sm\",\n                                    className: \"flex-shrink-0\",\n                                    disabled: !hasNext,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                            className: \"w-4 h-4 mr-1\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                            lineNumber: 520,\n                                            columnNumber: 15\n                                        }, this),\n                                        \"Tiáº¿p theo\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                    lineNumber: 514,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                            lineNumber: 499,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                        lineNumber: 498,\n                        columnNumber: 9\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                    lineNumber: 497,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_page_container__WEBPACK_IMPORTED_MODULE_5__.PageContainer, {\n                    className: \"py-6\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid lg:grid-cols-3 gap-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"lg:col-span-2 space-y-6\",\n                                children: [\n                                    videos.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.Card, {\n                                        className: \"overflow-hidden\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardContent, {\n                                                className: \"p-0\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"relative bg-black aspect-video\",\n                                                    children: ((_videos_3 = videos[0]) === null || _videos_3 === void 0 ? void 0 : (_videos__video_provider1 = _videos_3.video_provider) === null || _videos__video_provider1 === void 0 ? void 0 : _videos__video_provider1.toLowerCase()) === 'youtube' && ((_videos_4 = videos[0]) === null || _videos_4 === void 0 ? void 0 : _videos_4.video_id) ? /* YouTube player container - controlled by useYouTubeProgress hook */ /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        ref: youtubeProgress.containerRef,\n                                                        className: \"absolute inset-0 w-full h-full\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                        lineNumber: 537,\n                                                        columnNumber: 23\n                                                    }, this) : ((_videos_5 = videos[0]) === null || _videos_5 === void 0 ? void 0 : _videos_5.video_url) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                                                        ref: videoRef,\n                                                        src: videos[0].video_url,\n                                                        className: \"absolute inset-0 w-full h-full object-contain\",\n                                                        controls: true,\n                                                        controlsList: \"nodownload\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                        lineNumber: 542,\n                                                        columnNumber: 23\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"absolute inset-0 flex items-center justify-center text-white\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                            className: \"w-8 h-8 animate-spin\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                            lineNumber: 551,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                        lineNumber: 550,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                    lineNumber: 534,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 533,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardHeader, {\n                                                className: \"border-t\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-start justify-between\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex-1\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardTitle, {\n                                                                    className: \"text-xl mb-2\",\n                                                                    children: lesson.title\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                    lineNumber: 561,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                lesson.description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"text-sm text-muted-foreground line-clamp-2\",\n                                                                    children: lesson.description\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                    lineNumber: 563,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                            lineNumber: 560,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        (((_videos_6 = videos[0]) === null || _videos_6 === void 0 ? void 0 : _videos_6.duration_seconds) || lesson.duration_minutes) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"ml-4 text-sm text-muted-foreground whitespace-nowrap\",\n                                                            children: ((_videos_7 = videos[0]) === null || _videos_7 === void 0 ? void 0 : _videos_7.duration_seconds) ? (0,_lib_utils_format__WEBPACK_IMPORTED_MODULE_9__.formatDuration)(videos[0].duration_seconds) : lesson.duration_minutes ? \"\".concat(lesson.duration_minutes, \" ph\\xfat\") : ''\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                            lineNumber: 570,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                    lineNumber: 559,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 558,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                        lineNumber: 532,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex justify-between items-center gap-4 py-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                variant: \"outline\",\n                                                onClick: handlePreviousLesson,\n                                                disabled: !hasPrevious,\n                                                className: \"flex-1 max-w-[200px]\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                        lineNumber: 592,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    \"B\\xe0i trÆ°á»›c\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 586,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm text-muted-foreground\",\n                                                children: [\n                                                    \"B\\xe0i \",\n                                                    currentIndex + 1,\n                                                    \" / \",\n                                                    allLessons.length\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 596,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                onClick: handleNextLesson,\n                                                disabled: !hasNext,\n                                                className: \"flex-1 max-w-[200px]\",\n                                                children: [\n                                                    \"B\\xe0i sau\",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                        className: \"w-4 h-4 ml-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                        lineNumber: 606,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 600,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                        lineNumber: 585,\n                                        columnNumber: 13\n                                    }, this),\n                                    (lesson.content_type === \"article\" || lesson.contentType === \"ARTICLE\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.Card, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardHeader, {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardTitle, {\n                                                    children: lesson.title\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                    lineNumber: 613,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 612,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardContent, {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"prose prose-sm max-w-none\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        children: lesson.description\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                        lineNumber: 617,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                    lineNumber: 616,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 615,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                        lineNumber: 611,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                lineNumber: 529,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"lg:col-span-1\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.Card, {\n                                    className: \"sticky top-20\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardHeader, {\n                                            className: \"pb-3\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardTitle, {\n                                                className: \"text-base\",\n                                                children: \"Ná»™i dung kh\\xf3a há»c\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 672,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                            lineNumber: 671,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardContent, {\n                                            className: \"p-0\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"max-h-[calc(100vh-200px)] overflow-y-auto\",\n                                                children: modules.map((module)=>{\n                                                    var _module_lessons, _module_exercises, _module_exercises1, _module_lessons1, _module_exercises2;\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"border-b last:border-b-0\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"p-4 bg-muted/50\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                        className: \"font-semibold text-sm\",\n                                                                        children: module.title\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                        lineNumber: 679,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-xs text-muted-foreground mt-1\",\n                                                                        children: [\n                                                                            ((_module_lessons = module.lessons) === null || _module_lessons === void 0 ? void 0 : _module_lessons.length) || 0,\n                                                                            \" b\\xe0i há»c\",\n                                                                            (((_module_exercises = module.exercises) === null || _module_exercises === void 0 ? void 0 : _module_exercises.length) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"text-pink-600 dark:text-pink-400\",\n                                                                                children: [\n                                                                                    \" â€¢ \",\n                                                                                    ((_module_exercises1 = module.exercises) === null || _module_exercises1 === void 0 ? void 0 : _module_exercises1.length) || 0,\n                                                                                    \" b\\xe0i táº­p\"\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                lineNumber: 683,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                        lineNumber: 680,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                lineNumber: 678,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"divide-y\",\n                                                                children: [\n                                                                    (_module_lessons1 = module.lessons) === null || _module_lessons1 === void 0 ? void 0 : _module_lessons1.map((l, index)=>{\n                                                                        var _l_videos_, _l_videos;\n                                                                        const contentType = (l.content_type || l.contentType || 'video').toLowerCase();\n                                                                        // Prioritize video duration_seconds for accurate display\n                                                                        const videoDurationSeconds = ((_l_videos = l.videos) === null || _l_videos === void 0 ? void 0 : (_l_videos_ = _l_videos[0]) === null || _l_videos_ === void 0 ? void 0 : _l_videos_.duration_seconds) || 0;\n                                                                        const durationMinutes = l.duration_minutes || l.duration || 0;\n                                                                        const durationSeconds = videoDurationSeconds > 0 ? videoDurationSeconds : durationMinutes * 60;\n                                                                        const isActive = l.id === params.lessonId;\n                                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>router.push(\"/courses/\".concat(params.courseId, \"/lessons/\").concat(l.id)),\n                                                                            className: \"w-full text-left p-3 transition-all \".concat(isActive ? \"bg-primary/10 border-l-4 border-primary\" : \"hover:bg-muted/50 border-l-4 border-transparent\"),\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex items-start gap-3\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium \".concat(isActive ? \"bg-primary text-primary-foreground\" : \"bg-muted text-muted-foreground\"),\n                                                                                        children: index + 1\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                        lineNumber: 710,\n                                                                                        columnNumber: 33\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"flex-1 min-w-0\",\n                                                                                        children: [\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                                className: \"text-sm font-medium truncate \".concat(isActive ? \"text-primary\" : \"\"),\n                                                                                                children: l.title\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                lineNumber: 719,\n                                                                                                columnNumber: 35\n                                                                                            }, this),\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                className: \"flex items-center gap-2 mt-1\",\n                                                                                                children: [\n                                                                                                    contentType === \"video\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                                                                        children: [\n                                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                                className: \"text-xs text-muted-foreground flex items-center gap-1\",\n                                                                                                                children: [\n                                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                                                                                        className: \"w-3 h-3\"\n                                                                                                                    }, void 0, false, {\n                                                                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                                        lineNumber: 728,\n                                                                                                                        columnNumber: 43\n                                                                                                                    }, this),\n                                                                                                                    \"Video\"\n                                                                                                                ]\n                                                                                                            }, void 0, true, {\n                                                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                                lineNumber: 727,\n                                                                                                                columnNumber: 41\n                                                                                                            }, this),\n                                                                                                            durationSeconds > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                                className: \"text-xs text-muted-foreground\",\n                                                                                                                children: [\n                                                                                                                    \"â€¢ \",\n                                                                                                                    (0,_lib_utils_format__WEBPACK_IMPORTED_MODULE_9__.formatDuration)(durationSeconds)\n                                                                                                                ]\n                                                                                                            }, void 0, true, {\n                                                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                                lineNumber: 732,\n                                                                                                                columnNumber: 43\n                                                                                                            }, this)\n                                                                                                        ]\n                                                                                                    }, void 0, true),\n                                                                                                    contentType === \"article\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                        className: \"text-xs text-muted-foreground flex items-center gap-1\",\n                                                                                                        children: [\n                                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                                                                                className: \"w-3 h-3\"\n                                                                                                            }, void 0, false, {\n                                                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                                lineNumber: 740,\n                                                                                                                columnNumber: 41\n                                                                                                            }, this),\n                                                                                                            \"B\\xe0i Ä‘á»c\"\n                                                                                                        ]\n                                                                                                    }, void 0, true, {\n                                                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                        lineNumber: 739,\n                                                                                                        columnNumber: 39\n                                                                                                    }, this)\n                                                                                                ]\n                                                                                            }, void 0, true, {\n                                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                lineNumber: 724,\n                                                                                                columnNumber: 35\n                                                                                            }, this)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                        lineNumber: 718,\n                                                                                        columnNumber: 33\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                lineNumber: 709,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        }, l.id, false, {\n                                                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                            lineNumber: 700,\n                                                                            columnNumber: 29\n                                                                        }, this);\n                                                                    }),\n                                                                    (_module_exercises2 = module.exercises) === null || _module_exercises2 === void 0 ? void 0 : _module_exercises2.map((ex, index)=>{\n                                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>router.push(\"/exercises/\".concat(ex.id)),\n                                                                            className: \"w-full text-left p-3 transition-all bg-pink-50/50 dark:bg-pink-950/10 hover:bg-pink-100 dark:hover:bg-pink-950/20 border-l-4 border-transparent hover:border-pink-500\",\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex items-start gap-3\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium bg-pink-200 dark:bg-pink-900 text-pink-700 dark:text-pink-300\",\n                                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                                                            className: \"w-3 h-3\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                            lineNumber: 761,\n                                                                                            columnNumber: 35\n                                                                                        }, this)\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                        lineNumber: 760,\n                                                                                        columnNumber: 33\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"flex-1 min-w-0\",\n                                                                                        children: [\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                                className: \"text-sm font-medium truncate text-pink-700 dark:text-pink-300\",\n                                                                                                children: ex.title\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                lineNumber: 765,\n                                                                                                columnNumber: 35\n                                                                                            }, this),\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                className: \"flex items-center gap-2 mt-1\",\n                                                                                                children: [\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                        className: \"text-xs text-pink-600 dark:text-pink-400 flex items-center gap-1 font-medium\",\n                                                                                                        children: [\n                                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                                                                                                className: \"w-3 h-3\"\n                                                                                                            }, void 0, false, {\n                                                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                                lineNumber: 770,\n                                                                                                                columnNumber: 39\n                                                                                                            }, this),\n                                                                                                            ex.total_questions,\n                                                                                                            \" c\\xe2u há»i\"\n                                                                                                        ]\n                                                                                                    }, void 0, true, {\n                                                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                        lineNumber: 769,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this),\n                                                                                                    ex.time_limit_minutes && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                        className: \"text-xs text-pink-600 dark:text-pink-400\",\n                                                                                                        children: [\n                                                                                                            \"â€¢ \",\n                                                                                                            ex.time_limit_minutes,\n                                                                                                            \"m\"\n                                                                                                        ]\n                                                                                                    }, void 0, true, {\n                                                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                        lineNumber: 774,\n                                                                                                        columnNumber: 39\n                                                                                                    }, this)\n                                                                                                ]\n                                                                                            }, void 0, true, {\n                                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                lineNumber: 768,\n                                                                                                columnNumber: 35\n                                                                                            }, this)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                        lineNumber: 764,\n                                                                                        columnNumber: 33\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                lineNumber: 759,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        }, ex.id, false, {\n                                                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                            lineNumber: 754,\n                                                                            columnNumber: 29\n                                                                        }, this);\n                                                                    })\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                lineNumber: 687,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, module.id, true, {\n                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                        lineNumber: 677,\n                                                        columnNumber: 21\n                                                    }, this);\n                                                })\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 675,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                            lineNumber: 674,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                    lineNumber: 670,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                lineNumber: 669,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                        lineNumber: 528,\n                        columnNumber: 9\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                    lineNumber: 527,\n                    columnNumber: 7\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n            lineNumber: 495,\n            columnNumber: 5\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n        lineNumber: 494,\n        columnNumber: 5\n    }, this);\n}\n_s(LessonPlayerPage, \"jsMJnIjh4Bc/X9hzkIL9RUAp3B0=\", false, function() {\n    return [\n        _lib_i18n__WEBPACK_IMPORTED_MODULE_12__.useTranslations,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useParams,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        _lib_contexts_preferences_context__WEBPACK_IMPORTED_MODULE_11__.usePreferences,\n        _lib_hooks_use_youtube_progress__WEBPACK_IMPORTED_MODULE_10__.useYouTubeProgress\n    ];\n});\n_c = LessonPlayerPage;\nvar _c;\n$RefreshReg$(_c, \"LessonPlayerPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9jb3Vyc2VzL1tjb3Vyc2VJZF0vbGVzc29ucy9bbGVzc29uSWRdL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLZ0U7QUFDVjtBQUNQO0FBQ1c7QUFDUTtBQUNhO0FBZ0IxRDtBQUN5QjtBQUNBO0FBRUs7QUFDa0I7QUFDRjtBQUN2QjtBQUU3QixTQUFTMkI7UUFtRmlCQyx5QkFBQUEsVUFBMERBLFdBT2hGQSxXQXlaRUEsMEJBQUFBLFdBQTBEQSxXQU12REEsV0E0QkZBLFdBRUdBOztJQXJoQnZCLE1BQU1DLElBQUlILDJEQUFlQSxDQUFDO0lBRTFCLE1BQU1JLFNBQVMxQiwwREFBU0E7SUFDeEIsTUFBTTJCLFNBQVMxQiwwREFBU0E7SUFDeEIsTUFBTTJCLFdBQVc5Qiw2Q0FBTUEsQ0FBbUI7SUFFMUMsTUFBTSxDQUFDK0IsUUFBUUMsVUFBVSxHQUFHbEMsK0NBQVFBLENBQWdCO0lBQ3BELE1BQU0sQ0FBQzRCLFFBQVFPLFVBQVUsR0FBR25DLCtDQUFRQSxDQUFRLEVBQUU7SUFDOUMsTUFBTSxDQUFDb0MsU0FBU0MsV0FBVyxHQUFHckMsK0NBQVFBLENBQVcsRUFBRTtJQUNuRCxNQUFNLENBQUNzQyxTQUFTQyxXQUFXLEdBQUd2QywrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUN3QyxXQUFXQyxhQUFhLEdBQUd6QywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUMwQyxTQUFTQyxXQUFXLEdBQUczQywrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUM0QyxhQUFhQyxlQUFlLEdBQUc3QywrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUM4QyxVQUFVQyxZQUFZLEdBQUcvQywrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNLENBQUNnRCxNQUFNQyxRQUFRLEdBQUdqRCwrQ0FBUUEsQ0FBQztJQUNqQyxNQUFNLENBQUNrRCxPQUFPQyxTQUFTLEdBQUduRCwrQ0FBUUEsQ0FBZ0Ys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QXVIdkM7R0F4dkJ3QmhIOztRQUVaRCx1REFBZUE7UUFFVnRCLHNEQUFTQTtRQUNUQyxzREFBU0E7UUF1QkFvQiw4RUFBY0E7UUE4R2RELGdGQUFrQkE7OztLQTFJcEJHIiwic291cmNlcyI6WyIvVXNlcnMvYmlzb3NhZC9EQVROL0Zyb250ZW5kLUlFTFRTR28vYXBwL2NvdXJzZXMvW2NvdXJzZUlkXS9sZXNzb25zL1tsZXNzb25JZF0vcGFnZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuLy8gUmVzdW1lIHdhdGNoaW5nIGZlYXR1cmUgKyBWaWRlbyBoaXN0b3J5IHRyYWNraW5nXG5pbXBvcnQgdHlwZSBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IHVzZVBhcmFtcywgdXNlUm91dGVyIH0gZnJvbSBcIm5leHQvbmF2aWdhdGlvblwiXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblwiXG5pbXBvcnQgeyBBcHBMYXlvdXQgfSBmcm9tIFwiQC9jb21wb25lbnRzL2xheW91dC9hcHAtbGF5b3V0XCJcbmltcG9ydCB7IFBhZ2VDb250YWluZXIgfSBmcm9tIFwiQC9jb21wb25lbnRzL2xheW91dC9wYWdlLWNvbnRhaW5lclwiXG5pbXBvcnQgeyBDYXJkLCBDYXJkQ29udGVudCwgQ2FyZEhlYWRlciwgQ2FyZFRpdGxlIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9jYXJkXCJcbmltcG9ydCB7IFRleHRhcmVhIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS90ZXh0YXJlYVwiXG5pbXBvcnQgeyBUYWJzLCBUYWJzQ29udGVudCwgVGFic0xpc3QsIFRhYnNUcmlnZ2VyIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS90YWJzXCJcbmltcG9ydCB7XG4gIENoZXZyb25MZWZ0LFxuICBDaGV2cm9uUmlnaHQsXG4gIENoZWNrQ2lyY2xlLFxuICBQbGF5Q2lyY2xlLFxuICBQYXVzZUNpcmNsZSxcbiAgVm9sdW1lMixcbiAgVm9sdW1lWCxcbiAgTWF4aW1pemUsXG4gIEZpbGVUZXh0LFxuICBMb2FkZXIyLFxuICBQZW5Ub29sLFxuICBUYXJnZXQsXG59IGZyb20gXCJsdWNpZGUtcmVhY3RcIlxuaW1wb3J0IHsgY291cnNlc0FwaSB9IGZyb20gXCJAL2xpYi9hcGkvY291cnNlc1wiXG5pbXBvcnQgeyBnZXRUb2tlbiB9IGZyb20gXCJAL2xpYi9hcGkvYXBpQ2xpZW50XCJcbmltcG9ydCB0eXBlIHsgTGVzc29uLCBNb2R1bGUgfSBmcm9tIFwiQC90eXBlc1wiXG5pbXBvcnQgeyBmb3JtYXREdXJhdGlvbiB9IGZyb20gXCJAL2xpYi91dGlscy9mb3JtYXRcIlxuaW1wb3J0IHsgdXNlWW91VHViZVByb2dyZXNzIH0gZnJvbSBcIkAvbGliL2hvb2tzL3VzZS15b3V0dWJlLXByb2dyZXNzXCJcbmltcG9ydCB7IHVzZVByZWZlcmVuY2VzIH0gZnJvbSBcIkAvbGliL2NvbnRleHRzL3ByZWZlcmVuY2VzLWNvbnRleHRcIlxuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb25zIH0gZnJvbSAnQC9saWIvaTE4bidcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTGVzc29uUGxheWVyUGFnZSgpIHtcblxuICBjb25zdCB0ID0gdXNlVHJhbnNsYXRpb25zKCdjb3Vyc2VzJylcblxuICBjb25zdCBwYXJhbXMgPSB1c2VQYXJhbXMoKVxuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKVxuICBjb25zdCB2aWRlb1JlZiA9IHVzZVJlZjxIVE1MVmlkZW9FbGVtZW50PihudWxsKVxuXG4gIGNvbnN0IFtsZXNzb24sIHNldExlc3Nvbl0gPSB1c2VTdGF0ZTxMZXNzb24gfCBudWxsPihudWxsKVxuICBjb25zdCBbdmlkZW9zLCBzZXRWaWRlb3NdID0gdXNlU3RhdGU8YW55W10+KFtdKVxuICBjb25zdCBbbW9kdWxlcywgc2V0TW9kdWxlc10gPSB1c2VTdGF0ZTxNb2R1bGVbXT4oW10pXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpXG4gIGNvbnN0IFtpc1BsYXlpbmcsIHNldElzUGxheWluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2lzTXV0ZWQsIHNldElzTXV0ZWRdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtjdXJyZW50VGltZSwgc2V0Q3VycmVudFRpbWVdID0gdXNlU3RhdGUoMClcbiAgY29uc3QgW2R1cmF0aW9uLCBzZXREdXJhdGlvbl0gPSB1c2VTdGF0ZSgwKVxuICBjb25zdCBbbm90ZSwgc2V0Tm90ZV0gPSB1c2VTdGF0ZShcIlwiKVxuICBjb25zdCBbbm90ZXMsIHNldE5vdGVzXSA9IHVzZVN0YXRlPEFycmF5PHsgaWQ6IHN0cmluZzsgY29udGVudDogc3RyaW5nOyB0aW1lc3RhbXA/OiBudW1iZXI7IGNyZWF0ZWRBdDogc3RyaW5nIH0+PihbXSlcbiAgY29uc3QgW2xhc3RQb3NpdGlvbiwgc2V0TGFzdFBvc2l0aW9uXSA9IHVzZVN0YXRlKDApIC8vIOKchSBGb3IgcmVzdW1lIHdhdGNoaW5nXG4gIGNvbnN0IFtwcm9ncmVzc0xvYWRlZCwgc2V0UHJvZ3Jlc3NMb2FkZWRdID0gdXNlU3RhdGUoZmFsc2UpIC8vIOKchSBUcmFjayBpZiBwcm9ncmVzcyBoYXMgYmVlbiBmZXRjaGVkXG4gIC8vIOKchSBHZW5lcmF0ZSBVVUlEIGZvciBzZXNzaW9uIChiYWNrZW5kIGV4cGVjdHMgVVVJRCBmb3JtYXQpXG4gIGNvbnN0IHNlc3Npb25JZFJlZiA9IHVzZVJlZjxzdHJpbmcgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCkgLy8gT3B0aW9uYWwsIGJhY2tlbmQgd2lsbCBoYW5kbGUgaWYgbWlzc2luZ1xuICBcbiAgLy8gVHJhY2sgdGltZSBzcGVudCBvbiBwYWdlIChmb3Igbm9uLXZpZGVvIGxlc3NvbnMpXG4gIGNvbnN0IHBhZ2VTdGFydFRpbWVSZWYgPSB1c2VSZWY8bnVtYmVyPihEYXRlLm5vdygpKVxuICBjb25zdCB0b3RhbFRpbWVTcGVudFJlZiA9IHVzZVJlZjxudW1iZXI+KDApXG4gIFxuICAvLyDinIUgR2V0IHVzZXIgcHJlZmVyZW5jZXMgZm9yIHBsYXliYWNrIHNwZWVkIGFuZCBhdXRvLXBsYXlcbiAgY29uc3QgeyBwcmVmZXJlbmNlcyB9ID0gdXNlUHJlZmVyZW5jZXMoKVxuICBjb25zdCBwbGF5YmFja1NwZWVkID0gcHJlZmVyZW5jZXM/LnBsYXliYWNrX3NwZWVkIHx8IDEuMFxuICBjb25zdCBhdXRvUGxheU5leHQgPSBwcmVmZXJlbmNlcz8uYXV0b19wbGF5X25leHRfbGVzc29uIHx8IGZhbHNlXG5cbiAgLy8gU2VuZCBwcm9ncmVzcyB1cGRhdGUgdG8gYmFja2VuZFxuICBjb25zdCBzZW5kUHJvZ3Jlc3NVcGRhdGUgPSBhc3luYyAoZGF0YToge1xuICAgIHZpZGVvV2F0Y2hlZFNlY29uZHM/OiBudW1iZXJcbiAgICB2aWRlb1RvdGFsU2Vjb25kcz86IG51bWJlclxuICAgIHByb2dyZXNzUGVyY2VudGFnZT86IG51bWJlclxuICAgIGlzQ29tcGxldGVkPzogYm9vbGVhblxuICAgIHVzZUtlZXBhbGl2ZT86IGJvb2xlYW5cbiAgfSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXlsb2FkOiBhbnkgPSB7fVxuXG4gICAgICBpZiAoZGF0YS52aWRlb1dhdGNoZWRTZWNvbmRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGF5bG9hZC52aWRlb193YXRjaGVkX3NlY29uZHMgPSBkYXRhLnZpZGVvV2F0Y2hlZFNlY29uZHNcbiAgICAgIH1cbiAgICAgIGlmIChkYXRhLnZpZGVvVG90YWxTZWNvbmRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGF5bG9hZC52aWRlb190b3RhbF9zZWNvbmRzID0gZGF0YS52aWRlb1RvdGFsU2Vjb25kc1xuICAgICAgfVxuICAgICAgaWYgKGRhdGEucHJvZ3Jlc3NQZXJjZW50YWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGF5bG9hZC5wcm9ncmVzc19wZXJjZW50YWdlID0gZGF0YS5wcm9ncmVzc1BlcmNlbnRhZ2VcbiAgICAgIH1cbiAgICAgIGlmIChkYXRhLmlzQ29tcGxldGVkKSB7XG4gICAgICAgIHBheWxvYWQuaXNfY29tcGxldGVkID0gdHJ1ZVxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygnW0xlc3NvbiBQbGF5ZXJdIFNlbmRpbmcgcHJvZ3Jlc3M6JywgcGF5bG9hZClcblxuICAgICAgaWYgKGRhdGEudXNlS2VlcGFsaXZlKSB7XG4gICAgICAgIC8vIFVzZSBmZXRjaCB3aXRoIGtlZXBhbGl2ZSBmb3IgcGFnZSB1bmxvYWRcbiAgICAgICAgY29uc3QgdG9rZW4gPSBnZXRUb2tlbigpXG4gICAgICAgIGNvbnN0IGJhc2UgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8IFwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaS92MVwiXG4gICAgICAgIGNvbnN0IHVybCA9IGAke2Jhc2V9L3Byb2dyZXNzL2xlc3NvbnMvJHtwYXJhbXMubGVzc29uSWR9YFxuICAgICAgICBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICAuLi4odG9rZW4gPyB7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gIH0gOiB7fSksXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICBrZWVwYWxpdmU6IHRydWUsXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCBjb3Vyc2VzQXBpLnVwZGF0ZUxlc3NvblByb2dyZXNzKHBhcmFtcy5sZXNzb25JZCBhcyBzdHJpbmcsIHBheWxvYWQpXG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCdbTGVzc29uIFBsYXllcl0gUHJvZ3Jlc3Mgc2VudCBzdWNjZXNzZnVsbHknKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbTGVzc29uIFBsYXllcl0gRmFpbGVkIHRvIHNlbmQgcHJvZ3Jlc3M6JywgZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBhIFlvdVR1YmUgdmlkZW9cbiAgY29uc3QgaXNZb3VUdWJlID0gdmlkZW9zLmxlbmd0aCA+IDAgJiYgdmlkZW9zWzBdPy52aWRlb19wcm92aWRlcj8udG9Mb3dlckNhc2UoKSA9PT0gJ3lvdXR1YmUnICYmIHZpZGVvc1swXT8udmlkZW9faWRcbiAgY29uc3QgeW91dHViZVZpZGVvSWQgPSBpc1lvdVR1YmUgPyB2aWRlb3NbMF0udmlkZW9faWQgOiAnJ1xuICBcbiAgY29uc29sZS5sb2coJ/CfjqUgW0xlc3NvbiBQbGF5ZXJdIENvbXBvbmVudCByZW5kZXI6Jywge1xuICAgIGhhc1ZpZGVvczogdmlkZW9zLmxlbmd0aCA+IDAsXG4gICAgaXNZb3VUdWJlLFxuICAgIHlvdXR1YmVWaWRlb0lkLFxuICAgIHZpZGVvUHJvdmlkZXI6IHZpZGVvc1swXT8udmlkZW9fcHJvdmlkZXIsXG4gIH0pXG5cbiAgLy8g4pyFIE1lbW9pemUgb25Qcm9ncmVzc1VwZGF0ZSDEkeG7gyB0csOhbmggcmUtcmVuZGVyIGxvb3BcbiAgY29uc3QgaGFuZGxlUHJvZ3Jlc3NVcGRhdGUgPSB1c2VDYWxsYmFjaygoZGF0YToge1xuICAgIGN1cnJlbnRUaW1lOiBudW1iZXJcbiAgICBkdXJhdGlvbjogbnVtYmVyXG4gICAgd2F0Y2hlZFNlY29uZHM6IG51bWJlclxuICAgIHByb2dyZXNzUGVyY2VudGFnZTogbnVtYmVyXG4gICAgYWNjdW11bGF0ZWRUaW1lOiBudW1iZXJcbiAgICBsYXN0UG9zaXRpb246IG51bWJlclxuICAgIGNvbXBsZXRlZDogYm9vbGVhblxuICB9KSA9PiB7XG4gICAgLy8g4p2MIFJFTU9WRUQ6IHNldEN1cnJlbnRUaW1lL3NldER1cmF0aW9uIGNhdXNlIHJlLXJlbmRlciBsb29wIVxuICAgIC8vIOKchSBVc2UgeW91dHViZVByb2dyZXNzLmN1cnJlbnRUaW1lL2R1cmF0aW9uIGRpcmVjdGx5IGluc3RlYWRcbiAgICBcbiAgICBjb25zb2xlLmxvZygnW1lvdVR1YmUgSG9va10gUHJvZ3Jlc3M6Jywge1xuICAgICAgYWNjdW11bGF0ZWRUaW1lOiBkYXRhLmFjY3VtdWxhdGVkVGltZSxcbiAgICAgIGxhc3RQb3NpdGlvbjogZGF0YS5sYXN0UG9zaXRpb24sXG4gICAgICB3YXRjaGVkU2Vjb25kczogZGF0YS53YXRjaGVkU2Vjb25kcyxcbiAgICB9KVxuICAgIFxuICAgIC8vIOKchSBEw7luZyBhY2N1bXVsYXRlZCB0aW1lIHThu6sgaG9vayAodGjhu51pIGdpYW4gdGjhu7FjIHPhu7EgeGVtKVxuICAgIC8vIFNlbmQgcHJvZ3Jlc3MgdG8gYmFja2VuZCB24bubaSBsYXN0IHBvc2l0aW9uICsgdmlkZW8gc3RhdHNcbiAgICBjb25zdCBwYXlsb2FkOiBhbnkgPSB7XG4gICAgICB2aWRlb193YXRjaGVkX3NlY29uZHM6IGRhdGEud2F0Y2hlZFNlY29uZHMsXG4gICAgICB2aWRlb190b3RhbF9zZWNvbmRzOiBNYXRoLmZsb29yKGRhdGEuZHVyYXRpb24pLFxuICAgICAgLy8g4pqg77iPIERvbid0IHNlbmQgcHJvZ3Jlc3NfcGVyY2VudGFnZSAtIGxldCBiYWNrZW5kIGF1dG8tY2FsY3VsYXRlIGZyb20gbGFzdF9wb3NpdGlvblxuICAgICAgLy8gVGhpcyBlbnN1cmVzIGNvbnNpc3RlbnQgY2FsY3VsYXRpb246IHByb2dyZXNzID0gbGFzdF9wb3NpdGlvbiAvIHRvdGFsX2R1cmF0aW9uICogMTAwXG4gICAgICBsYXN0X3Bvc2l0aW9uX3NlY29uZHM6IGRhdGEubGFzdFBvc2l0aW9uLCAvLyDinIUgTMawdSB24buLIHRyw60gxJHhu4MgcmVzdW1lXG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdbTGVzc29uIFBsYXllcl0gU2VuZGluZyBZb3VUdWJlIHByb2dyZXNzOicsIHBheWxvYWQpXG4gICAgXG4gICAgLy8gVXBkYXRlIGxlc3NvbiBwcm9ncmVzc1xuICAgIGNvdXJzZXNBcGkudXBkYXRlTGVzc29uUHJvZ3Jlc3MocGFyYW1zLmxlc3NvbklkIGFzIHN0cmluZywgcGF5bG9hZClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tMZXNzb24gUGxheWVyXSBZb3VUdWJlIHByb2dyZXNzIHNlbnQgc3VjY2Vzc2Z1bGx5JylcbiAgICAgICAgXG4gICAgICAgIC8vIOKEue+4jyBWaWRlbyB0cmFja2luZyByZW1vdmVkIC0gbGVzc29uIHByb2dyZXNzIGFscmVhZHkgaW5jbHVkZXMgYWxsIHZpZGVvIG1ldHJpY3NcbiAgICAgICAgLy8gKHdhdGNoZWRfc2Vjb25kcywgdG90YWxfc2Vjb25kcywgbGFzdF9wb3NpdGlvbiwgZXRjLilcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKCdbTGVzc29uIFBsYXllcl0gRmFpbGVkIHRvIHNlbmQgWW91VHViZSBwcm9ncmVzczonLCBlcnJvcikpXG4gIH0sIFtwYXJhbXMubGVzc29uSWQsIHZpZGVvc10pXG5cbiAgLy8gSW5pdGlhbGl6ZSBZb3VUdWJlIHBsYXllciBhbmQgdHJhY2tpbmcgKG9ubHkgZm9yIFlvdVR1YmUgdmlkZW9zKVxuICAvLyBIb29rIE1VU1QgYmUgY2FsbGVkIHVuY29uZGl0aW9uYWxseSwgYnV0IHdpdGggZW1wdHkgdmlkZW9JZCBpdCB3aWxsIHNraXAgaW5pdFxuICAvLyDinIUgT25seSBwYXNzIHZpZGVvSWQgYWZ0ZXIgcHJvZ3Jlc3MgaXMgbG9hZGVkIHRvIGVuc3VyZSBzdGFydFBvc2l0aW9uIGlzIGNvcnJlY3RcbiAgY29uc3QgeW91dHViZVByb2dyZXNzID0gdXNlWW91VHViZVByb2dyZXNzKHtcbiAgICB2aWRlb0lkOiBwcm9ncmVzc0xvYWRlZCA/IHlvdXR1YmVWaWRlb0lkIDogJycsIC8vIOKchSBXYWl0IGZvciBwcm9ncmVzcyB0byBsb2FkIGZpcnN0XG4gICAgc3RhcnRQb3NpdGlvbjogbGFzdFBvc2l0aW9uLCAvLyDinIUgUmVzdW1lIGZyb20gbGFzdCBwb3NpdGlvblxuICAgIG9uUHJvZ3Jlc3NVcGRhdGU6IGhhbmRsZVByb2dyZXNzVXBkYXRlLFxuICAgIHVwZGF0ZUludGVydmFsOiA1MDAwLCAvLyBTZW5kIHVwZGF0ZSBldmVyeSA1IHNlY29uZHNcbiAgICBhdXRvUGxheTogZmFsc2UsIC8vIERvbid0IGF1dG8gcGxheVxuICAgIHBsYXliYWNrU3BlZWQ6IHBsYXliYWNrU3BlZWQsIC8vIOKchSBBcHBseSB1c2VyJ3MgcHJlZmVycmVkIHBsYXliYWNrIHNwZWVkXG4gIH0pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnW0xlc3NvbiBQbGF5ZXJdIPCfjqwgdXNlRWZmZWN0IHRyaWdnZXJlZCBmb3IgbGVzc29uOicsIHBhcmFtcy5sZXNzb25JZClcbiAgICBcbiAgICBjb25zdCBmZXRjaExlc3NvbkRhdGEgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBzZXRMb2FkaW5nKHRydWUpXG4gICAgICAgIGNvbnNvbGUubG9nKCdbTGVzc29uIFBsYXllcl0g8J+UjSBGZXRjaGluZyBsZXNzb24gZGF0YS4uLicpXG4gICAgICAgIFxuICAgICAgICAvLyBGaXg6IGdldExlc3NvbkJ5SWQgb25seSB0YWtlcyBsZXNzb25JZCwgbm90IGNvdXJzZUlkXG4gICAgICAgIGNvbnN0IGxlc3NvbkRhdGEgPSBhd2FpdCBjb3Vyc2VzQXBpLmdldExlc3NvbkJ5SWQocGFyYW1zLmxlc3NvbklkIGFzIHN0cmluZylcbiAgICAgICAgY29uc29sZS5sb2coJ1tMZXNzb24gUGxheWVyXSDinIUgTGVzc29uIGRhdGEgcmVjZWl2ZWQ6Jywge1xuICAgICAgICAgIGxlc3NvbjogbGVzc29uRGF0YS5sZXNzb24/LnRpdGxlLFxuICAgICAgICAgIHZpZGVvc0NvdW50OiBsZXNzb25EYXRhLnZpZGVvcz8ubGVuZ3RoLFxuICAgICAgICAgIGZpcnN0VmlkZW86IGxlc3NvbkRhdGEudmlkZW9zPy5bMF1cbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIHNldExlc3NvbihsZXNzb25EYXRhLmxlc3NvbilcbiAgICAgICAgc2V0VmlkZW9zKGxlc3NvbkRhdGEudmlkZW9zIHx8IFtdKVxuXG4gICAgICAgIGNvbnNvbGUubG9nKCdbTGVzc29uIFBsYXllcl0gVmlkZW8gZGF0YTonLCBsZXNzb25EYXRhLnZpZGVvcylcbiAgICAgICAgY29uc29sZS5sb2coJ1tMZXNzb24gUGxheWVyXSBJcyBZb3VUdWJlPycsIGxlc3NvbkRhdGEudmlkZW9zPy5bMF0/LnZpZGVvX3Byb3ZpZGVyLCBsZXNzb25EYXRhLnZpZGVvcz8uWzBdPy52aWRlb19pZClcblxuICAgICAgICAvLyDinIUgTG9hZCBsYXN0IHBvc2l0aW9uIMSR4buDIHJlc3VtZSB3YXRjaGluZyAoQkVGT1JFIHJlbmRlcmluZyBwbGF5ZXIpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBhd2FpdCBjb3Vyc2VzQXBpLmdldExlc3NvblByb2dyZXNzKHBhcmFtcy5sZXNzb25JZCBhcyBzdHJpbmcpXG4gICAgICAgICAgY29uc29sZS5sb2coJ1tMZXNzb24gUGxheWVyXSDwn5OKIFByb2dyZXNzIHJlc3BvbnNlOicsIHByb2dyZXNzKVxuICAgICAgICAgIGlmIChwcm9ncmVzcyAmJiBwcm9ncmVzcy5sYXN0X3Bvc2l0aW9uX3NlY29uZHMgPiAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW0xlc3NvbiBQbGF5ZXJdIPCflIQgRm91bmQgc2F2ZWQgcG9zaXRpb246JywgcHJvZ3Jlc3MubGFzdF9wb3NpdGlvbl9zZWNvbmRzLCAnc2Vjb25kcycpXG4gICAgICAgICAgICBzZXRMYXN0UG9zaXRpb24ocHJvZ3Jlc3MubGFzdF9wb3NpdGlvbl9zZWNvbmRzKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW0xlc3NvbiBQbGF5ZXJdIOKPre+4jyBTdGFydGluZyBmcm9tIGJlZ2lubmluZyAocHJvZ3Jlc3M6JywgcHJvZ3Jlc3MsICdsYXN0X3Bvc2l0aW9uOicsIHByb2dyZXNzPy5sYXN0X3Bvc2l0aW9uX3NlY29uZHMsICcpJylcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tMZXNzb24gUGxheWVyXSDinYwgTm8gcHJldmlvdXMgcHJvZ3Jlc3MgZm91bmQsIHN0YXJ0aW5nIGZyb20gYmVnaW5uaW5nOicsIGVycm9yKVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyDinIUgTWFyayBwcm9ncmVzcyBhcyBsb2FkZWQgc28gcGxheWVyIGNhbiBpbml0aWFsaXplIHdpdGggY29ycmVjdCBzdGFydFBvc2l0aW9uXG4gICAgICAgIHNldFByb2dyZXNzTG9hZGVkKHRydWUpXG5cbiAgICAgICAgLy8gR2V0IGNvdXJzZSBkZXRhaWwgd2l0aCBtb2R1bGVzIGFuZCBsZXNzb25zIChpbmNsdWRpbmcgdmlkZW9zKVxuICAgICAgICBjb25zdCBjb3Vyc2VEZXRhaWwgPSBhd2FpdCBjb3Vyc2VzQXBpLmdldENvdXJzZUJ5SWQocGFyYW1zLmNvdXJzZUlkIGFzIHN0cmluZylcblxuICAgICAgICAvLyBBdXRvLWVucm9sbCBpZiBub3QgZW5yb2xsZWQgYW5kIHVzZXIgaXMgYXV0aGVudGljYXRlZFxuICAgICAgICBjb25zdCB0b2tlbiA9IGdldFRva2VuKClcbiAgICAgICAgaWYgKHRva2VuICYmIGNvdXJzZURldGFpbCAmJiBjb3Vyc2VEZXRhaWwuaXNfZW5yb2xsZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGNvdXJzZXNBcGkuZW5yb2xsQ291cnNlKHBhcmFtcy5jb3Vyc2VJZCBhcyBzdHJpbmcpXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW0xlc3NvbiBQbGF5ZXJdIEF1dG8tZW5yb2xsZWQgdG8gY291cnNlOicsIHBhcmFtcy5jb3Vyc2VJZClcbiAgICAgICAgICB9IGNhdGNoIChlbkVycikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbTGVzc29uIFBsYXllcl0gRmFpbGVkIHRvIGF1dG8tZW5yb2xsOicsIGVuRXJyKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gVHJhbnNmb3JtIHRoZSBtb2R1bGVzIGRhdGEgdG8gbWF0Y2ggb3VyIE1vZHVsZSB0eXBlXG4gICAgICAgIC8vIFVQREFURUQ6IEluY2x1ZGUgZXhlcmNpc2VzIGZyb20gQVBJXG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybWVkTW9kdWxlczogTW9kdWxlW10gPSBjb3Vyc2VEZXRhaWwubW9kdWxlcy5tYXAoKG1vZHVsZURhdGE6IGFueSwgaW5kZXg6IG51bWJlcikgPT4gKHtcbiAgICAgICAgICBpZDogbW9kdWxlRGF0YS5tb2R1bGUuaWQsXG4gICAgICAgICAgY291cnNlX2lkOiBwYXJhbXMuY291cnNlSWQgYXMgc3RyaW5nLFxuICAgICAgICAgIHRpdGxlOiBtb2R1bGVEYXRhLm1vZHVsZS50aXRsZSB8fCBgTW9kdWxlICR7aW5kZXggKyAxfWAsXG4gICAgICAgICAgZGlzcGxheV9vcmRlcjogbW9kdWxlRGF0YS5tb2R1bGUuZGlzcGxheV9vcmRlciB8fCBpbmRleCArIDEsXG4gICAgICAgICAgdG90YWxfbGVzc29uczogbW9kdWxlRGF0YS5sZXNzb25zPy5sZW5ndGggfHwgMCxcbiAgICAgICAgICB0b3RhbF9leGVyY2lzZXM6IG1vZHVsZURhdGEuZXhlcmNpc2VzPy5sZW5ndGggfHwgMCwgIC8vIE5FV1xuICAgICAgICAgIGlzX3B1Ymxpc2hlZDogdHJ1ZSxcbiAgICAgICAgICBjcmVhdGVkX2F0OiBtb2R1bGVEYXRhLm1vZHVsZS5jcmVhdGVkX2F0IHx8IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICB1cGRhdGVkX2F0OiBtb2R1bGVEYXRhLm1vZHVsZS51cGRhdGVkX2F0IHx8IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICBsZXNzb25zOiBtb2R1bGVEYXRhLmxlc3NvbnMgfHwgW10sXG4gICAgICAgICAgZXhlcmNpc2VzOiBtb2R1bGVEYXRhLmV4ZXJjaXNlcyB8fCBbXSwgIC8vIE5FV1xuICAgICAgICB9KSlcbiAgICAgICAgXG4gICAgICAgIHNldE1vZHVsZXModHJhbnNmb3JtZWRNb2R1bGVzKVxuXG4gICAgICAgIC8vIFRPRE86IEJhY2tlbmQgbm90ZXMgZW5kcG9pbnQgbm90IGltcGxlbWVudGVkIHlldFxuICAgICAgICAvLyBjb25zdCBsZXNzb25Ob3RlcyA9IGF3YWl0IGNvdXJzZXNBcGkuZ2V0TGVzc29uTm90ZXMocGFyYW1zLmNvdXJzZUlkIGFzIHN0cmluZywgcGFyYW1zLmxlc3NvbklkIGFzIHN0cmluZylcbiAgICAgICAgLy8gc2V0Tm90ZXMobGVzc29uTm90ZXMpXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiW3YwXSBGYWlsZWQgdG8gZmV0Y2ggbGVzc29uOlwiLCBlcnJvcilcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpXG4gICAgICB9XG4gICAgfVxuXG4gICAgZmV0Y2hMZXNzb25EYXRhKClcbiAgfSwgW3BhcmFtcy5jb3Vyc2VJZCwgcGFyYW1zLmxlc3NvbklkXSlcblxuICAvLyBUcmFjayBIVE1MNSB2aWRlbyBwcm9ncmVzcyAoZm9yIG5vbi1Zb3VUdWJlIHZpZGVvcylcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB2aWRlbyA9IHZpZGVvUmVmLmN1cnJlbnRcbiAgICBpZiAoIXZpZGVvIHx8IGlzWW91VHViZSkgcmV0dXJuXG5cbiAgICBsZXQgcHJvZ3Jlc3NJbnRlcnZhbDogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbFxuXG4gICAgLy8g4pyFIEFwcGx5IHBsYXliYWNrIHNwZWVkIGZyb20gdXNlciBwcmVmZXJlbmNlc1xuICAgIGlmIChwbGF5YmFja1NwZWVkICYmIHBsYXliYWNrU3BlZWQgIT09IDEuMCkge1xuICAgICAgdmlkZW8ucGxheWJhY2tSYXRlID0gcGxheWJhY2tTcGVlZFxuICAgICAgY29uc29sZS5sb2coJ1tIVE1MNSBWaWRlb10g8J+Omu+4jyBQbGF5YmFjayBzcGVlZCBzZXQgdG86JywgcGxheWJhY2tTcGVlZClcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVUaW1lVXBkYXRlID0gKCkgPT4ge1xuICAgICAgc2V0Q3VycmVudFRpbWUodmlkZW8uY3VycmVudFRpbWUpXG4gICAgfVxuXG4gICAgY29uc3QgaGFuZGxlTG9hZGVkTWV0YWRhdGEgPSAoKSA9PiB7XG4gICAgICBzZXREdXJhdGlvbih2aWRlby5kdXJhdGlvbilcbiAgICAgIC8vIOKchSBFbnN1cmUgcGxheWJhY2sgc3BlZWQgaXMgc2V0IGFmdGVyIG1ldGFkYXRhIGxvYWRzXG4gICAgICBpZiAocGxheWJhY2tTcGVlZCAmJiBwbGF5YmFja1NwZWVkICE9PSAxLjApIHtcbiAgICAgICAgdmlkZW8ucGxheWJhY2tSYXRlID0gcGxheWJhY2tTcGVlZFxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGhhbmRsZVBsYXkgPSAoKSA9PiB7XG4gICAgICBzZXRJc1BsYXlpbmcodHJ1ZSlcbiAgICAgIC8vIFNlbmQgcHJvZ3Jlc3MgZXZlcnkgNSBzZWNvbmRzIHdoaWxlIHBsYXlpbmdcbiAgICAgIHByb2dyZXNzSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGlmICh2aWRlby5kdXJhdGlvbiA+IDApIHtcbiAgICAgICAgICBzZW5kUHJvZ3Jlc3NVcGRhdGUoe1xuICAgICAgICAgICAgdmlkZW9XYXRjaGVkU2Vjb25kczogTWF0aC5mbG9vcih2aWRlby5jdXJyZW50VGltZSksXG4gICAgICAgICAgICB2aWRlb1RvdGFsU2Vjb25kczogTWF0aC5mbG9vcih2aWRlby5kdXJhdGlvbiksXG4gICAgICAgICAgICBwcm9ncmVzc1BlcmNlbnRhZ2U6ICh2aWRlby5jdXJyZW50VGltZSAvIHZpZGVvLmR1cmF0aW9uKSAqIDEwMCxcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9LCA1MDAwKVxuICAgIH1cblxuICAgIGNvbnN0IGhhbmRsZVBhdXNlID0gKCkgPT4ge1xuICAgICAgc2V0SXNQbGF5aW5nKGZhbHNlKVxuICAgICAgaWYgKHByb2dyZXNzSW50ZXJ2YWwpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChwcm9ncmVzc0ludGVydmFsKVxuICAgICAgICBwcm9ncmVzc0ludGVydmFsID0gbnVsbFxuICAgICAgfVxuICAgICAgLy8gU2VuZCBmaW5hbCBwcm9ncmVzc1xuICAgICAgaWYgKHZpZGVvLmR1cmF0aW9uID4gMCkge1xuICAgICAgICBzZW5kUHJvZ3Jlc3NVcGRhdGUoe1xuICAgICAgICAgIHZpZGVvV2F0Y2hlZFNlY29uZHM6IE1hdGguZmxvb3IodmlkZW8uY3VycmVudFRpbWUpLFxuICAgICAgICAgIHZpZGVvVG90YWxTZWNvbmRzOiBNYXRoLmZsb29yKHZpZGVvLmR1cmF0aW9uKSxcbiAgICAgICAgICBwcm9ncmVzc1BlcmNlbnRhZ2U6ICh2aWRlby5jdXJyZW50VGltZSAvIHZpZGVvLmR1cmF0aW9uKSAqIDEwMCxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVFbmRlZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRJc1BsYXlpbmcoZmFsc2UpXG4gICAgICBpZiAocHJvZ3Jlc3NJbnRlcnZhbCkge1xuICAgICAgICBjbGVhckludGVydmFsKHByb2dyZXNzSW50ZXJ2YWwpXG4gICAgICAgIHByb2dyZXNzSW50ZXJ2YWwgPSBudWxsXG4gICAgICB9XG4gICAgICAvLyBNYXJrIGFzIGNvbXBsZXRlZFxuICAgICAgc2VuZFByb2dyZXNzVXBkYXRlKHtcbiAgICAgICAgdmlkZW9XYXRjaGVkU2Vjb25kczogTWF0aC5mbG9vcih2aWRlby5kdXJhdGlvbiksXG4gICAgICAgIHZpZGVvVG90YWxTZWNvbmRzOiBNYXRoLmZsb29yKHZpZGVvLmR1cmF0aW9uKSxcbiAgICAgICAgcHJvZ3Jlc3NQZXJjZW50YWdlOiAxMDAsXG4gICAgICAgIGlzQ29tcGxldGVkOiB0cnVlLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgaGFuZGxlVGltZVVwZGF0ZSlcbiAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsIGhhbmRsZUxvYWRlZE1ldGFkYXRhKVxuICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXknLCBoYW5kbGVQbGF5KVxuICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3BhdXNlJywgaGFuZGxlUGF1c2UpXG4gICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBoYW5kbGVFbmRlZClcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAocHJvZ3Jlc3NJbnRlcnZhbCkge1xuICAgICAgICBjbGVhckludGVydmFsKHByb2dyZXNzSW50ZXJ2YWwpXG4gICAgICB9XG4gICAgICB2aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgaGFuZGxlVGltZVVwZGF0ZSlcbiAgICAgIHZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgaGFuZGxlTG9hZGVkTWV0YWRhdGEpXG4gICAgICB2aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKCdwbGF5JywgaGFuZGxlUGxheSlcbiAgICAgIHZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BhdXNlJywgaGFuZGxlUGF1c2UpXG4gICAgICB2aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIGhhbmRsZUVuZGVkKVxuICAgIH1cbiAgfSwgW2lzWW91VHViZSwgcGxheWJhY2tTcGVlZF0pXG5cbiAgLy8gU2VuZCBwcm9ncmVzcyBvbiBwYWdlIHVubG9hZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUJlZm9yZVVubG9hZCA9ICgpID0+IHtcbiAgICAgIHNlbmRQcm9ncmVzc1VwZGF0ZSh7IHVzZUtlZXBhbGl2ZTogdHJ1ZSB9KVxuICAgIH1cblxuICAgIGNvbnN0IGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICBpZiAoZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICAgIHNlbmRQcm9ncmVzc1VwZGF0ZSh7IHVzZUtlZXBhbGl2ZTogdHJ1ZSB9KVxuICAgICAgfVxuICAgIH1cblxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIGhhbmRsZUJlZm9yZVVubG9hZClcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSlcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBoYW5kbGVCZWZvcmVVbmxvYWQpXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSlcbiAgICB9XG4gIH0sIFtdKVxuXG4gIGNvbnN0IHRvZ2dsZVBsYXkgPSAoKSA9PiB7XG4gICAgaWYgKHZpZGVvUmVmLmN1cnJlbnQpIHtcbiAgICAgIGlmIChpc1BsYXlpbmcpIHtcbiAgICAgICAgdmlkZW9SZWYuY3VycmVudC5wYXVzZSgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2aWRlb1JlZi5jdXJyZW50LnBsYXkoKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHRvZ2dsZU11dGUgPSAoKSA9PiB7XG4gICAgaWYgKHZpZGVvUmVmLmN1cnJlbnQpIHtcbiAgICAgIHZpZGVvUmVmLmN1cnJlbnQubXV0ZWQgPSAhaXNNdXRlZFxuICAgICAgc2V0SXNNdXRlZCghaXNNdXRlZClcbiAgICB9XG4gIH1cblxuICBjb25zdCBoYW5kbGVQcm9ncmVzc0NsaWNrID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7XG4gICAgaWYgKHZpZGVvUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNvbnN0IHJlY3QgPSBlLmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgIGNvbnN0IHBvcyA9IChlLmNsaWVudFggLSByZWN0LmxlZnQpIC8gcmVjdC53aWR0aFxuICAgICAgdmlkZW9SZWYuY3VycmVudC5jdXJyZW50VGltZSA9IHBvcyAqIGR1cmF0aW9uXG4gICAgfVxuICB9XG5cbiAgLy8gVE9ETzogQmFja2VuZCBub3RlcyBmZWF0dXJlIG5vdCBpbXBsZW1lbnRlZCB5ZXRcbiAgLypcbiAgY29uc3QgaGFuZGxlQWRkTm90ZSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIW5vdGUudHJpbSgpKSByZXR1cm5cblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBjb3Vyc2VzQXBpLmFkZExlc3Nvbk5vdGUocGFyYW1zLmNvdXJzZUlkIGFzIHN0cmluZywgcGFyYW1zLmxlc3NvbklkIGFzIHN0cmluZywge1xuICAgICAgICBjb250ZW50OiBub3RlLFxuICAgICAgICB0aW1lc3RhbXA6IE1hdGguZmxvb3IoY3VycmVudFRpbWUpLFxuICAgICAgfSlcbiAgICAgIGNvbnN0IHVwZGF0ZWROb3RlcyA9IGF3YWl0IGNvdXJzZXNBcGkuZ2V0TGVzc29uTm90ZXMocGFyYW1zLmNvdXJzZUlkIGFzIHN0cmluZywgcGFyYW1zLmxlc3NvbklkIGFzIHN0cmluZylcbiAgICAgIHNldE5vdGVzKHVwZGF0ZWROb3RlcylcbiAgICAgIHNldE5vdGUoXCJcIilcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIlt2MF0gRmFpbGVkIHRvIGFkZCBub3RlOlwiLCBlcnJvcilcbiAgICB9XG4gIH1cbiAgKi9cblxuXG4gIGNvbnN0IGhhbmRsZUNvbXBsZXRlTGVzc29uID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBzZW5kUHJvZ3Jlc3NVcGRhdGUoe1xuICAgICAgICB2aWRlb1dhdGNoZWRTZWNvbmRzOiBNYXRoLmZsb29yKGN1cnJlbnRUaW1lKSxcbiAgICAgICAgdmlkZW9Ub3RhbFNlY29uZHM6IE1hdGguZmxvb3IoZHVyYXRpb24pLFxuICAgICAgICBwcm9ncmVzc1BlcmNlbnRhZ2U6IDEwMCxcbiAgICAgICAgaXNDb21wbGV0ZWQ6IHRydWUsXG4gICAgICB9KVxuICAgICAgXG4gICAgICAvLyDinIUgQ2hlY2sgYXV0b19wbGF5X25leHRfbGVzc29uIHByZWZlcmVuY2VcbiAgICAgIGlmIChhdXRvUGxheU5leHQpIHtcbiAgICAgICAgLy8gQXV0by1yZWRpcmVjdCB0byBuZXh0IGxlc3NvblxuICAgICAgICBoYW5kbGVOZXh0TGVzc29uKClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFNob3cgY29tcGxldGlvbiBtZXNzYWdlIG9yIGp1c3Qgc3RheSBvbiBwYWdlXG4gICAgICAgIC8vIFVzZXIgY2FuIG1hbnVhbGx5IG5hdmlnYXRlIHRvIG5leHQgbGVzc29uXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbdjBdIEZhaWxlZCB0byBjb21wbGV0ZSBsZXNzb246XCIsIGVycm9yKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZU5leHRMZXNzb24gPSAoKSA9PiB7XG4gICAgY29uc3QgYWxsTGVzc29ucyA9IG1vZHVsZXMuZmxhdE1hcCgobSkgPT4gbS5sZXNzb25zIHx8IFtdKVxuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGFsbExlc3NvbnMuZmluZEluZGV4KChsKSA9PiBsPy5pZCA9PT0gcGFyYW1zLmxlc3NvbklkKVxuICAgIGlmIChjdXJyZW50SW5kZXggPCBhbGxMZXNzb25zLmxlbmd0aCAtIDEpIHtcbiAgICAgIGNvbnN0IG5leHRMZXNzb24gPSBhbGxMZXNzb25zW2N1cnJlbnRJbmRleCArIDFdXG4gICAgICBpZiAobmV4dExlc3Nvbj8uaWQpIHtcbiAgICAgICAgcm91dGVyLnB1c2goYC9jb3Vyc2VzLyR7cGFyYW1zLmNvdXJzZUlkfS9sZXNzb25zLyR7bmV4dExlc3Nvbi5pZH1gKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByb3V0ZXIucHVzaChgL2NvdXJzZXMvJHtwYXJhbXMuY291cnNlSWR9YClcbiAgICB9XG4gIH1cblxuICBjb25zdCBoYW5kbGVQcmV2aW91c0xlc3NvbiA9ICgpID0+IHtcbiAgICBjb25zdCBhbGxMZXNzb25zID0gbW9kdWxlcy5mbGF0TWFwKChtKSA9PiBtLmxlc3NvbnMgfHwgW10pXG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gYWxsTGVzc29ucy5maW5kSW5kZXgoKGwpID0+IGw/LmlkID09PSBwYXJhbXMubGVzc29uSWQpXG4gICAgaWYgKGN1cnJlbnRJbmRleCA+IDApIHtcbiAgICAgIGNvbnN0IHByZXZMZXNzb24gPSBhbGxMZXNzb25zW2N1cnJlbnRJbmRleCAtIDFdXG4gICAgICBpZiAocHJldkxlc3Nvbj8uaWQpIHtcbiAgICAgICAgcm91dGVyLnB1c2goYC9jb3Vyc2VzLyR7cGFyYW1zLmNvdXJzZUlkfS9sZXNzb25zLyR7cHJldkxlc3Nvbi5pZH1gKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChsb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxBcHBMYXlvdXQgc2hvd1NpZGViYXI9e2ZhbHNlfSBzaG93Rm9vdGVyPXtmYWxzZX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbWluLWgtc2NyZWVuXCI+XG4gICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwidy04IGgtOCBhbmltYXRlLXNwaW4gdGV4dC1wcmltYXJ5XCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0FwcExheW91dD5cbiAgICApXG4gIH1cblxuICBpZiAoIWxlc3Nvbikge1xuICAgIHJldHVybiAoXG4gICAgICA8QXBwTGF5b3V0IHNob3dTaWRlYmFyPXtmYWxzZX0gc2hvd0Zvb3Rlcj17ZmFsc2V9PlxuICAgICAgICA8UGFnZUNvbnRhaW5lciBjbGFzc05hbWU9XCJweS0yMCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgbWItNFwiPnt0KCdjb3Vyc2VzLmxlc3Nvbl9ub3RfZm91bmQnKX08L2gxPlxuICAgICAgICAgIDxCdXR0b24gb25DbGljaz17KCkgPT4gcm91dGVyLnB1c2goYC9jb3Vyc2VzLyR7cGFyYW1zLmNvdXJzZUlkfWApfT57dCgnY291cnNlcy5iYWNrX3RvX2NvdXJzZScpfTwvQnV0dG9uPlxuICAgICAgICA8L1BhZ2VDb250YWluZXI+XG4gICAgICA8L0FwcExheW91dD5cbiAgICApXG4gIH1cblxuICBjb25zdCBhbGxMZXNzb25zID0gbW9kdWxlcy5mbGF0TWFwKChtKSA9PiBtLmxlc3NvbnMgfHwgW10pXG4gIGNvbnN0IGN1cnJlbnRJbmRleCA9IGFsbExlc3NvbnMuZmluZEluZGV4KChsKSA9PiBsPy5pZCA9PT0gcGFyYW1zLmxlc3NvbklkKVxuICBjb25zdCBoYXNQcmV2aW91cyA9IGN1cnJlbnRJbmRleCA+IDBcbiAgY29uc3QgaGFzTmV4dCA9IGN1cnJlbnRJbmRleCA8IGFsbExlc3NvbnMubGVuZ3RoIC0gMVxuXG4gIHJldHVybiAoXG4gICAgPEFwcExheW91dCBzaG93U2lkZWJhcj17ZmFsc2V9IHNob3dGb290ZXI9e2ZhbHNlfT5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiByZWxhdGl2ZVwiPlxuICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLWIgYmctd2hpdGUgc3RpY2t5IHRvcC0wIHotMTAgc2hhZG93LXNtXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIG14LWF1dG8gcHgtNCBweS0zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTRcIj5cbiAgICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiIFxuICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiByb3V0ZXIucHVzaChgL2NvdXJzZXMvJHtwYXJhbXMuY291cnNlSWR9YCl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTBcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8Q2hldnJvbkxlZnQgY2xhc3NOYW1lPVwidy00IGgtNCBtci0xXCIgLz5cbiAgICAgICAgICAgICAge3QoJ2JhY2snKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC1iYXNlIG1kOnRleHQtbGcgZm9udC1zZW1pYm9sZCB0cnVuY2F0ZSBmbGV4LTEgdGV4dC1jZW50ZXIgcHgtNFwiPlxuICAgICAgICAgICAgICB7bGVzc29uLnRpdGxlfVxuICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPEJ1dHRvbiBcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ29tcGxldGVMZXNzb259XG4gICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTBcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17IWhhc05leHR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxDaGVja0NpcmNsZSBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTFcIiAvPlxuICAgICAgICAgICAgICBUaeG6v3AgdGhlb1xuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxQYWdlQ29udGFpbmVyIGNsYXNzTmFtZT1cInB5LTZcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGxnOmdyaWQtY29scy0zIGdhcC02XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsZzpjb2wtc3Bhbi0yIHNwYWNlLXktNlwiPlxuICAgICAgICAgICAgey8qIFZpZGVvIENvbnRlbnQgLSBTaG93IGlmIHZpZGVvcyBleGlzdCwgcmVnYXJkbGVzcyBvZiBjb250ZW50X3R5cGUgKi99XG4gICAgICAgICAgICB7dmlkZW9zLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICA8Q2FyZCBjbGFzc05hbWU9XCJvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPVwicC0wXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGJnLWJsYWNrIGFzcGVjdC12aWRlb1wiPlxuICAgICAgICAgICAgICAgICAgICB7dmlkZW9zWzBdPy52aWRlb19wcm92aWRlcj8udG9Mb3dlckNhc2UoKSA9PT0gJ3lvdXR1YmUnICYmIHZpZGVvc1swXT8udmlkZW9faWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgLyogWW91VHViZSBwbGF5ZXIgY29udGFpbmVyIC0gY29udHJvbGxlZCBieSB1c2VZb3VUdWJlUHJvZ3Jlc3MgaG9vayAqL1xuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgICAgICByZWY9e3lvdXR1YmVQcm9ncmVzcy5jb250YWluZXJSZWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIHctZnVsbCBoLWZ1bGxcIlxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICkgOiB2aWRlb3NbMF0/LnZpZGVvX3VybCA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8dmlkZW9cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17dmlkZW9SZWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICBzcmM9e3ZpZGVvc1swXS52aWRlb191cmx9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIHctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvbnRhaW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzTGlzdD1cIm5vZG93bmxvYWRcIlxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctOCBoLTggYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgey8qIFZpZGVvIEluZm8gKi99XG4gICAgICAgICAgICAgICAgPENhcmRIZWFkZXIgY2xhc3NOYW1lPVwiYm9yZGVyLXRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT1cInRleHQteGwgbWItMlwiPntsZXNzb24udGl0bGV9PC9DYXJkVGl0bGU+XG4gICAgICAgICAgICAgICAgICAgICAge2xlc3Nvbi5kZXNjcmlwdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBsaW5lLWNsYW1wLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2xlc3Nvbi5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgey8qIFNob3cgYWN0dWFsIHZpZGVvIGR1cmF0aW9uIGlmIGF2YWlsYWJsZSwgZmFsbGJhY2sgdG8gbGVzc29uIGR1cmF0aW9uICovfVxuICAgICAgICAgICAgICAgICAgICB7KHZpZGVvc1swXT8uZHVyYXRpb25fc2Vjb25kcyB8fCBsZXNzb24uZHVyYXRpb25fbWludXRlcykgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWwtNCB0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCB3aGl0ZXNwYWNlLW5vd3JhcFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3ZpZGVvc1swXT8uZHVyYXRpb25fc2Vjb25kcyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBmb3JtYXREdXJhdGlvbih2aWRlb3NbMF0uZHVyYXRpb25fc2Vjb25kcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBsZXNzb24uZHVyYXRpb25fbWludXRlcyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGAke2xlc3Nvbi5kdXJhdGlvbl9taW51dGVzfSBwaMO6dGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHsvKiBMZXNzb24gTmF2aWdhdGlvbiAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIGdhcC00IHB5LTRcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVQcmV2aW91c0xlc3Nvbn1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWhhc1ByZXZpb3VzfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBtYXgtdy1bMjAwcHhdXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxDaGV2cm9uTGVmdCBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTJcIiAvPlxuICAgICAgICAgICAgICAgIELDoGkgdHLGsOG7m2NcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgICAgICAgICAgQsOgaSB7Y3VycmVudEluZGV4ICsgMX0gLyB7YWxsTGVzc29ucy5sZW5ndGh9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZU5leHRMZXNzb259XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFoYXNOZXh0fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBtYXgtdy1bMjAwcHhdXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIELDoGkgc2F1XG4gICAgICAgICAgICAgICAgPENoZXZyb25SaWdodCBjbGFzc05hbWU9XCJ3LTQgaC00IG1sLTJcIiAvPlxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7KGxlc3Nvbi5jb250ZW50X3R5cGUgPT09IFwiYXJ0aWNsZVwiIHx8IGxlc3Nvbi5jb250ZW50VHlwZSA9PT0gXCJBUlRJQ0xFXCIpICYmIChcbiAgICAgICAgICAgICAgPENhcmQ+XG4gICAgICAgICAgICAgICAgPENhcmRIZWFkZXI+XG4gICAgICAgICAgICAgICAgICA8Q2FyZFRpdGxlPntsZXNzb24udGl0bGV9PC9DYXJkVGl0bGU+XG4gICAgICAgICAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICAgICAgICAgIDxDYXJkQ29udGVudD5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvc2UgcHJvc2Utc20gbWF4LXctbm9uZVwiPlxuICAgICAgICAgICAgICAgICAgICA8cD57bGVzc29uLmRlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHsvKiBUT0RPOiBCYWNrZW5kIG5vdGVzIGZlYXR1cmUgbm90IGltcGxlbWVudGVkIHlldFxuICAgICAgICAgICAgPENhcmQ+XG4gICAgICAgICAgICAgIDxDYXJkSGVhZGVyPlxuICAgICAgICAgICAgICAgIDxDYXJkVGl0bGU+e3QoJ2NvdXJzZXMubGVzc29uX25vdGVzJyl9PC9DYXJkVGl0bGU+XG4gICAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgPENhcmRDb250ZW50PlxuICAgICAgICAgICAgICAgIDxUYWJzIGRlZmF1bHRWYWx1ZT1cImFkZFwiPlxuICAgICAgICAgICAgICAgICAgPFRhYnNMaXN0IGNsYXNzTmFtZT1cImdyaWQgdy1mdWxsIGdyaWQtY29scy0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxUYWJzVHJpZ2dlciB2YWx1ZT1cImFkZFwiPnt0KCdjb3Vyc2VzLmFkZF9ub3RlJyl9PC9UYWJzVHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgPFRhYnNUcmlnZ2VyIHZhbHVlPVwidmlld1wiPlZpZXcgTm90ZXMgKHtub3Rlcy5sZW5ndGh9KTwvVGFic1RyaWdnZXI+XG4gICAgICAgICAgICAgICAgICA8L1RhYnNMaXN0PlxuICAgICAgICAgICAgICAgICAgPFRhYnNDb250ZW50IHZhbHVlPVwiYWRkXCIgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxUZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXt0KCdjb3Vyc2VzLndyaXRlX3lvdXJfbm90ZXNfaGVyZScpfVxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtub3RlfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0Tm90ZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVBZGROb3RlfT57dCgnY291cnNlcy5zYXZlX25vdGUnKX08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvVGFic0NvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICA8VGFic0NvbnRlbnQgdmFsdWU9XCJ2aWV3XCI+XG4gICAgICAgICAgICAgICAgICAgIHtub3Rlcy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHRleHQtY2VudGVyIHB5LThcIj57dCgnY291cnNlcy5ub19ub3Rlc195ZXQnKX08L3A+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtub3Rlcy5tYXAoKG4pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e24uaWR9IGNsYXNzTmFtZT1cInAtMyBiZy1tdXRlZCByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RmlsZVRleHQgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LW11dGVkLWZvcmVncm91bmRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge24udGltZXN0YW1wICE9PSB1bmRlZmluZWQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPntmb3JtYXREdXJhdGlvbihuLnRpbWVzdGFtcCl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+e24uY29udGVudH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L1RhYnNDb250ZW50PlxuICAgICAgICAgICAgICAgIDwvVGFicz5cbiAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgICovfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIFNpZGViYXIgLSBDb3Vyc2UgQ29udGVudCAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxnOmNvbC1zcGFuLTFcIj5cbiAgICAgICAgICAgIDxDYXJkIGNsYXNzTmFtZT1cInN0aWNreSB0b3AtMjBcIj5cbiAgICAgICAgICAgICAgPENhcmRIZWFkZXIgY2xhc3NOYW1lPVwicGItM1wiPlxuICAgICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPVwidGV4dC1iYXNlXCI+TuG7mWkgZHVuZyBraMOzYSBo4buNYzwvQ2FyZFRpdGxlPlxuICAgICAgICAgICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9XCJwLTBcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC1oLVtjYWxjKDEwMHZoLTIwMHB4KV0gb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICB7bW9kdWxlcy5tYXAoKG1vZHVsZSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17bW9kdWxlLmlkfSBjbGFzc05hbWU9XCJib3JkZXItYiBsYXN0OmJvcmRlci1iLTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBiZy1tdXRlZC81MFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1zbVwiPnttb2R1bGUudGl0bGV9PC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge21vZHVsZS5sZXNzb25zPy5sZW5ndGggfHwgMH0gYsOgaSBo4buNY1xuICAgICAgICAgICAgICAgICAgICAgICAgICB7KG1vZHVsZS5leGVyY2lzZXM/Lmxlbmd0aCB8fCAwKSA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtcGluay02MDAgZGFyazp0ZXh0LXBpbmstNDAwXCI+IOKAoiB7bW9kdWxlLmV4ZXJjaXNlcz8ubGVuZ3RoIHx8IDB9IGLDoGkgdOG6rXA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkaXZpZGUteVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIExlc3NvbnMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICB7bW9kdWxlLmxlc3NvbnM/Lm1hcCgobCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudFR5cGUgPSAobC5jb250ZW50X3R5cGUgfHwgbC5jb250ZW50VHlwZSB8fCAndmlkZW8nKS50b0xvd2VyQ2FzZSgpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJpb3JpdGl6ZSB2aWRlbyBkdXJhdGlvbl9zZWNvbmRzIGZvciBhY2N1cmF0ZSBkaXNwbGF5XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZpZGVvRHVyYXRpb25TZWNvbmRzID0gKGwgYXMgYW55KS52aWRlb3M/LlswXT8uZHVyYXRpb25fc2Vjb25kcyB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uTWludXRlcyA9IGwuZHVyYXRpb25fbWludXRlcyB8fCBsLmR1cmF0aW9uIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZHVyYXRpb25TZWNvbmRzID0gdmlkZW9EdXJhdGlvblNlY29uZHMgPiAwID8gdmlkZW9EdXJhdGlvblNlY29uZHMgOiBkdXJhdGlvbk1pbnV0ZXMgKiA2MFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQWN0aXZlID0gbC5pZCA9PT0gcGFyYW1zLmxlc3NvbklkXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2wuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiByb3V0ZXIucHVzaChgL2NvdXJzZXMvJHtwYXJhbXMuY291cnNlSWR9L2xlc3NvbnMvJHtsLmlkfWApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIHRleHQtbGVmdCBwLTMgdHJhbnNpdGlvbi1hbGwgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiYmctcHJpbWFyeS8xMCBib3JkZXItbC00IGJvcmRlci1wcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiaG92ZXI6YmctbXV0ZWQvNTAgYm9yZGVyLWwtNCBib3JkZXItdHJhbnNwYXJlbnRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZmxleC1zaHJpbmstMCB3LTYgaC02IHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXhzIGZvbnQtbWVkaXVtICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJiZy1wcmltYXJ5IHRleHQtcHJpbWFyeS1mb3JlZ3JvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJiZy1tdXRlZCB0ZXh0LW11dGVkLWZvcmVncm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2luZGV4ICsgMX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT17YHRleHQtc20gZm9udC1tZWRpdW0gdHJ1bmNhdGUgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQWN0aXZlID8gXCJ0ZXh0LXByaW1hcnlcIiA6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bC50aXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29udGVudFR5cGUgPT09IFwidmlkZW9cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQbGF5Q2lyY2xlIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVmlkZW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2R1cmF0aW9uU2Vjb25kcyA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4oCiIHtmb3JtYXREdXJhdGlvbihkdXJhdGlvblNlY29uZHMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjb250ZW50VHlwZSA9PT0gXCJhcnRpY2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGaWxlVGV4dCBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCw6BpIMSR4buNY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICB9KX1cblxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIEV4ZXJjaXNlcyAtIE5FVyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIHttb2R1bGUuZXhlcmNpc2VzPy5tYXAoKGV4LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17ZXguaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiByb3V0ZXIucHVzaChgL2V4ZXJjaXNlcy8ke2V4LmlkfWApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCBwLTMgdHJhbnNpdGlvbi1hbGwgYmctcGluay01MC81MCBkYXJrOmJnLXBpbmstOTUwLzEwIGhvdmVyOmJnLXBpbmstMTAwIGRhcms6aG92ZXI6YmctcGluay05NTAvMjAgYm9yZGVyLWwtNCBib3JkZXItdHJhbnNwYXJlbnQgaG92ZXI6Ym9yZGVyLXBpbmstNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LXNocmluay0wIHctNiBoLTYgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQteHMgZm9udC1tZWRpdW0gYmctcGluay0yMDAgZGFyazpiZy1waW5rLTkwMCB0ZXh0LXBpbmstNzAwIGRhcms6dGV4dC1waW5rLTMwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYXJnZXQgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1pbi13LTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRydW5jYXRlIHRleHQtcGluay03MDAgZGFyazp0ZXh0LXBpbmstMzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZXgudGl0bGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXBpbmstNjAwIGRhcms6dGV4dC1waW5rLTQwMCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UGVuVG9vbCBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2V4LnRvdGFsX3F1ZXN0aW9uc30gY8OidSBo4buPaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2V4LnRpbWVfbGltaXRfbWludXRlcyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1waW5rLTYwMCBkYXJrOnRleHQtcGluay00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDigKIge2V4LnRpbWVfbGltaXRfbWludXRlc31tXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgPC9DYXJkPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvUGFnZUNvbnRhaW5lcj5cbiAgICA8L2Rpdj5cbiAgICA8L0FwcExheW91dD5cbiAgKVxufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlQ2FsbGJhY2siLCJ1c2VQYXJhbXMiLCJ1c2VSb3V0ZXIiLCJCdXR0b24iLCJBcHBMYXlvdXQiLCJQYWdlQ29udGFpbmVyIiwiQ2FyZCIsIkNhcmRDb250ZW50IiwiQ2FyZEhlYWRlciIsIkNhcmRUaXRsZSIsIkNoZXZyb25MZWZ0IiwiQ2hldnJvblJpZ2h0IiwiQ2hlY2tDaXJjbGUiLCJQbGF5Q2lyY2xlIiwiRmlsZVRleHQiLCJMb2FkZXIyIiwiUGVuVG9vbCIsIlRhcmdldCIsImNvdXJzZXNBcGkiLCJnZXRUb2tlbiIsImZvcm1hdER1cmF0aW9uIiwidXNlWW91VHViZVByb2dyZXNzIiwidXNlUHJlZmVyZW5jZXMiLCJ1c2VUcmFuc2xhdGlvbnMiLCJMZXNzb25QbGF5ZXJQYWdlIiwidmlkZW9zIiwidCIsInBhcmFtcyIsInJvdXRlciIsInZpZGVvUmVmIiwibGVzc29uIiwic2V0TGVzc29uIiwic2V0VmlkZW9zIiwibW9kdWxlcyIsInNldE1vZHVsZXMiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImlzUGxheWluZyIsInNldElzUGxheWluZyIsImlzTXV0ZWQiLCJzZXRJc011dGVkIiwiY3VycmVudFRpbWUiLCJzZXRDdXJyZW50VGltZSIsImR1cmF0aW9uIiwic2V0RHVyYXRpb24iLCJub3RlIiwic2V0Tm90ZSIsIm5vdGVzIiwic2V0Tm90ZXMiLCJsYXN0UG9zaXRpb24iLCJzZXRMYXN0UG9zaXRpb24iLCJwcm9ncmVzc0xvYWRlZCIsInNldFByb2dyZXNzTG9hZGVkIiwic2Vzc2lvbklkUmVmIiwidW5kZWZpbmVkIiwicGFnZVN0YXJ0VGltZVJlZiIsIkRhdGUiLCJub3ciLCJ0b3RhbFRpbWVTcGVudFJlZiIsInByZWZlcmVuY2VzIiwicGxheWJhY2tTcGVlZCIsInBsYXliYWNrX3NwZWVkIiwiYXV0b1BsYXlOZXh0IiwiYXV0b19wbGF5X25leHRfbGVzc29uIiwic2VuZFByb2dyZXNzVXBkYXRlIiwiZGF0YSIsInBheWxvYWQiLCJ2aWRlb1dhdGNoZWRTZWNvbmRzIiwidmlkZW9fd2F0Y2hlZF9zZWNvbmRzIiwidmlkZW9Ub3RhbFNlY29uZHMiLCJ2aWRlb190b3RhbF9zZWNvbmRzIiwicHJvZ3Jlc3NQZXJjZW50YWdlIiwicHJvZ3Jlc3NfcGVyY2VudGFnZSIsImlzQ29tcGxldGVkIiwiaXNfY29tcGxldGVkIiwiY29uc29sZSIsImxvZyIsInVzZUtlZXBhbGl2ZSIsInRva2VuIiwiYmFzZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwidXJsIiwibGVzc29uSWQiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJrZWVwYWxpdmUiLCJ1cGRhdGVMZXNzb25Qcm9ncmVzcyIsImVycm9yIiwiaXNZb3VUdWJlIiwibGVuZ3RoIiwidmlkZW9fcHJvdmlkZXIiLCJ0b0xvd2VyQ2FzZSIsInZpZGVvX2lkIiwieW91dHViZVZpZGVvSWQiLCJoYXNWaWRlb3MiLCJ2aWRlb1Byb3ZpZGVyIiwiaGFuZGxlUHJvZ3Jlc3NVcGRhdGUiLCJhY2N1bXVsYXRlZFRpbWUiLCJ3YXRjaGVkU2Vjb25kcyIsIk1hdGgiLCJmbG9vciIsImxhc3RfcG9zaXRpb25fc2Vjb25kcyIsInRoZW4iLCJjYXRjaCIsInlvdXR1YmVQcm9ncmVzcyIsInZpZGVvSWQiLCJzdGFydFBvc2l0aW9uIiwib25Qcm9ncmVzc1VwZGF0ZSIsInVwZGF0ZUludGVydmFsIiwiYXV0b1BsYXkiLCJmZXRjaExlc3NvbkRhdGEiLCJsZXNzb25EYXRhIiwiZ2V0TGVzc29uQnlJZCIsInRpdGxlIiwidmlkZW9zQ291bnQiLCJmaXJzdFZpZGVvIiwicHJvZ3Jlc3MiLCJnZXRMZXNzb25Qcm9ncmVzcyIsImNvdXJzZURldGFpbCIsImdldENvdXJzZUJ5SWQiLCJjb3Vyc2VJZCIsImlzX2Vucm9sbGVkIiwiZW5yb2xsQ291cnNlIiwiZW5FcnIiLCJ3YXJuIiwidHJhbnNmb3JtZWRNb2R1bGVzIiwibWFwIiwibW9kdWxlRGF0YSIsImluZGV4IiwiaWQiLCJtb2R1bGUiLCJjb3Vyc2VfaWQiLCJkaXNwbGF5X29yZGVyIiwidG90YWxfbGVzc29ucyIsImxlc3NvbnMiLCJ0b3RhbF9leGVyY2lzZXMiLCJleGVyY2lzZXMiLCJpc19wdWJsaXNoZWQiLCJjcmVhdGVkX2F0IiwidG9JU09TdHJpbmciLCJ1cGRhdGVkX2F0IiwidmlkZW8iLCJjdXJyZW50IiwicHJvZ3Jlc3NJbnRlcnZhbCIsInBsYXliYWNrUmF0ZSIsImhhbmRsZVRpbWVVcGRhdGUiLCJoYW5kbGVMb2FkZWRNZXRhZGF0YSIsImhhbmRsZVBsYXkiLCJzZXRJbnRlcnZhbCIsImhhbmRsZVBhdXNlIiwiY2xlYXJJbnRlcnZhbCIsImhhbmRsZUVuZGVkIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVCZWZvcmVVbmxvYWQiLCJoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlIiwiZG9jdW1lbnQiLCJoaWRkZW4iLCJ3aW5kb3ciLCJ0b2dnbGVQbGF5IiwicGF1c2UiLCJwbGF5IiwidG9nZ2xlTXV0ZSIsIm11dGVkIiwiaGFuZGxlUHJvZ3Jlc3NDbGljayIsImUiLCJyZWN0IiwiY3VycmVudFRhcmdldCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInBvcyIsImNsaWVudFgiLCJsZWZ0Iiwid2lkdGgiLCJoYW5kbGVDb21wbGV0ZUxlc3NvbiIsImhhbmRsZU5leHRMZXNzb24iLCJhbGxMZXNzb25zIiwiZmxhdE1hcCIsIm0iLCJjdXJyZW50SW5kZXgiLCJmaW5kSW5kZXgiLCJsIiwibmV4dExlc3NvbiIsInB1c2giLCJoYW5kbGVQcmV2aW91c0xlc3NvbiIsInByZXZMZXNzb24iLCJzaG93U2lkZWJhciIsInNob3dGb290ZXIiLCJkaXYiLCJjbGFzc05hbWUiLCJoMSIsIm9uQ2xpY2siLCJoYXNQcmV2aW91cyIsImhhc05leHQiLCJ2YXJpYW50Iiwic2l6ZSIsImRpc2FibGVkIiwicmVmIiwiY29udGFpbmVyUmVmIiwidmlkZW9fdXJsIiwic3JjIiwiY29udHJvbHMiLCJjb250cm9sc0xpc3QiLCJkZXNjcmlwdGlvbiIsInAiLCJkdXJhdGlvbl9zZWNvbmRzIiwiZHVyYXRpb25fbWludXRlcyIsImNvbnRlbnRfdHlwZSIsImNvbnRlbnRUeXBlIiwiaDQiLCJzcGFuIiwidmlkZW9EdXJhdGlvblNlY29uZHMiLCJkdXJhdGlvbk1pbnV0ZXMiLCJkdXJhdGlvblNlY29uZHMiLCJpc0FjdGl2ZSIsImJ1dHRvbiIsImV4IiwidG90YWxfcXVlc3Rpb25zIiwidGltZV9saW1pdF9taW51dGVzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/courses/[courseId]/lessons/[lessonId]/page.tsx\n"));

/***/ })

});