"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/courses/[courseId]/lessons/[lessonId]/page",{

/***/ "(app-pages-browser)/./app/courses/[courseId]/lessons/[lessonId]/page.tsx":
/*!************************************************************!*\
  !*** ./app/courses/[courseId]/lessons/[lessonId]/page.tsx ***!
  \************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LessonPlayerPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.2.4_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.2.4_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.2.4_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _components_layout_app_layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/layout/app-layout */ \"(app-pages-browser)/./components/layout/app-layout.tsx\");\n/* harmony import */ var _components_layout_page_container__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/layout/page-container */ \"(app-pages-browser)/./components/layout/page-container.tsx\");\n/* harmony import */ var _components_ui_card__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ui/card */ \"(app-pages-browser)/./components/ui/card.tsx\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,ChevronRight,FileText,Loader2,PenTool,PlayCircle,Target!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,ChevronRight,FileText,Loader2,PenTool,PlayCircle,Target!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/chevron-left.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,ChevronRight,FileText,Loader2,PenTool,PlayCircle,Target!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/circle-check-big.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,ChevronRight,FileText,Loader2,PenTool,PlayCircle,Target!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,ChevronRight,FileText,Loader2,PenTool,PlayCircle,Target!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/circle-play.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,ChevronRight,FileText,Loader2,PenTool,PlayCircle,Target!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/file-text.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,ChevronRight,FileText,Loader2,PenTool,PlayCircle,Target!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/target.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,ChevronRight,FileText,Loader2,PenTool,PlayCircle,Target!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/pen-tool.js\");\n/* harmony import */ var _lib_api_courses__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/api/courses */ \"(app-pages-browser)/./lib/api/courses.ts\");\n/* harmony import */ var _lib_api_apiClient__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/api/apiClient */ \"(app-pages-browser)/./lib/api/apiClient.ts\");\n/* harmony import */ var _lib_utils_format__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/lib/utils/format */ \"(app-pages-browser)/./lib/utils/format.ts\");\n/* harmony import */ var _lib_hooks_use_youtube_progress__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/lib/hooks/use-youtube-progress */ \"(app-pages-browser)/./lib/hooks/use-youtube-progress.ts\");\n/* harmony import */ var _lib_contexts_preferences_context__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/lib/contexts/preferences-context */ \"(app-pages-browser)/./lib/contexts/preferences-context.tsx\");\n/* harmony import */ var _lib_i18n__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/lib/i18n */ \"(app-pages-browser)/./lib/i18n/index.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction LessonPlayerPage() {\n    var _videos__video_provider, _videos_, _videos_1, _videos_2, _videos__video_provider1, _videos_3, _videos_4, _videos_5, _videos_6, _videos_7;\n    _s();\n    const t = (0,_lib_i18n__WEBPACK_IMPORTED_MODULE_12__.useTranslations)('courses');\n    const params = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useParams)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [lesson, setLesson] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [videos, setVideos] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [modules, setModules] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [isPlaying, setIsPlaying] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isMuted, setIsMuted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentTime, setCurrentTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [duration, setDuration] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [note, setNote] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [notes, setNotes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [lastPosition, setLastPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0) // âœ… For resume watching\n    ;\n    const [progressLoaded, setProgressLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false) // âœ… Track if progress has been fetched\n    ;\n    // âœ… Generate UUID for session (backend expects UUID format)\n    const sessionIdRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(undefined) // Optional, backend will handle if missing\n    ;\n    // Track time spent on page (for non-video lessons)\n    const pageStartTimeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(Date.now());\n    const totalTimeSpentRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    // âœ… Get user preferences for playback speed and auto-play\n    const { preferences } = (0,_lib_contexts_preferences_context__WEBPACK_IMPORTED_MODULE_11__.usePreferences)();\n    const playbackSpeed = (preferences === null || preferences === void 0 ? void 0 : preferences.playback_speed) || 1.0;\n    const autoPlayNext = (preferences === null || preferences === void 0 ? void 0 : preferences.auto_play_next_lesson) || false;\n    // Send progress update to backend\n    const sendProgressUpdate = async (data)=>{\n        try {\n            const payload = {};\n            if (data.videoWatchedSeconds !== undefined) {\n                payload.video_watched_seconds = data.videoWatchedSeconds;\n            }\n            if (data.videoTotalSeconds !== undefined) {\n                payload.video_total_seconds = data.videoTotalSeconds;\n            }\n            if (data.progressPercentage !== undefined) {\n                payload.progress_percentage = data.progressPercentage;\n            }\n            if (data.isCompleted) {\n                payload.is_completed = true;\n            }\n            console.log('[Lesson Player] Sending progress:', payload);\n            if (data.useKeepalive) {\n                // Use fetch with keepalive for page unload\n                const token = (0,_lib_api_apiClient__WEBPACK_IMPORTED_MODULE_8__.getToken)();\n                const base = \"http://localhost:8080/api/v1\" || 0;\n                const url = \"\".concat(base, \"/progress/lessons/\").concat(params.lessonId);\n                await fetch(url, {\n                    method: \"PUT\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        ...token ? {\n                            Authorization: \"Bearer \".concat(token)\n                        } : {}\n                    },\n                    body: JSON.stringify(payload),\n                    keepalive: true\n                });\n            } else {\n                await _lib_api_courses__WEBPACK_IMPORTED_MODULE_7__.coursesApi.updateLessonProgress(params.lessonId, payload);\n            }\n            console.log('[Lesson Player] Progress sent successfully');\n        } catch (error) {\n            console.error('[Lesson Player] Failed to send progress:', error);\n        }\n    };\n    // Check if this is a YouTube video\n    const isYouTube = videos.length > 0 && ((_videos_ = videos[0]) === null || _videos_ === void 0 ? void 0 : (_videos__video_provider = _videos_.video_provider) === null || _videos__video_provider === void 0 ? void 0 : _videos__video_provider.toLowerCase()) === 'youtube' && ((_videos_1 = videos[0]) === null || _videos_1 === void 0 ? void 0 : _videos_1.video_id);\n    const youtubeVideoId = isYouTube ? videos[0].video_id : '';\n    console.log('ðŸŽ¥ [Lesson Player] Component render:', {\n        hasVideos: videos.length > 0,\n        isYouTube,\n        youtubeVideoId,\n        videoProvider: (_videos_2 = videos[0]) === null || _videos_2 === void 0 ? void 0 : _videos_2.video_provider\n    });\n    // âœ… Memoize onProgressUpdate Ä‘á»ƒ trÃ¡nh re-render loop\n    const handleProgressUpdate = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"LessonPlayerPage.useCallback[handleProgressUpdate]\": (data)=>{\n            // âŒ REMOVED: setCurrentTime/setDuration cause re-render loop!\n            // âœ… Use youtubeProgress.currentTime/duration directly instead\n            console.log('[YouTube Hook] Progress:', {\n                accumulatedTime: data.accumulatedTime,\n                lastPosition: data.lastPosition,\n                watchedSeconds: data.watchedSeconds\n            });\n            // âœ… DÃ¹ng accumulated time tá»« hook (thá»i gian thá»±c sá»± xem)\n            // Send progress to backend vá»›i last position + video stats\n            const payload = {\n                video_watched_seconds: data.watchedSeconds,\n                video_total_seconds: Math.floor(data.duration),\n                // âš ï¸ Don't send progress_percentage - let backend auto-calculate from last_position\n                // This ensures consistent calculation: progress = last_position / total_duration * 100\n                last_position_seconds: data.lastPosition\n            };\n            console.log('[Lesson Player] Sending YouTube progress:', payload);\n            // Update lesson progress\n            _lib_api_courses__WEBPACK_IMPORTED_MODULE_7__.coursesApi.updateLessonProgress(params.lessonId, payload).then({\n                \"LessonPlayerPage.useCallback[handleProgressUpdate]\": ()=>{\n                    console.log('[Lesson Player] YouTube progress sent successfully');\n                // â„¹ï¸ Video tracking removed - lesson progress already includes all video metrics\n                // (watched_seconds, total_seconds, last_position, etc.)\n                }\n            }[\"LessonPlayerPage.useCallback[handleProgressUpdate]\"]).catch({\n                \"LessonPlayerPage.useCallback[handleProgressUpdate]\": (error)=>console.error('[Lesson Player] Failed to send YouTube progress:', error)\n            }[\"LessonPlayerPage.useCallback[handleProgressUpdate]\"]);\n        }\n    }[\"LessonPlayerPage.useCallback[handleProgressUpdate]\"], [\n        params.lessonId,\n        videos\n    ]);\n    // Initialize YouTube player and tracking (only for YouTube videos)\n    // Hook MUST be called unconditionally, but with empty videoId it will skip init\n    // âœ… Only pass videoId after progress is loaded to ensure startPosition is correct\n    const youtubeProgress = (0,_lib_hooks_use_youtube_progress__WEBPACK_IMPORTED_MODULE_10__.useYouTubeProgress)({\n        videoId: progressLoaded ? youtubeVideoId : '',\n        startPosition: lastPosition,\n        onProgressUpdate: handleProgressUpdate,\n        updateInterval: 5000,\n        autoPlay: false,\n        playbackSpeed: playbackSpeed\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"LessonPlayerPage.useEffect\": ()=>{\n            console.log('[Lesson Player] ðŸŽ¬ useEffect triggered for lesson:', params.lessonId);\n            const fetchLessonData = {\n                \"LessonPlayerPage.useEffect.fetchLessonData\": async ()=>{\n                    try {\n                        var _lessonData_lesson, _lessonData_videos, _lessonData_videos1, _lessonData_videos_, _lessonData_videos2, _lessonData_videos_1, _lessonData_videos3;\n                        setLoading(true);\n                        console.log('[Lesson Player] ðŸ” Fetching lesson data...');\n                        // Fix: getLessonById only takes lessonId, not courseId\n                        const lessonData = await _lib_api_courses__WEBPACK_IMPORTED_MODULE_7__.coursesApi.getLessonById(params.lessonId);\n                        console.log('[Lesson Player] âœ… Lesson data received:', {\n                            lesson: (_lessonData_lesson = lessonData.lesson) === null || _lessonData_lesson === void 0 ? void 0 : _lessonData_lesson.title,\n                            videosCount: (_lessonData_videos = lessonData.videos) === null || _lessonData_videos === void 0 ? void 0 : _lessonData_videos.length,\n                            firstVideo: (_lessonData_videos1 = lessonData.videos) === null || _lessonData_videos1 === void 0 ? void 0 : _lessonData_videos1[0]\n                        });\n                        setLesson(lessonData.lesson);\n                        setVideos(lessonData.videos || []);\n                        console.log('[Lesson Player] Video data:', lessonData.videos);\n                        console.log('[Lesson Player] Is YouTube?', (_lessonData_videos2 = lessonData.videos) === null || _lessonData_videos2 === void 0 ? void 0 : (_lessonData_videos_ = _lessonData_videos2[0]) === null || _lessonData_videos_ === void 0 ? void 0 : _lessonData_videos_.video_provider, (_lessonData_videos3 = lessonData.videos) === null || _lessonData_videos3 === void 0 ? void 0 : (_lessonData_videos_1 = _lessonData_videos3[0]) === null || _lessonData_videos_1 === void 0 ? void 0 : _lessonData_videos_1.video_id);\n                        // âœ… Load last position Ä‘á»ƒ resume watching (BEFORE rendering player)\n                        try {\n                            const progress = await _lib_api_courses__WEBPACK_IMPORTED_MODULE_7__.coursesApi.getLessonProgress(params.lessonId);\n                            console.log('[Lesson Player] ðŸ“Š Progress response:', progress);\n                            if (progress && progress.last_position_seconds > 0) {\n                                console.log('[Lesson Player] ðŸ”„ Found saved position:', progress.last_position_seconds, 'seconds');\n                                setLastPosition(progress.last_position_seconds);\n                            } else {\n                                console.log('[Lesson Player] â­ï¸ Starting from beginning (progress:', progress, 'last_position:', progress === null || progress === void 0 ? void 0 : progress.last_position_seconds, ')');\n                            }\n                        } catch (error) {\n                            console.log('[Lesson Player] âŒ No previous progress found, starting from beginning:', error);\n                        }\n                        // âœ… Mark progress as loaded so player can initialize with correct startPosition\n                        setProgressLoaded(true);\n                        // Get course detail with modules and lessons (including videos)\n                        const courseDetail = await _lib_api_courses__WEBPACK_IMPORTED_MODULE_7__.coursesApi.getCourseById(params.courseId);\n                        // Auto-enroll if not enrolled and user is authenticated\n                        const token = (0,_lib_api_apiClient__WEBPACK_IMPORTED_MODULE_8__.getToken)();\n                        if (token && courseDetail && courseDetail.is_enrolled === false) {\n                            try {\n                                await _lib_api_courses__WEBPACK_IMPORTED_MODULE_7__.coursesApi.enrollCourse(params.courseId);\n                                console.log('[Lesson Player] Auto-enrolled to course:', params.courseId);\n                            } catch (enErr) {\n                                console.warn('[Lesson Player] Failed to auto-enroll:', enErr);\n                            }\n                        }\n                        // Transform the modules data to match our Module type\n                        // UPDATED: Include exercises from API\n                        const transformedModules = courseDetail.modules.map({\n                            \"LessonPlayerPage.useEffect.fetchLessonData.transformedModules\": (moduleData, index)=>{\n                                var _moduleData_lessons, _moduleData_exercises;\n                                return {\n                                    id: moduleData.module.id,\n                                    course_id: params.courseId,\n                                    title: moduleData.module.title || \"Module \".concat(index + 1),\n                                    display_order: moduleData.module.display_order || index + 1,\n                                    total_lessons: ((_moduleData_lessons = moduleData.lessons) === null || _moduleData_lessons === void 0 ? void 0 : _moduleData_lessons.length) || 0,\n                                    total_exercises: ((_moduleData_exercises = moduleData.exercises) === null || _moduleData_exercises === void 0 ? void 0 : _moduleData_exercises.length) || 0,\n                                    is_published: true,\n                                    created_at: moduleData.module.created_at || new Date().toISOString(),\n                                    updated_at: moduleData.module.updated_at || new Date().toISOString(),\n                                    lessons: moduleData.lessons || [],\n                                    exercises: moduleData.exercises || []\n                                };\n                            }\n                        }[\"LessonPlayerPage.useEffect.fetchLessonData.transformedModules\"]);\n                        setModules(transformedModules);\n                    // TODO: Backend notes endpoint not implemented yet\n                    // const lessonNotes = await coursesApi.getLessonNotes(params.courseId as string, params.lessonId as string)\n                    // setNotes(lessonNotes)\n                    } catch (error) {\n                        console.error(\"[v0] Failed to fetch lesson:\", error);\n                    } finally{\n                        setLoading(false);\n                    }\n                }\n            }[\"LessonPlayerPage.useEffect.fetchLessonData\"];\n            fetchLessonData();\n        }\n    }[\"LessonPlayerPage.useEffect\"], [\n        params.courseId,\n        params.lessonId\n    ]);\n    // Track HTML5 video progress (for non-YouTube videos)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"LessonPlayerPage.useEffect\": ()=>{\n            const video = videoRef.current;\n            if (!video || isYouTube) return;\n            let progressInterval = null;\n            // âœ… Apply playback speed from user preferences\n            if (playbackSpeed && playbackSpeed !== 1.0) {\n                video.playbackRate = playbackSpeed;\n                console.log('[HTML5 Video] ðŸŽšï¸ Playback speed set to:', playbackSpeed);\n            }\n            const handleTimeUpdate = {\n                \"LessonPlayerPage.useEffect.handleTimeUpdate\": ()=>{\n                    setCurrentTime(video.currentTime);\n                }\n            }[\"LessonPlayerPage.useEffect.handleTimeUpdate\"];\n            const handleLoadedMetadata = {\n                \"LessonPlayerPage.useEffect.handleLoadedMetadata\": ()=>{\n                    setDuration(video.duration);\n                    // âœ… Ensure playback speed is set after metadata loads\n                    if (playbackSpeed && playbackSpeed !== 1.0) {\n                        video.playbackRate = playbackSpeed;\n                    }\n                }\n            }[\"LessonPlayerPage.useEffect.handleLoadedMetadata\"];\n            const handlePlay = {\n                \"LessonPlayerPage.useEffect.handlePlay\": ()=>{\n                    setIsPlaying(true);\n                    // Send progress every 5 seconds while playing\n                    progressInterval = setInterval({\n                        \"LessonPlayerPage.useEffect.handlePlay\": ()=>{\n                            if (video.duration > 0) {\n                                sendProgressUpdate({\n                                    videoWatchedSeconds: Math.floor(video.currentTime),\n                                    videoTotalSeconds: Math.floor(video.duration),\n                                    progressPercentage: video.currentTime / video.duration * 100\n                                });\n                            }\n                        }\n                    }[\"LessonPlayerPage.useEffect.handlePlay\"], 5000);\n                }\n            }[\"LessonPlayerPage.useEffect.handlePlay\"];\n            const handlePause = {\n                \"LessonPlayerPage.useEffect.handlePause\": ()=>{\n                    setIsPlaying(false);\n                    if (progressInterval) {\n                        clearInterval(progressInterval);\n                        progressInterval = null;\n                    }\n                    // Send final progress\n                    if (video.duration > 0) {\n                        sendProgressUpdate({\n                            videoWatchedSeconds: Math.floor(video.currentTime),\n                            videoTotalSeconds: Math.floor(video.duration),\n                            progressPercentage: video.currentTime / video.duration * 100\n                        });\n                    }\n                }\n            }[\"LessonPlayerPage.useEffect.handlePause\"];\n            const handleEnded = {\n                \"LessonPlayerPage.useEffect.handleEnded\": ()=>{\n                    setIsPlaying(false);\n                    if (progressInterval) {\n                        clearInterval(progressInterval);\n                        progressInterval = null;\n                    }\n                    // Mark as completed\n                    sendProgressUpdate({\n                        videoWatchedSeconds: Math.floor(video.duration),\n                        videoTotalSeconds: Math.floor(video.duration),\n                        progressPercentage: 100,\n                        isCompleted: true\n                    });\n                }\n            }[\"LessonPlayerPage.useEffect.handleEnded\"];\n            video.addEventListener('timeupdate', handleTimeUpdate);\n            video.addEventListener('loadedmetadata', handleLoadedMetadata);\n            video.addEventListener('play', handlePlay);\n            video.addEventListener('pause', handlePause);\n            video.addEventListener('ended', handleEnded);\n            return ({\n                \"LessonPlayerPage.useEffect\": ()=>{\n                    if (progressInterval) {\n                        clearInterval(progressInterval);\n                    }\n                    video.removeEventListener('timeupdate', handleTimeUpdate);\n                    video.removeEventListener('loadedmetadata', handleLoadedMetadata);\n                    video.removeEventListener('play', handlePlay);\n                    video.removeEventListener('pause', handlePause);\n                    video.removeEventListener('ended', handleEnded);\n                }\n            })[\"LessonPlayerPage.useEffect\"];\n        }\n    }[\"LessonPlayerPage.useEffect\"], [\n        isYouTube,\n        playbackSpeed\n    ]);\n    // Send progress on page unload\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"LessonPlayerPage.useEffect\": ()=>{\n            const handleBeforeUnload = {\n                \"LessonPlayerPage.useEffect.handleBeforeUnload\": ()=>{\n                    sendProgressUpdate({\n                        useKeepalive: true\n                    });\n                }\n            }[\"LessonPlayerPage.useEffect.handleBeforeUnload\"];\n            const handleVisibilityChange = {\n                \"LessonPlayerPage.useEffect.handleVisibilityChange\": ()=>{\n                    if (document.hidden) {\n                        sendProgressUpdate({\n                            useKeepalive: true\n                        });\n                    }\n                }\n            }[\"LessonPlayerPage.useEffect.handleVisibilityChange\"];\n            window.addEventListener('beforeunload', handleBeforeUnload);\n            document.addEventListener('visibilitychange', handleVisibilityChange);\n            return ({\n                \"LessonPlayerPage.useEffect\": ()=>{\n                    window.removeEventListener('beforeunload', handleBeforeUnload);\n                    document.removeEventListener('visibilitychange', handleVisibilityChange);\n                }\n            })[\"LessonPlayerPage.useEffect\"];\n        }\n    }[\"LessonPlayerPage.useEffect\"], []);\n    const togglePlay = ()=>{\n        if (videoRef.current) {\n            if (isPlaying) {\n                videoRef.current.pause();\n            } else {\n                videoRef.current.play();\n            }\n        }\n    };\n    const toggleMute = ()=>{\n        if (videoRef.current) {\n            videoRef.current.muted = !isMuted;\n            setIsMuted(!isMuted);\n        }\n    };\n    const handleProgressClick = (e)=>{\n        if (videoRef.current) {\n            const rect = e.currentTarget.getBoundingClientRect();\n            const pos = (e.clientX - rect.left) / rect.width;\n            videoRef.current.currentTime = pos * duration;\n        }\n    };\n    // TODO: Backend notes feature not implemented yet\n    /*\n  const handleAddNote = async () => {\n    if (!note.trim()) return\n\n    try {\n      await coursesApi.addLessonNote(params.courseId as string, params.lessonId as string, {\n        content: note,\n        timestamp: Math.floor(currentTime),\n      })\n      const updatedNotes = await coursesApi.getLessonNotes(params.courseId as string, params.lessonId as string)\n      setNotes(updatedNotes)\n      setNote(\"\")\n    } catch (error) {\n      console.error(\"[v0] Failed to add note:\", error)\n    }\n  }\n  */ const handleCompleteLesson = async ()=>{\n        try {\n            await sendProgressUpdate({\n                videoWatchedSeconds: Math.floor(currentTime),\n                videoTotalSeconds: Math.floor(duration),\n                progressPercentage: 100,\n                isCompleted: true\n            });\n            // âœ… Check auto_play_next_lesson preference\n            if (autoPlayNext) {\n                // Auto-redirect to next lesson\n                handleNextLesson();\n            } else {\n            // Show completion message or just stay on page\n            // User can manually navigate to next lesson\n            }\n        } catch (error) {\n            console.error(\"[v0] Failed to complete lesson:\", error);\n        }\n    };\n    const handleNextLesson = ()=>{\n        const allLessons = modules.flatMap((m)=>m.lessons || []);\n        const currentIndex = allLessons.findIndex((l)=>(l === null || l === void 0 ? void 0 : l.id) === params.lessonId);\n        if (currentIndex < allLessons.length - 1) {\n            const nextLesson = allLessons[currentIndex + 1];\n            if (nextLesson === null || nextLesson === void 0 ? void 0 : nextLesson.id) {\n                router.push(\"/courses/\".concat(params.courseId, \"/lessons/\").concat(nextLesson.id));\n            }\n        } else {\n            router.push(\"/courses/\".concat(params.courseId));\n        }\n    };\n    const handlePreviousLesson = ()=>{\n        const allLessons = modules.flatMap((m)=>m.lessons || []);\n        const currentIndex = allLessons.findIndex((l)=>(l === null || l === void 0 ? void 0 : l.id) === params.lessonId);\n        if (currentIndex > 0) {\n            const prevLesson = allLessons[currentIndex - 1];\n            if (prevLesson === null || prevLesson === void 0 ? void 0 : prevLesson.id) {\n                router.push(\"/courses/\".concat(params.courseId, \"/lessons/\").concat(prevLesson.id));\n            }\n        }\n    };\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_app_layout__WEBPACK_IMPORTED_MODULE_4__.AppLayout, {\n            showSidebar: false,\n            showFooter: false,\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-center min-h-screen\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                    className: \"w-8 h-8 animate-spin text-primary\"\n                }, void 0, false, {\n                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                    lineNumber: 471,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                lineNumber: 470,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n            lineNumber: 469,\n            columnNumber: 7\n        }, this);\n    }\n    if (!lesson) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_app_layout__WEBPACK_IMPORTED_MODULE_4__.AppLayout, {\n            showSidebar: false,\n            showFooter: false,\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_page_container__WEBPACK_IMPORTED_MODULE_5__.PageContainer, {\n                className: \"py-20 text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-2xl font-bold mb-4\",\n                        children: t('courses.lesson_not_found')\n                    }, void 0, false, {\n                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                        lineNumber: 481,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                        onClick: ()=>router.push(\"/courses/\".concat(params.courseId)),\n                        children: t('courses.back_to_course')\n                    }, void 0, false, {\n                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                        lineNumber: 482,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                lineNumber: 480,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n            lineNumber: 479,\n            columnNumber: 7\n        }, this);\n    }\n    const allLessons = modules.flatMap((m)=>m.lessons || []);\n    const currentIndex = allLessons.findIndex((l)=>(l === null || l === void 0 ? void 0 : l.id) === params.lessonId);\n    const hasPrevious = currentIndex > 0;\n    const hasNext = currentIndex < allLessons.length - 1;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_app_layout__WEBPACK_IMPORTED_MODULE_4__.AppLayout, {\n        showSidebar: false,\n        showFooter: false,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen relative\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"border-b bg-white sticky top-0 z-10 shadow-sm\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"container mx-auto px-4 py-3\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center justify-between gap-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                    variant: \"ghost\",\n                                    size: \"sm\",\n                                    onClick: ()=>router.push(\"/courses/\".concat(params.courseId)),\n                                    className: \"flex-shrink-0\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                            className: \"w-4 h-4 mr-1\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                            lineNumber: 506,\n                                            columnNumber: 15\n                                        }, this),\n                                        t('back')\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                    lineNumber: 500,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                    className: \"text-base md:text-lg font-semibold truncate flex-1 text-center px-4\",\n                                    children: lesson.title\n                                }, void 0, false, {\n                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                    lineNumber: 510,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                    onClick: handleCompleteLesson,\n                                    size: \"sm\",\n                                    className: \"flex-shrink-0\",\n                                    disabled: !hasNext,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                            className: \"w-4 h-4 mr-1\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                            lineNumber: 520,\n                                            columnNumber: 15\n                                        }, this),\n                                        t('next')\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                    lineNumber: 514,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                            lineNumber: 499,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                        lineNumber: 498,\n                        columnNumber: 9\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                    lineNumber: 497,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_page_container__WEBPACK_IMPORTED_MODULE_5__.PageContainer, {\n                    className: \"py-6\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid lg:grid-cols-3 gap-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"lg:col-span-2 space-y-6\",\n                                children: [\n                                    videos.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.Card, {\n                                        className: \"overflow-hidden\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardContent, {\n                                                className: \"p-0\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"relative bg-black aspect-video\",\n                                                    children: ((_videos_3 = videos[0]) === null || _videos_3 === void 0 ? void 0 : (_videos__video_provider1 = _videos_3.video_provider) === null || _videos__video_provider1 === void 0 ? void 0 : _videos__video_provider1.toLowerCase()) === 'youtube' && ((_videos_4 = videos[0]) === null || _videos_4 === void 0 ? void 0 : _videos_4.video_id) ? /* YouTube player container - controlled by useYouTubeProgress hook */ /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        ref: youtubeProgress.containerRef,\n                                                        className: \"absolute inset-0 w-full h-full\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                        lineNumber: 537,\n                                                        columnNumber: 23\n                                                    }, this) : ((_videos_5 = videos[0]) === null || _videos_5 === void 0 ? void 0 : _videos_5.video_url) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                                                        ref: videoRef,\n                                                        src: videos[0].video_url,\n                                                        className: \"absolute inset-0 w-full h-full object-contain\",\n                                                        controls: true,\n                                                        controlsList: \"nodownload\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                        lineNumber: 542,\n                                                        columnNumber: 23\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"absolute inset-0 flex items-center justify-center text-white\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                            className: \"w-8 h-8 animate-spin\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                            lineNumber: 551,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                        lineNumber: 550,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                    lineNumber: 534,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 533,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardHeader, {\n                                                className: \"border-t\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-start justify-between\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex-1\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardTitle, {\n                                                                    className: \"text-xl mb-2\",\n                                                                    children: lesson.title\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                    lineNumber: 561,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                lesson.description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"text-sm text-muted-foreground line-clamp-2\",\n                                                                    children: lesson.description\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                    lineNumber: 563,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                            lineNumber: 560,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        (((_videos_6 = videos[0]) === null || _videos_6 === void 0 ? void 0 : _videos_6.duration_seconds) || lesson.duration_minutes) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"ml-4 text-sm text-muted-foreground whitespace-nowrap\",\n                                                            children: ((_videos_7 = videos[0]) === null || _videos_7 === void 0 ? void 0 : _videos_7.duration_seconds) ? (0,_lib_utils_format__WEBPACK_IMPORTED_MODULE_9__.formatDuration)(videos[0].duration_seconds) : lesson.duration_minutes ? \"\".concat(lesson.duration_minutes, \" \").concat(t('minutes_full')) : ''\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                            lineNumber: 570,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                    lineNumber: 559,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 558,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                        lineNumber: 532,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex justify-between items-center gap-4 py-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                variant: \"outline\",\n                                                onClick: handlePreviousLesson,\n                                                disabled: !hasPrevious,\n                                                className: \"flex-1 max-w-[200px]\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                        lineNumber: 592,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    t('previous_lesson')\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 586,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm text-muted-foreground\",\n                                                children: [\n                                                    t('lesson'),\n                                                    \" \",\n                                                    currentIndex + 1,\n                                                    \" / \",\n                                                    allLessons.length\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 596,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                onClick: handleNextLesson,\n                                                disabled: !hasNext,\n                                                className: \"flex-1 max-w-[200px]\",\n                                                children: [\n                                                    t('next_lesson'),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                        className: \"w-4 h-4 ml-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                        lineNumber: 606,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 600,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                        lineNumber: 585,\n                                        columnNumber: 13\n                                    }, this),\n                                    (lesson.content_type === \"article\" || lesson.contentType === \"ARTICLE\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.Card, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardHeader, {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardTitle, {\n                                                    children: lesson.title\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                    lineNumber: 613,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 612,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardContent, {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"prose prose-sm max-w-none\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        children: lesson.description\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                        lineNumber: 617,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                    lineNumber: 616,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 615,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                        lineNumber: 611,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                lineNumber: 529,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"lg:col-span-1\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.Card, {\n                                    className: \"sticky top-20\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardHeader, {\n                                            className: \"pb-3\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardTitle, {\n                                                className: \"text-base\",\n                                                children: \"Ná»™i dung kh\\xf3a há»c\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 672,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                            lineNumber: 671,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardContent, {\n                                            className: \"p-0\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"max-h-[calc(100vh-200px)] overflow-y-auto\",\n                                                children: modules.map((module)=>{\n                                                    var _module_lessons, _module_exercises, _module_exercises1, _module_lessons1, _module_exercises2;\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"border-b last:border-b-0\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"p-4 bg-muted/50\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                        className: \"font-semibold text-sm\",\n                                                                        children: module.title\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                        lineNumber: 679,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-xs text-muted-foreground mt-1\",\n                                                                        children: [\n                                                                            ((_module_lessons = module.lessons) === null || _module_lessons === void 0 ? void 0 : _module_lessons.length) || 0,\n                                                                            \" b\\xe0i há»c\",\n                                                                            (((_module_exercises = module.exercises) === null || _module_exercises === void 0 ? void 0 : _module_exercises.length) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"text-pink-600 dark:text-pink-400\",\n                                                                                children: [\n                                                                                    \" â€¢ \",\n                                                                                    ((_module_exercises1 = module.exercises) === null || _module_exercises1 === void 0 ? void 0 : _module_exercises1.length) || 0,\n                                                                                    \" b\\xe0i táº­p\"\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                lineNumber: 683,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                        lineNumber: 680,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                lineNumber: 678,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"divide-y\",\n                                                                children: [\n                                                                    (_module_lessons1 = module.lessons) === null || _module_lessons1 === void 0 ? void 0 : _module_lessons1.map((l, index)=>{\n                                                                        var _l_videos_, _l_videos;\n                                                                        const contentType = (l.content_type || l.contentType || 'video').toLowerCase();\n                                                                        // Prioritize video duration_seconds for accurate display\n                                                                        const videoDurationSeconds = ((_l_videos = l.videos) === null || _l_videos === void 0 ? void 0 : (_l_videos_ = _l_videos[0]) === null || _l_videos_ === void 0 ? void 0 : _l_videos_.duration_seconds) || 0;\n                                                                        const durationMinutes = l.duration_minutes || l.duration || 0;\n                                                                        const durationSeconds = videoDurationSeconds > 0 ? videoDurationSeconds : durationMinutes * 60;\n                                                                        const isActive = l.id === params.lessonId;\n                                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>router.push(\"/courses/\".concat(params.courseId, \"/lessons/\").concat(l.id)),\n                                                                            className: \"w-full text-left p-3 transition-all \".concat(isActive ? \"bg-primary/10 border-l-4 border-primary\" : \"hover:bg-muted/50 border-l-4 border-transparent\"),\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex items-start gap-3\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium \".concat(isActive ? \"bg-primary text-primary-foreground\" : \"bg-muted text-muted-foreground\"),\n                                                                                        children: index + 1\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                        lineNumber: 710,\n                                                                                        columnNumber: 33\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"flex-1 min-w-0\",\n                                                                                        children: [\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                                className: \"text-sm font-medium truncate \".concat(isActive ? \"text-primary\" : \"\"),\n                                                                                                children: l.title\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                lineNumber: 719,\n                                                                                                columnNumber: 35\n                                                                                            }, this),\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                className: \"flex items-center gap-2 mt-1\",\n                                                                                                children: [\n                                                                                                    contentType === \"video\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                                                                        children: [\n                                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                                className: \"text-xs text-muted-foreground flex items-center gap-1\",\n                                                                                                                children: [\n                                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                                                                                        className: \"w-3 h-3\"\n                                                                                                                    }, void 0, false, {\n                                                                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                                        lineNumber: 728,\n                                                                                                                        columnNumber: 43\n                                                                                                                    }, this),\n                                                                                                                    \"Video\"\n                                                                                                                ]\n                                                                                                            }, void 0, true, {\n                                                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                                lineNumber: 727,\n                                                                                                                columnNumber: 41\n                                                                                                            }, this),\n                                                                                                            durationSeconds > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                                className: \"text-xs text-muted-foreground\",\n                                                                                                                children: [\n                                                                                                                    \"â€¢ \",\n                                                                                                                    (0,_lib_utils_format__WEBPACK_IMPORTED_MODULE_9__.formatDuration)(durationSeconds)\n                                                                                                                ]\n                                                                                                            }, void 0, true, {\n                                                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                                lineNumber: 732,\n                                                                                                                columnNumber: 43\n                                                                                                            }, this)\n                                                                                                        ]\n                                                                                                    }, void 0, true),\n                                                                                                    contentType === \"article\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                        className: \"text-xs text-muted-foreground flex items-center gap-1\",\n                                                                                                        children: [\n                                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                                                                                className: \"w-3 h-3\"\n                                                                                                            }, void 0, false, {\n                                                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                                lineNumber: 740,\n                                                                                                                columnNumber: 41\n                                                                                                            }, this),\n                                                                                                            \"B\\xe0i Ä‘á»c\"\n                                                                                                        ]\n                                                                                                    }, void 0, true, {\n                                                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                        lineNumber: 739,\n                                                                                                        columnNumber: 39\n                                                                                                    }, this)\n                                                                                                ]\n                                                                                            }, void 0, true, {\n                                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                lineNumber: 724,\n                                                                                                columnNumber: 35\n                                                                                            }, this)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                        lineNumber: 718,\n                                                                                        columnNumber: 33\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                lineNumber: 709,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        }, l.id, false, {\n                                                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                            lineNumber: 700,\n                                                                            columnNumber: 29\n                                                                        }, this);\n                                                                    }),\n                                                                    (_module_exercises2 = module.exercises) === null || _module_exercises2 === void 0 ? void 0 : _module_exercises2.map((ex, index)=>{\n                                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>router.push(\"/exercises/\".concat(ex.id)),\n                                                                            className: \"w-full text-left p-3 transition-all bg-pink-50/50 dark:bg-pink-950/10 hover:bg-pink-100 dark:hover:bg-pink-950/20 border-l-4 border-transparent hover:border-pink-500\",\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex items-start gap-3\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium bg-pink-200 dark:bg-pink-900 text-pink-700 dark:text-pink-300\",\n                                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                                                            className: \"w-3 h-3\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                            lineNumber: 761,\n                                                                                            columnNumber: 35\n                                                                                        }, this)\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                        lineNumber: 760,\n                                                                                        columnNumber: 33\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"flex-1 min-w-0\",\n                                                                                        children: [\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                                className: \"text-sm font-medium truncate text-pink-700 dark:text-pink-300\",\n                                                                                                children: ex.title\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                lineNumber: 765,\n                                                                                                columnNumber: 35\n                                                                                            }, this),\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                className: \"flex items-center gap-2 mt-1\",\n                                                                                                children: [\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                        className: \"text-xs text-pink-600 dark:text-pink-400 flex items-center gap-1 font-medium\",\n                                                                                                        children: [\n                                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                                                                                                className: \"w-3 h-3\"\n                                                                                                            }, void 0, false, {\n                                                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                                lineNumber: 770,\n                                                                                                                columnNumber: 39\n                                                                                                            }, this),\n                                                                                                            ex.total_questions,\n                                                                                                            \" c\\xe2u há»i\"\n                                                                                                        ]\n                                                                                                    }, void 0, true, {\n                                                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                        lineNumber: 769,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this),\n                                                                                                    ex.time_limit_minutes && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                        className: \"text-xs text-pink-600 dark:text-pink-400\",\n                                                                                                        children: [\n                                                                                                            \"â€¢ \",\n                                                                                                            ex.time_limit_minutes,\n                                                                                                            \"m\"\n                                                                                                        ]\n                                                                                                    }, void 0, true, {\n                                                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                        lineNumber: 774,\n                                                                                                        columnNumber: 39\n                                                                                                    }, this)\n                                                                                                ]\n                                                                                            }, void 0, true, {\n                                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                lineNumber: 768,\n                                                                                                columnNumber: 35\n                                                                                            }, this)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                        lineNumber: 764,\n                                                                                        columnNumber: 33\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                lineNumber: 759,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        }, ex.id, false, {\n                                                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                            lineNumber: 754,\n                                                                            columnNumber: 29\n                                                                        }, this);\n                                                                    })\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                lineNumber: 687,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, module.id, true, {\n                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                        lineNumber: 677,\n                                                        columnNumber: 21\n                                                    }, this);\n                                                })\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 675,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                            lineNumber: 674,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                    lineNumber: 670,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                lineNumber: 669,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                        lineNumber: 528,\n                        columnNumber: 9\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                    lineNumber: 527,\n                    columnNumber: 7\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n            lineNumber: 495,\n            columnNumber: 5\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n        lineNumber: 494,\n        columnNumber: 5\n    }, this);\n}\n_s(LessonPlayerPage, \"jsMJnIjh4Bc/X9hzkIL9RUAp3B0=\", false, function() {\n    return [\n        _lib_i18n__WEBPACK_IMPORTED_MODULE_12__.useTranslations,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useParams,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        _lib_contexts_preferences_context__WEBPACK_IMPORTED_MODULE_11__.usePreferences,\n        _lib_hooks_use_youtube_progress__WEBPACK_IMPORTED_MODULE_10__.useYouTubeProgress\n    ];\n});\n_c = LessonPlayerPage;\nvar _c;\n$RefreshReg$(_c, \"LessonPlayerPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9jb3Vyc2VzL1tjb3Vyc2VJZF0vbGVzc29ucy9bbGVzc29uSWRdL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLZ0U7QUFDVjtBQUNQO0FBQ1c7QUFDUTtBQUNhO0FBZ0IxRDtBQUN5QjtBQUNBO0FBRUs7QUFDa0I7QUFDRjtBQUN2QjtBQUU3QixTQUFTMkI7UUFtRmlCQyx5QkFBQUEsVUFBMERBLFdBT2hGQSxXQXlaRUEsMEJBQUFBLFdBQTBEQSxXQU12REEsV0E0QkZBLFdBRUdBOztJQXJoQnZCLE1BQU1DLElBQUlILDJEQUFlQSxDQUFDO0lBRTFCLE1BQU1JLFNBQVMxQiwwREFBU0E7SUFDeEIsTUFBTTJCLFNBQVMxQiwwREFBU0E7SUFDeEIsTUFBTTJCLFdBQVc5Qiw2Q0FBTUEsQ0FBbUI7SUFFMUMsTUFBTSxDQUFDK0IsUUFBUUMsVUFBVSxHQUFHbEMsK0NBQVFBLENBQWdCO0lBQ3BELE1BQU0sQ0FBQzRCLFFBQVFPLFVBQVUsR0FBR25DLCtDQUFRQSxDQUFRLEVBQUU7SUFDOUMsTUFBTSxDQUFDb0MsU0FBU0MsV0FBVyxHQUFHckMsK0NBQVFBLENBQVcsRUFBRTtJQUNuRCxNQUFNLENBQUNzQyxTQUFTQyxXQUFXLEdBQUd2QywrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUN3QyxXQUFXQyxhQUFhLEdBQUd6QywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUMwQyxTQUFTQyxXQUFXLEdBQUczQywrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUM0QyxhQUFhQyxlQUFlLEdBQUc3QywrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUM4QyxVQUFVQyxZQUFZLEdBQUcvQywrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNLENBQUNnRCxNQUFNQyxRQUFRLEdBQUdqRCwrQ0FBUUEsQ0FBQztJQUNqQyxNQUFNLENBQUNrRCxPQUFPQyxTQUFTLEdBQUduRCwrQ0FBUUEsQ0FBZ0Ys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QUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF1SHZDO0dBeHZCd0JoSDs7UUFFWkQsdURBQWVBO1FBRVZ0QixzREFBU0E7UUFDVEMsc0RBQVNBO1FBdUJBb0IsOEVBQWNBO1FBOEdkRCxnRkFBa0JBOzs7S0ExSXBCRyIsInNvdXJjZXMiOlsiL1VzZXJzL2Jpc29zYWQvREFUTi9Gcm9udGVuZC1JRUxUU0dvL2FwcC9jb3Vyc2VzL1tjb3Vyc2VJZF0vbGVzc29ucy9bbGVzc29uSWRdL3BhZ2UudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbi8vIFJlc3VtZSB3YXRjaGluZyBmZWF0dXJlICsgVmlkZW8gaGlzdG9yeSB0cmFja2luZ1xuaW1wb3J0IHR5cGUgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyB1c2VQYXJhbXMsIHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIlxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIlxuaW1wb3J0IHsgQXBwTGF5b3V0IH0gZnJvbSBcIkAvY29tcG9uZW50cy9sYXlvdXQvYXBwLWxheW91dFwiXG5pbXBvcnQgeyBQYWdlQ29udGFpbmVyIH0gZnJvbSBcIkAvY29tcG9uZW50cy9sYXlvdXQvcGFnZS1jb250YWluZXJcIlxuaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQsIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvY2FyZFwiXG5pbXBvcnQgeyBUZXh0YXJlYSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvdGV4dGFyZWFcIlxuaW1wb3J0IHsgVGFicywgVGFic0NvbnRlbnQsIFRhYnNMaXN0LCBUYWJzVHJpZ2dlciB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvdGFic1wiXG5pbXBvcnQge1xuICBDaGV2cm9uTGVmdCxcbiAgQ2hldnJvblJpZ2h0LFxuICBDaGVja0NpcmNsZSxcbiAgUGxheUNpcmNsZSxcbiAgUGF1c2VDaXJjbGUsXG4gIFZvbHVtZTIsXG4gIFZvbHVtZVgsXG4gIE1heGltaXplLFxuICBGaWxlVGV4dCxcbiAgTG9hZGVyMixcbiAgUGVuVG9vbCxcbiAgVGFyZ2V0LFxufSBmcm9tIFwibHVjaWRlLXJlYWN0XCJcbmltcG9ydCB7IGNvdXJzZXNBcGkgfSBmcm9tIFwiQC9saWIvYXBpL2NvdXJzZXNcIlxuaW1wb3J0IHsgZ2V0VG9rZW4gfSBmcm9tIFwiQC9saWIvYXBpL2FwaUNsaWVudFwiXG5pbXBvcnQgdHlwZSB7IExlc3NvbiwgTW9kdWxlIH0gZnJvbSBcIkAvdHlwZXNcIlxuaW1wb3J0IHsgZm9ybWF0RHVyYXRpb24gfSBmcm9tIFwiQC9saWIvdXRpbHMvZm9ybWF0XCJcbmltcG9ydCB7IHVzZVlvdVR1YmVQcm9ncmVzcyB9IGZyb20gXCJAL2xpYi9ob29rcy91c2UteW91dHViZS1wcm9ncmVzc1wiXG5pbXBvcnQgeyB1c2VQcmVmZXJlbmNlcyB9IGZyb20gXCJAL2xpYi9jb250ZXh0cy9wcmVmZXJlbmNlcy1jb250ZXh0XCJcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9ucyB9IGZyb20gJ0AvbGliL2kxOG4nXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIExlc3NvblBsYXllclBhZ2UoKSB7XG5cbiAgY29uc3QgdCA9IHVzZVRyYW5zbGF0aW9ucygnY291cnNlcycpXG5cbiAgY29uc3QgcGFyYW1zID0gdXNlUGFyYW1zKClcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKClcbiAgY29uc3QgdmlkZW9SZWYgPSB1c2VSZWY8SFRNTFZpZGVvRWxlbWVudD4obnVsbClcblxuICBjb25zdCBbbGVzc29uLCBzZXRMZXNzb25dID0gdXNlU3RhdGU8TGVzc29uIHwgbnVsbD4obnVsbClcbiAgY29uc3QgW3ZpZGVvcywgc2V0VmlkZW9zXSA9IHVzZVN0YXRlPGFueVtdPihbXSlcbiAgY29uc3QgW21vZHVsZXMsIHNldE1vZHVsZXNdID0gdXNlU3RhdGU8TW9kdWxlW10+KFtdKVxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKVxuICBjb25zdCBbaXNQbGF5aW5nLCBzZXRJc1BsYXlpbmddID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtpc011dGVkLCBzZXRJc011dGVkXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbY3VycmVudFRpbWUsIHNldEN1cnJlbnRUaW1lXSA9IHVzZVN0YXRlKDApXG4gIGNvbnN0IFtkdXJhdGlvbiwgc2V0RHVyYXRpb25dID0gdXNlU3RhdGUoMClcbiAgY29uc3QgW25vdGUsIHNldE5vdGVdID0gdXNlU3RhdGUoXCJcIilcbiAgY29uc3QgW25vdGVzLCBzZXROb3Rlc10gPSB1c2VTdGF0ZTxBcnJheTx7IGlkOiBzdHJpbmc7IGNvbnRlbnQ6IHN0cmluZzsgdGltZXN0YW1wPzogbnVtYmVyOyBjcmVhdGVkQXQ6IHN0cmluZyB9Pj4oW10pXG4gIGNvbnN0IFtsYXN0UG9zaXRpb24sIHNldExhc3RQb3NpdGlvbl0gPSB1c2VTdGF0ZSgwKSAvLyDinIUgRm9yIHJlc3VtZSB3YXRjaGluZ1xuICBjb25zdCBbcHJvZ3Jlc3NMb2FkZWQsIHNldFByb2dyZXNzTG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKSAvLyDinIUgVHJhY2sgaWYgcHJvZ3Jlc3MgaGFzIGJlZW4gZmV0Y2hlZFxuICAvLyDinIUgR2VuZXJhdGUgVVVJRCBmb3Igc2Vzc2lvbiAoYmFja2VuZCBleHBlY3RzIFVVSUQgZm9ybWF0KVxuICBjb25zdCBzZXNzaW9uSWRSZWYgPSB1c2VSZWY8c3RyaW5nIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpIC8vIE9wdGlvbmFsLCBiYWNrZW5kIHdpbGwgaGFuZGxlIGlmIG1pc3NpbmdcbiAgXG4gIC8vIFRyYWNrIHRpbWUgc3BlbnQgb24gcGFnZSAoZm9yIG5vbi12aWRlbyBsZXNzb25zKVxuICBjb25zdCBwYWdlU3RhcnRUaW1lUmVmID0gdXNlUmVmPG51bWJlcj4oRGF0ZS5ub3coKSlcbiAgY29uc3QgdG90YWxUaW1lU3BlbnRSZWYgPSB1c2VSZWY8bnVtYmVyPigwKVxuICBcbiAgLy8g4pyFIEdldCB1c2VyIHByZWZlcmVuY2VzIGZvciBwbGF5YmFjayBzcGVlZCBhbmQgYXV0by1wbGF5XG4gIGNvbnN0IHsgcHJlZmVyZW5jZXMgfSA9IHVzZVByZWZlcmVuY2VzKClcbiAgY29uc3QgcGxheWJhY2tTcGVlZCA9IHByZWZlcmVuY2VzPy5wbGF5YmFja19zcGVlZCB8fCAxLjBcbiAgY29uc3QgYXV0b1BsYXlOZXh0ID0gcHJlZmVyZW5jZXM/LmF1dG9fcGxheV9uZXh0X2xlc3NvbiB8fCBmYWxzZVxuXG4gIC8vIFNlbmQgcHJvZ3Jlc3MgdXBkYXRlIHRvIGJhY2tlbmRcbiAgY29uc3Qgc2VuZFByb2dyZXNzVXBkYXRlID0gYXN5bmMgKGRhdGE6IHtcbiAgICB2aWRlb1dhdGNoZWRTZWNvbmRzPzogbnVtYmVyXG4gICAgdmlkZW9Ub3RhbFNlY29uZHM/OiBudW1iZXJcbiAgICBwcm9ncmVzc1BlcmNlbnRhZ2U/OiBudW1iZXJcbiAgICBpc0NvbXBsZXRlZD86IGJvb2xlYW5cbiAgICB1c2VLZWVwYWxpdmU/OiBib29sZWFuXG4gIH0pID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGF5bG9hZDogYW55ID0ge31cblxuICAgICAgaWYgKGRhdGEudmlkZW9XYXRjaGVkU2Vjb25kcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBheWxvYWQudmlkZW9fd2F0Y2hlZF9zZWNvbmRzID0gZGF0YS52aWRlb1dhdGNoZWRTZWNvbmRzXG4gICAgICB9XG4gICAgICBpZiAoZGF0YS52aWRlb1RvdGFsU2Vjb25kcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBheWxvYWQudmlkZW9fdG90YWxfc2Vjb25kcyA9IGRhdGEudmlkZW9Ub3RhbFNlY29uZHNcbiAgICAgIH1cbiAgICAgIGlmIChkYXRhLnByb2dyZXNzUGVyY2VudGFnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBheWxvYWQucHJvZ3Jlc3NfcGVyY2VudGFnZSA9IGRhdGEucHJvZ3Jlc3NQZXJjZW50YWdlXG4gICAgICB9XG4gICAgICBpZiAoZGF0YS5pc0NvbXBsZXRlZCkge1xuICAgICAgICBwYXlsb2FkLmlzX2NvbXBsZXRlZCA9IHRydWVcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coJ1tMZXNzb24gUGxheWVyXSBTZW5kaW5nIHByb2dyZXNzOicsIHBheWxvYWQpXG5cbiAgICAgIGlmIChkYXRhLnVzZUtlZXBhbGl2ZSkge1xuICAgICAgICAvLyBVc2UgZmV0Y2ggd2l0aCBrZWVwYWxpdmUgZm9yIHBhZ2UgdW5sb2FkXG4gICAgICAgIGNvbnN0IHRva2VuID0gZ2V0VG9rZW4oKVxuICAgICAgICBjb25zdCBiYXNlID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvdjFcIlxuICAgICAgICBjb25zdCB1cmwgPSBgJHtiYXNlfS9wcm9ncmVzcy9sZXNzb25zLyR7cGFyYW1zLmxlc3NvbklkfWBcbiAgICAgICAgYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgLi4uKHRva2VuID8geyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCB9IDoge30pLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAga2VlcGFsaXZlOiB0cnVlLFxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXdhaXQgY291cnNlc0FwaS51cGRhdGVMZXNzb25Qcm9ncmVzcyhwYXJhbXMubGVzc29uSWQgYXMgc3RyaW5nLCBwYXlsb2FkKVxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygnW0xlc3NvbiBQbGF5ZXJdIFByb2dyZXNzIHNlbnQgc3VjY2Vzc2Z1bGx5JylcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW0xlc3NvbiBQbGF5ZXJdIEZhaWxlZCB0byBzZW5kIHByb2dyZXNzOicsIGVycm9yKVxuICAgIH1cbiAgfVxuXG4gIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBZb3VUdWJlIHZpZGVvXG4gIGNvbnN0IGlzWW91VHViZSA9IHZpZGVvcy5sZW5ndGggPiAwICYmIHZpZGVvc1swXT8udmlkZW9fcHJvdmlkZXI/LnRvTG93ZXJDYXNlKCkgPT09ICd5b3V0dWJlJyAmJiB2aWRlb3NbMF0/LnZpZGVvX2lkXG4gIGNvbnN0IHlvdXR1YmVWaWRlb0lkID0gaXNZb3VUdWJlID8gdmlkZW9zWzBdLnZpZGVvX2lkIDogJydcbiAgXG4gIGNvbnNvbGUubG9nKCfwn46lIFtMZXNzb24gUGxheWVyXSBDb21wb25lbnQgcmVuZGVyOicsIHtcbiAgICBoYXNWaWRlb3M6IHZpZGVvcy5sZW5ndGggPiAwLFxuICAgIGlzWW91VHViZSxcbiAgICB5b3V0dWJlVmlkZW9JZCxcbiAgICB2aWRlb1Byb3ZpZGVyOiB2aWRlb3NbMF0/LnZpZGVvX3Byb3ZpZGVyLFxuICB9KVxuXG4gIC8vIOKchSBNZW1vaXplIG9uUHJvZ3Jlc3NVcGRhdGUgxJHhu4MgdHLDoW5oIHJlLXJlbmRlciBsb29wXG4gIGNvbnN0IGhhbmRsZVByb2dyZXNzVXBkYXRlID0gdXNlQ2FsbGJhY2soKGRhdGE6IHtcbiAgICBjdXJyZW50VGltZTogbnVtYmVyXG4gICAgZHVyYXRpb246IG51bWJlclxuICAgIHdhdGNoZWRTZWNvbmRzOiBudW1iZXJcbiAgICBwcm9ncmVzc1BlcmNlbnRhZ2U6IG51bWJlclxuICAgIGFjY3VtdWxhdGVkVGltZTogbnVtYmVyXG4gICAgbGFzdFBvc2l0aW9uOiBudW1iZXJcbiAgICBjb21wbGV0ZWQ6IGJvb2xlYW5cbiAgfSkgPT4ge1xuICAgIC8vIOKdjCBSRU1PVkVEOiBzZXRDdXJyZW50VGltZS9zZXREdXJhdGlvbiBjYXVzZSByZS1yZW5kZXIgbG9vcCFcbiAgICAvLyDinIUgVXNlIHlvdXR1YmVQcm9ncmVzcy5jdXJyZW50VGltZS9kdXJhdGlvbiBkaXJlY3RseSBpbnN0ZWFkXG4gICAgXG4gICAgY29uc29sZS5sb2coJ1tZb3VUdWJlIEhvb2tdIFByb2dyZXNzOicsIHtcbiAgICAgIGFjY3VtdWxhdGVkVGltZTogZGF0YS5hY2N1bXVsYXRlZFRpbWUsXG4gICAgICBsYXN0UG9zaXRpb246IGRhdGEubGFzdFBvc2l0aW9uLFxuICAgICAgd2F0Y2hlZFNlY29uZHM6IGRhdGEud2F0Y2hlZFNlY29uZHMsXG4gICAgfSlcbiAgICBcbiAgICAvLyDinIUgRMO5bmcgYWNjdW11bGF0ZWQgdGltZSB04burIGhvb2sgKHRo4budaSBnaWFuIHRo4buxYyBz4buxIHhlbSlcbiAgICAvLyBTZW5kIHByb2dyZXNzIHRvIGJhY2tlbmQgduG7m2kgbGFzdCBwb3NpdGlvbiArIHZpZGVvIHN0YXRzXG4gICAgY29uc3QgcGF5bG9hZDogYW55ID0ge1xuICAgICAgdmlkZW9fd2F0Y2hlZF9zZWNvbmRzOiBkYXRhLndhdGNoZWRTZWNvbmRzLFxuICAgICAgdmlkZW9fdG90YWxfc2Vjb25kczogTWF0aC5mbG9vcihkYXRhLmR1cmF0aW9uKSxcbiAgICAgIC8vIOKaoO+4jyBEb24ndCBzZW5kIHByb2dyZXNzX3BlcmNlbnRhZ2UgLSBsZXQgYmFja2VuZCBhdXRvLWNhbGN1bGF0ZSBmcm9tIGxhc3RfcG9zaXRpb25cbiAgICAgIC8vIFRoaXMgZW5zdXJlcyBjb25zaXN0ZW50IGNhbGN1bGF0aW9uOiBwcm9ncmVzcyA9IGxhc3RfcG9zaXRpb24gLyB0b3RhbF9kdXJhdGlvbiAqIDEwMFxuICAgICAgbGFzdF9wb3NpdGlvbl9zZWNvbmRzOiBkYXRhLmxhc3RQb3NpdGlvbiwgLy8g4pyFIEzGsHUgduG7iyB0csOtIMSR4buDIHJlc3VtZVxuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygnW0xlc3NvbiBQbGF5ZXJdIFNlbmRpbmcgWW91VHViZSBwcm9ncmVzczonLCBwYXlsb2FkKVxuICAgIFxuICAgIC8vIFVwZGF0ZSBsZXNzb24gcHJvZ3Jlc3NcbiAgICBjb3Vyc2VzQXBpLnVwZGF0ZUxlc3NvblByb2dyZXNzKHBhcmFtcy5sZXNzb25JZCBhcyBzdHJpbmcsIHBheWxvYWQpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbTGVzc29uIFBsYXllcl0gWW91VHViZSBwcm9ncmVzcyBzZW50IHN1Y2Nlc3NmdWxseScpXG4gICAgICAgIFxuICAgICAgICAvLyDihLnvuI8gVmlkZW8gdHJhY2tpbmcgcmVtb3ZlZCAtIGxlc3NvbiBwcm9ncmVzcyBhbHJlYWR5IGluY2x1ZGVzIGFsbCB2aWRlbyBtZXRyaWNzXG4gICAgICAgIC8vICh3YXRjaGVkX3NlY29uZHMsIHRvdGFsX3NlY29uZHMsIGxhc3RfcG9zaXRpb24sIGV0Yy4pXG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcignW0xlc3NvbiBQbGF5ZXJdIEZhaWxlZCB0byBzZW5kIFlvdVR1YmUgcHJvZ3Jlc3M6JywgZXJyb3IpKVxuICB9LCBbcGFyYW1zLmxlc3NvbklkLCB2aWRlb3NdKVxuXG4gIC8vIEluaXRpYWxpemUgWW91VHViZSBwbGF5ZXIgYW5kIHRyYWNraW5nIChvbmx5IGZvciBZb3VUdWJlIHZpZGVvcylcbiAgLy8gSG9vayBNVVNUIGJlIGNhbGxlZCB1bmNvbmRpdGlvbmFsbHksIGJ1dCB3aXRoIGVtcHR5IHZpZGVvSWQgaXQgd2lsbCBza2lwIGluaXRcbiAgLy8g4pyFIE9ubHkgcGFzcyB2aWRlb0lkIGFmdGVyIHByb2dyZXNzIGlzIGxvYWRlZCB0byBlbnN1cmUgc3RhcnRQb3NpdGlvbiBpcyBjb3JyZWN0XG4gIGNvbnN0IHlvdXR1YmVQcm9ncmVzcyA9IHVzZVlvdVR1YmVQcm9ncmVzcyh7XG4gICAgdmlkZW9JZDogcHJvZ3Jlc3NMb2FkZWQgPyB5b3V0dWJlVmlkZW9JZCA6ICcnLCAvLyDinIUgV2FpdCBmb3IgcHJvZ3Jlc3MgdG8gbG9hZCBmaXJzdFxuICAgIHN0YXJ0UG9zaXRpb246IGxhc3RQb3NpdGlvbiwgLy8g4pyFIFJlc3VtZSBmcm9tIGxhc3QgcG9zaXRpb25cbiAgICBvblByb2dyZXNzVXBkYXRlOiBoYW5kbGVQcm9ncmVzc1VwZGF0ZSxcbiAgICB1cGRhdGVJbnRlcnZhbDogNTAwMCwgLy8gU2VuZCB1cGRhdGUgZXZlcnkgNSBzZWNvbmRzXG4gICAgYXV0b1BsYXk6IGZhbHNlLCAvLyBEb24ndCBhdXRvIHBsYXlcbiAgICBwbGF5YmFja1NwZWVkOiBwbGF5YmFja1NwZWVkLCAvLyDinIUgQXBwbHkgdXNlcidzIHByZWZlcnJlZCBwbGF5YmFjayBzcGVlZFxuICB9KVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ1tMZXNzb24gUGxheWVyXSDwn46sIHVzZUVmZmVjdCB0cmlnZ2VyZWQgZm9yIGxlc3NvbjonLCBwYXJhbXMubGVzc29uSWQpXG4gICAgXG4gICAgY29uc3QgZmV0Y2hMZXNzb25EYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0TG9hZGluZyh0cnVlKVxuICAgICAgICBjb25zb2xlLmxvZygnW0xlc3NvbiBQbGF5ZXJdIPCflI0gRmV0Y2hpbmcgbGVzc29uIGRhdGEuLi4nKVxuICAgICAgICBcbiAgICAgICAgLy8gRml4OiBnZXRMZXNzb25CeUlkIG9ubHkgdGFrZXMgbGVzc29uSWQsIG5vdCBjb3Vyc2VJZFxuICAgICAgICBjb25zdCBsZXNzb25EYXRhID0gYXdhaXQgY291cnNlc0FwaS5nZXRMZXNzb25CeUlkKHBhcmFtcy5sZXNzb25JZCBhcyBzdHJpbmcpXG4gICAgICAgIGNvbnNvbGUubG9nKCdbTGVzc29uIFBsYXllcl0g4pyFIExlc3NvbiBkYXRhIHJlY2VpdmVkOicsIHtcbiAgICAgICAgICBsZXNzb246IGxlc3NvbkRhdGEubGVzc29uPy50aXRsZSxcbiAgICAgICAgICB2aWRlb3NDb3VudDogbGVzc29uRGF0YS52aWRlb3M/Lmxlbmd0aCxcbiAgICAgICAgICBmaXJzdFZpZGVvOiBsZXNzb25EYXRhLnZpZGVvcz8uWzBdXG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICBzZXRMZXNzb24obGVzc29uRGF0YS5sZXNzb24pXG4gICAgICAgIHNldFZpZGVvcyhsZXNzb25EYXRhLnZpZGVvcyB8fCBbXSlcblxuICAgICAgICBjb25zb2xlLmxvZygnW0xlc3NvbiBQbGF5ZXJdIFZpZGVvIGRhdGE6JywgbGVzc29uRGF0YS52aWRlb3MpXG4gICAgICAgIGNvbnNvbGUubG9nKCdbTGVzc29uIFBsYXllcl0gSXMgWW91VHViZT8nLCBsZXNzb25EYXRhLnZpZGVvcz8uWzBdPy52aWRlb19wcm92aWRlciwgbGVzc29uRGF0YS52aWRlb3M/LlswXT8udmlkZW9faWQpXG5cbiAgICAgICAgLy8g4pyFIExvYWQgbGFzdCBwb3NpdGlvbiDEkeG7gyByZXN1bWUgd2F0Y2hpbmcgKEJFRk9SRSByZW5kZXJpbmcgcGxheWVyKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gYXdhaXQgY291cnNlc0FwaS5nZXRMZXNzb25Qcm9ncmVzcyhwYXJhbXMubGVzc29uSWQgYXMgc3RyaW5nKVxuICAgICAgICAgIGNvbnNvbGUubG9nKCdbTGVzc29uIFBsYXllcl0g8J+TiiBQcm9ncmVzcyByZXNwb25zZTonLCBwcm9ncmVzcylcbiAgICAgICAgICBpZiAocHJvZ3Jlc3MgJiYgcHJvZ3Jlc3MubGFzdF9wb3NpdGlvbl9zZWNvbmRzID4gMCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tMZXNzb24gUGxheWVyXSDwn5SEIEZvdW5kIHNhdmVkIHBvc2l0aW9uOicsIHByb2dyZXNzLmxhc3RfcG9zaXRpb25fc2Vjb25kcywgJ3NlY29uZHMnKVxuICAgICAgICAgICAgc2V0TGFzdFBvc2l0aW9uKHByb2dyZXNzLmxhc3RfcG9zaXRpb25fc2Vjb25kcylcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tMZXNzb24gUGxheWVyXSDij63vuI8gU3RhcnRpbmcgZnJvbSBiZWdpbm5pbmcgKHByb2dyZXNzOicsIHByb2dyZXNzLCAnbGFzdF9wb3NpdGlvbjonLCBwcm9ncmVzcz8ubGFzdF9wb3NpdGlvbl9zZWNvbmRzLCAnKScpXG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbTGVzc29uIFBsYXllcl0g4p2MIE5vIHByZXZpb3VzIHByb2dyZXNzIGZvdW5kLCBzdGFydGluZyBmcm9tIGJlZ2lubmluZzonLCBlcnJvcilcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8g4pyFIE1hcmsgcHJvZ3Jlc3MgYXMgbG9hZGVkIHNvIHBsYXllciBjYW4gaW5pdGlhbGl6ZSB3aXRoIGNvcnJlY3Qgc3RhcnRQb3NpdGlvblxuICAgICAgICBzZXRQcm9ncmVzc0xvYWRlZCh0cnVlKVxuXG4gICAgICAgIC8vIEdldCBjb3Vyc2UgZGV0YWlsIHdpdGggbW9kdWxlcyBhbmQgbGVzc29ucyAoaW5jbHVkaW5nIHZpZGVvcylcbiAgICAgICAgY29uc3QgY291cnNlRGV0YWlsID0gYXdhaXQgY291cnNlc0FwaS5nZXRDb3Vyc2VCeUlkKHBhcmFtcy5jb3Vyc2VJZCBhcyBzdHJpbmcpXG5cbiAgICAgICAgLy8gQXV0by1lbnJvbGwgaWYgbm90IGVucm9sbGVkIGFuZCB1c2VyIGlzIGF1dGhlbnRpY2F0ZWRcbiAgICAgICAgY29uc3QgdG9rZW4gPSBnZXRUb2tlbigpXG4gICAgICAgIGlmICh0b2tlbiAmJiBjb3Vyc2VEZXRhaWwgJiYgY291cnNlRGV0YWlsLmlzX2Vucm9sbGVkID09PSBmYWxzZSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBjb3Vyc2VzQXBpLmVucm9sbENvdXJzZShwYXJhbXMuY291cnNlSWQgYXMgc3RyaW5nKVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tMZXNzb24gUGxheWVyXSBBdXRvLWVucm9sbGVkIHRvIGNvdXJzZTonLCBwYXJhbXMuY291cnNlSWQpXG4gICAgICAgICAgfSBjYXRjaCAoZW5FcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW0xlc3NvbiBQbGF5ZXJdIEZhaWxlZCB0byBhdXRvLWVucm9sbDonLCBlbkVycilcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFRyYW5zZm9ybSB0aGUgbW9kdWxlcyBkYXRhIHRvIG1hdGNoIG91ciBNb2R1bGUgdHlwZVxuICAgICAgICAvLyBVUERBVEVEOiBJbmNsdWRlIGV4ZXJjaXNlcyBmcm9tIEFQSVxuICAgICAgICBjb25zdCB0cmFuc2Zvcm1lZE1vZHVsZXM6IE1vZHVsZVtdID0gY291cnNlRGV0YWlsLm1vZHVsZXMubWFwKChtb2R1bGVEYXRhOiBhbnksIGluZGV4OiBudW1iZXIpID0+ICh7XG4gICAgICAgICAgaWQ6IG1vZHVsZURhdGEubW9kdWxlLmlkLFxuICAgICAgICAgIGNvdXJzZV9pZDogcGFyYW1zLmNvdXJzZUlkIGFzIHN0cmluZyxcbiAgICAgICAgICB0aXRsZTogbW9kdWxlRGF0YS5tb2R1bGUudGl0bGUgfHwgYE1vZHVsZSAke2luZGV4ICsgMX1gLFxuICAgICAgICAgIGRpc3BsYXlfb3JkZXI6IG1vZHVsZURhdGEubW9kdWxlLmRpc3BsYXlfb3JkZXIgfHwgaW5kZXggKyAxLFxuICAgICAgICAgIHRvdGFsX2xlc3NvbnM6IG1vZHVsZURhdGEubGVzc29ucz8ubGVuZ3RoIHx8IDAsXG4gICAgICAgICAgdG90YWxfZXhlcmNpc2VzOiBtb2R1bGVEYXRhLmV4ZXJjaXNlcz8ubGVuZ3RoIHx8IDAsICAvLyBORVdcbiAgICAgICAgICBpc19wdWJsaXNoZWQ6IHRydWUsXG4gICAgICAgICAgY3JlYXRlZF9hdDogbW9kdWxlRGF0YS5tb2R1bGUuY3JlYXRlZF9hdCB8fCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgdXBkYXRlZF9hdDogbW9kdWxlRGF0YS5tb2R1bGUudXBkYXRlZF9hdCB8fCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgbGVzc29uczogbW9kdWxlRGF0YS5sZXNzb25zIHx8IFtdLFxuICAgICAgICAgIGV4ZXJjaXNlczogbW9kdWxlRGF0YS5leGVyY2lzZXMgfHwgW10sICAvLyBORVdcbiAgICAgICAgfSkpXG4gICAgICAgIFxuICAgICAgICBzZXRNb2R1bGVzKHRyYW5zZm9ybWVkTW9kdWxlcylcblxuICAgICAgICAvLyBUT0RPOiBCYWNrZW5kIG5vdGVzIGVuZHBvaW50IG5vdCBpbXBsZW1lbnRlZCB5ZXRcbiAgICAgICAgLy8gY29uc3QgbGVzc29uTm90ZXMgPSBhd2FpdCBjb3Vyc2VzQXBpLmdldExlc3Nvbk5vdGVzKHBhcmFtcy5jb3Vyc2VJZCBhcyBzdHJpbmcsIHBhcmFtcy5sZXNzb25JZCBhcyBzdHJpbmcpXG4gICAgICAgIC8vIHNldE5vdGVzKGxlc3Nvbk5vdGVzKVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlt2MF0gRmFpbGVkIHRvIGZldGNoIGxlc3NvbjpcIiwgZXJyb3IpXG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKVxuICAgICAgfVxuICAgIH1cblxuICAgIGZldGNoTGVzc29uRGF0YSgpXG4gIH0sIFtwYXJhbXMuY291cnNlSWQsIHBhcmFtcy5sZXNzb25JZF0pXG5cbiAgLy8gVHJhY2sgSFRNTDUgdmlkZW8gcHJvZ3Jlc3MgKGZvciBub24tWW91VHViZSB2aWRlb3MpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdmlkZW8gPSB2aWRlb1JlZi5jdXJyZW50XG4gICAgaWYgKCF2aWRlbyB8fCBpc1lvdVR1YmUpIHJldHVyblxuXG4gICAgbGV0IHByb2dyZXNzSW50ZXJ2YWw6IE5vZGVKUy5UaW1lb3V0IHwgbnVsbCA9IG51bGxcblxuICAgIC8vIOKchSBBcHBseSBwbGF5YmFjayBzcGVlZCBmcm9tIHVzZXIgcHJlZmVyZW5jZXNcbiAgICBpZiAocGxheWJhY2tTcGVlZCAmJiBwbGF5YmFja1NwZWVkICE9PSAxLjApIHtcbiAgICAgIHZpZGVvLnBsYXliYWNrUmF0ZSA9IHBsYXliYWNrU3BlZWRcbiAgICAgIGNvbnNvbGUubG9nKCdbSFRNTDUgVmlkZW9dIPCfjprvuI8gUGxheWJhY2sgc3BlZWQgc2V0IHRvOicsIHBsYXliYWNrU3BlZWQpXG4gICAgfVxuXG4gICAgY29uc3QgaGFuZGxlVGltZVVwZGF0ZSA9ICgpID0+IHtcbiAgICAgIHNldEN1cnJlbnRUaW1lKHZpZGVvLmN1cnJlbnRUaW1lKVxuICAgIH1cblxuICAgIGNvbnN0IGhhbmRsZUxvYWRlZE1ldGFkYXRhID0gKCkgPT4ge1xuICAgICAgc2V0RHVyYXRpb24odmlkZW8uZHVyYXRpb24pXG4gICAgICAvLyDinIUgRW5zdXJlIHBsYXliYWNrIHNwZWVkIGlzIHNldCBhZnRlciBtZXRhZGF0YSBsb2Fkc1xuICAgICAgaWYgKHBsYXliYWNrU3BlZWQgJiYgcGxheWJhY2tTcGVlZCAhPT0gMS4wKSB7XG4gICAgICAgIHZpZGVvLnBsYXliYWNrUmF0ZSA9IHBsYXliYWNrU3BlZWRcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVQbGF5ID0gKCkgPT4ge1xuICAgICAgc2V0SXNQbGF5aW5nKHRydWUpXG4gICAgICAvLyBTZW5kIHByb2dyZXNzIGV2ZXJ5IDUgc2Vjb25kcyB3aGlsZSBwbGF5aW5nXG4gICAgICBwcm9ncmVzc0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBpZiAodmlkZW8uZHVyYXRpb24gPiAwKSB7XG4gICAgICAgICAgc2VuZFByb2dyZXNzVXBkYXRlKHtcbiAgICAgICAgICAgIHZpZGVvV2F0Y2hlZFNlY29uZHM6IE1hdGguZmxvb3IodmlkZW8uY3VycmVudFRpbWUpLFxuICAgICAgICAgICAgdmlkZW9Ub3RhbFNlY29uZHM6IE1hdGguZmxvb3IodmlkZW8uZHVyYXRpb24pLFxuICAgICAgICAgICAgcHJvZ3Jlc3NQZXJjZW50YWdlOiAodmlkZW8uY3VycmVudFRpbWUgLyB2aWRlby5kdXJhdGlvbikgKiAxMDAsXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSwgNTAwMClcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVQYXVzZSA9ICgpID0+IHtcbiAgICAgIHNldElzUGxheWluZyhmYWxzZSlcbiAgICAgIGlmIChwcm9ncmVzc0ludGVydmFsKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwocHJvZ3Jlc3NJbnRlcnZhbClcbiAgICAgICAgcHJvZ3Jlc3NJbnRlcnZhbCA9IG51bGxcbiAgICAgIH1cbiAgICAgIC8vIFNlbmQgZmluYWwgcHJvZ3Jlc3NcbiAgICAgIGlmICh2aWRlby5kdXJhdGlvbiA+IDApIHtcbiAgICAgICAgc2VuZFByb2dyZXNzVXBkYXRlKHtcbiAgICAgICAgICB2aWRlb1dhdGNoZWRTZWNvbmRzOiBNYXRoLmZsb29yKHZpZGVvLmN1cnJlbnRUaW1lKSxcbiAgICAgICAgICB2aWRlb1RvdGFsU2Vjb25kczogTWF0aC5mbG9vcih2aWRlby5kdXJhdGlvbiksXG4gICAgICAgICAgcHJvZ3Jlc3NQZXJjZW50YWdlOiAodmlkZW8uY3VycmVudFRpbWUgLyB2aWRlby5kdXJhdGlvbikgKiAxMDAsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaGFuZGxlRW5kZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0SXNQbGF5aW5nKGZhbHNlKVxuICAgICAgaWYgKHByb2dyZXNzSW50ZXJ2YWwpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChwcm9ncmVzc0ludGVydmFsKVxuICAgICAgICBwcm9ncmVzc0ludGVydmFsID0gbnVsbFxuICAgICAgfVxuICAgICAgLy8gTWFyayBhcyBjb21wbGV0ZWRcbiAgICAgIHNlbmRQcm9ncmVzc1VwZGF0ZSh7XG4gICAgICAgIHZpZGVvV2F0Y2hlZFNlY29uZHM6IE1hdGguZmxvb3IodmlkZW8uZHVyYXRpb24pLFxuICAgICAgICB2aWRlb1RvdGFsU2Vjb25kczogTWF0aC5mbG9vcih2aWRlby5kdXJhdGlvbiksXG4gICAgICAgIHByb2dyZXNzUGVyY2VudGFnZTogMTAwLFxuICAgICAgICBpc0NvbXBsZXRlZDogdHJ1ZSxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcigndGltZXVwZGF0ZScsIGhhbmRsZVRpbWVVcGRhdGUpXG4gICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCBoYW5kbGVMb2FkZWRNZXRhZGF0YSlcbiAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdwbGF5JywgaGFuZGxlUGxheSlcbiAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdwYXVzZScsIGhhbmRsZVBhdXNlKVxuICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgaGFuZGxlRW5kZWQpXG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHByb2dyZXNzSW50ZXJ2YWwpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChwcm9ncmVzc0ludGVydmFsKVxuICAgICAgfVxuICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGltZXVwZGF0ZScsIGhhbmRsZVRpbWVVcGRhdGUpXG4gICAgICB2aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsIGhhbmRsZUxvYWRlZE1ldGFkYXRhKVxuICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigncGxheScsIGhhbmRsZVBsYXkpXG4gICAgICB2aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKCdwYXVzZScsIGhhbmRsZVBhdXNlKVxuICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBoYW5kbGVFbmRlZClcbiAgICB9XG4gIH0sIFtpc1lvdVR1YmUsIHBsYXliYWNrU3BlZWRdKVxuXG4gIC8vIFNlbmQgcHJvZ3Jlc3Mgb24gcGFnZSB1bmxvYWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVCZWZvcmVVbmxvYWQgPSAoKSA9PiB7XG4gICAgICBzZW5kUHJvZ3Jlc3NVcGRhdGUoeyB1c2VLZWVwYWxpdmU6IHRydWUgfSlcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlID0gKCkgPT4ge1xuICAgICAgaWYgKGRvY3VtZW50LmhpZGRlbikge1xuICAgICAgICBzZW5kUHJvZ3Jlc3NVcGRhdGUoeyB1c2VLZWVwYWxpdmU6IHRydWUgfSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBoYW5kbGVCZWZvcmVVbmxvYWQpXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UpXG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgaGFuZGxlQmVmb3JlVW5sb2FkKVxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UpXG4gICAgfVxuICB9LCBbXSlcblxuICBjb25zdCB0b2dnbGVQbGF5ID0gKCkgPT4ge1xuICAgIGlmICh2aWRlb1JlZi5jdXJyZW50KSB7XG4gICAgICBpZiAoaXNQbGF5aW5nKSB7XG4gICAgICAgIHZpZGVvUmVmLmN1cnJlbnQucGF1c2UoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmlkZW9SZWYuY3VycmVudC5wbGF5KClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCB0b2dnbGVNdXRlID0gKCkgPT4ge1xuICAgIGlmICh2aWRlb1JlZi5jdXJyZW50KSB7XG4gICAgICB2aWRlb1JlZi5jdXJyZW50Lm11dGVkID0gIWlzTXV0ZWRcbiAgICAgIHNldElzTXV0ZWQoIWlzTXV0ZWQpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGFuZGxlUHJvZ3Jlc3NDbGljayA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4ge1xuICAgIGlmICh2aWRlb1JlZi5jdXJyZW50KSB7XG4gICAgICBjb25zdCByZWN0ID0gZS5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICBjb25zdCBwb3MgPSAoZS5jbGllbnRYIC0gcmVjdC5sZWZ0KSAvIHJlY3Qud2lkdGhcbiAgICAgIHZpZGVvUmVmLmN1cnJlbnQuY3VycmVudFRpbWUgPSBwb3MgKiBkdXJhdGlvblxuICAgIH1cbiAgfVxuXG4gIC8vIFRPRE86IEJhY2tlbmQgbm90ZXMgZmVhdHVyZSBub3QgaW1wbGVtZW50ZWQgeWV0XG4gIC8qXG4gIGNvbnN0IGhhbmRsZUFkZE5vdGUgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFub3RlLnRyaW0oKSkgcmV0dXJuXG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgY291cnNlc0FwaS5hZGRMZXNzb25Ob3RlKHBhcmFtcy5jb3Vyc2VJZCBhcyBzdHJpbmcsIHBhcmFtcy5sZXNzb25JZCBhcyBzdHJpbmcsIHtcbiAgICAgICAgY29udGVudDogbm90ZSxcbiAgICAgICAgdGltZXN0YW1wOiBNYXRoLmZsb29yKGN1cnJlbnRUaW1lKSxcbiAgICAgIH0pXG4gICAgICBjb25zdCB1cGRhdGVkTm90ZXMgPSBhd2FpdCBjb3Vyc2VzQXBpLmdldExlc3Nvbk5vdGVzKHBhcmFtcy5jb3Vyc2VJZCBhcyBzdHJpbmcsIHBhcmFtcy5sZXNzb25JZCBhcyBzdHJpbmcpXG4gICAgICBzZXROb3Rlcyh1cGRhdGVkTm90ZXMpXG4gICAgICBzZXROb3RlKFwiXCIpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbdjBdIEZhaWxlZCB0byBhZGQgbm90ZTpcIiwgZXJyb3IpXG4gICAgfVxuICB9XG4gICovXG5cblxuICBjb25zdCBoYW5kbGVDb21wbGV0ZUxlc3NvbiA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgc2VuZFByb2dyZXNzVXBkYXRlKHtcbiAgICAgICAgdmlkZW9XYXRjaGVkU2Vjb25kczogTWF0aC5mbG9vcihjdXJyZW50VGltZSksXG4gICAgICAgIHZpZGVvVG90YWxTZWNvbmRzOiBNYXRoLmZsb29yKGR1cmF0aW9uKSxcbiAgICAgICAgcHJvZ3Jlc3NQZXJjZW50YWdlOiAxMDAsXG4gICAgICAgIGlzQ29tcGxldGVkOiB0cnVlLFxuICAgICAgfSlcbiAgICAgIFxuICAgICAgLy8g4pyFIENoZWNrIGF1dG9fcGxheV9uZXh0X2xlc3NvbiBwcmVmZXJlbmNlXG4gICAgICBpZiAoYXV0b1BsYXlOZXh0KSB7XG4gICAgICAgIC8vIEF1dG8tcmVkaXJlY3QgdG8gbmV4dCBsZXNzb25cbiAgICAgICAgaGFuZGxlTmV4dExlc3NvbigpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBTaG93IGNvbXBsZXRpb24gbWVzc2FnZSBvciBqdXN0IHN0YXkgb24gcGFnZVxuICAgICAgICAvLyBVc2VyIGNhbiBtYW51YWxseSBuYXZpZ2F0ZSB0byBuZXh0IGxlc3NvblxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiW3YwXSBGYWlsZWQgdG8gY29tcGxldGUgbGVzc29uOlwiLCBlcnJvcilcbiAgICB9XG4gIH1cblxuICBjb25zdCBoYW5kbGVOZXh0TGVzc29uID0gKCkgPT4ge1xuICAgIGNvbnN0IGFsbExlc3NvbnMgPSBtb2R1bGVzLmZsYXRNYXAoKG0pID0+IG0ubGVzc29ucyB8fCBbXSlcbiAgICBjb25zdCBjdXJyZW50SW5kZXggPSBhbGxMZXNzb25zLmZpbmRJbmRleCgobCkgPT4gbD8uaWQgPT09IHBhcmFtcy5sZXNzb25JZClcbiAgICBpZiAoY3VycmVudEluZGV4IDwgYWxsTGVzc29ucy5sZW5ndGggLSAxKSB7XG4gICAgICBjb25zdCBuZXh0TGVzc29uID0gYWxsTGVzc29uc1tjdXJyZW50SW5kZXggKyAxXVxuICAgICAgaWYgKG5leHRMZXNzb24/LmlkKSB7XG4gICAgICAgIHJvdXRlci5wdXNoKGAvY291cnNlcy8ke3BhcmFtcy5jb3Vyc2VJZH0vbGVzc29ucy8ke25leHRMZXNzb24uaWR9YClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcm91dGVyLnB1c2goYC9jb3Vyc2VzLyR7cGFyYW1zLmNvdXJzZUlkfWApXG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGFuZGxlUHJldmlvdXNMZXNzb24gPSAoKSA9PiB7XG4gICAgY29uc3QgYWxsTGVzc29ucyA9IG1vZHVsZXMuZmxhdE1hcCgobSkgPT4gbS5sZXNzb25zIHx8IFtdKVxuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGFsbExlc3NvbnMuZmluZEluZGV4KChsKSA9PiBsPy5pZCA9PT0gcGFyYW1zLmxlc3NvbklkKVxuICAgIGlmIChjdXJyZW50SW5kZXggPiAwKSB7XG4gICAgICBjb25zdCBwcmV2TGVzc29uID0gYWxsTGVzc29uc1tjdXJyZW50SW5kZXggLSAxXVxuICAgICAgaWYgKHByZXZMZXNzb24/LmlkKSB7XG4gICAgICAgIHJvdXRlci5wdXNoKGAvY291cnNlcy8ke3BhcmFtcy5jb3Vyc2VJZH0vbGVzc29ucy8ke3ByZXZMZXNzb24uaWR9YClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAobG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8QXBwTGF5b3V0IHNob3dTaWRlYmFyPXtmYWxzZX0gc2hvd0Zvb3Rlcj17ZmFsc2V9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1pbi1oLXNjcmVlblwiPlxuICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctOCBoLTggYW5pbWF0ZS1zcGluIHRleHQtcHJpbWFyeVwiIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9BcHBMYXlvdXQ+XG4gICAgKVxuICB9XG5cbiAgaWYgKCFsZXNzb24pIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEFwcExheW91dCBzaG93U2lkZWJhcj17ZmFsc2V9IHNob3dGb290ZXI9e2ZhbHNlfT5cbiAgICAgICAgPFBhZ2VDb250YWluZXIgY2xhc3NOYW1lPVwicHktMjAgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTRcIj57dCgnY291cnNlcy5sZXNzb25fbm90X2ZvdW5kJyl9PC9oMT5cbiAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9eygpID0+IHJvdXRlci5wdXNoKGAvY291cnNlcy8ke3BhcmFtcy5jb3Vyc2VJZH1gKX0+e3QoJ2NvdXJzZXMuYmFja190b19jb3Vyc2UnKX08L0J1dHRvbj5cbiAgICAgICAgPC9QYWdlQ29udGFpbmVyPlxuICAgICAgPC9BcHBMYXlvdXQ+XG4gICAgKVxuICB9XG5cbiAgY29uc3QgYWxsTGVzc29ucyA9IG1vZHVsZXMuZmxhdE1hcCgobSkgPT4gbS5sZXNzb25zIHx8IFtdKVxuICBjb25zdCBjdXJyZW50SW5kZXggPSBhbGxMZXNzb25zLmZpbmRJbmRleCgobCkgPT4gbD8uaWQgPT09IHBhcmFtcy5sZXNzb25JZClcbiAgY29uc3QgaGFzUHJldmlvdXMgPSBjdXJyZW50SW5kZXggPiAwXG4gIGNvbnN0IGhhc05leHQgPSBjdXJyZW50SW5kZXggPCBhbGxMZXNzb25zLmxlbmd0aCAtIDFcblxuICByZXR1cm4gKFxuICAgIDxBcHBMYXlvdXQgc2hvd1NpZGViYXI9e2ZhbHNlfSBzaG93Rm9vdGVyPXtmYWxzZX0+XG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gcmVsYXRpdmVcIj5cbiAgICAgIHsvKiBIZWFkZXIgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci1iIGJnLXdoaXRlIHN0aWNreSB0b3AtMCB6LTEwIHNoYWRvdy1zbVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lciBteC1hdXRvIHB4LTQgcHktM1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC00XCI+XG4gICAgICAgICAgICA8QnV0dG9uIFxuICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIiBcbiAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcm91dGVyLnB1c2goYC9jb3Vyc2VzLyR7cGFyYW1zLmNvdXJzZUlkfWApfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LXNocmluay0wXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPENoZXZyb25MZWZ0IGNsYXNzTmFtZT1cInctNCBoLTQgbXItMVwiIC8+XG4gICAgICAgICAgICAgIHt0KCdiYWNrJyl9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtYmFzZSBtZDp0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdHJ1bmNhdGUgZmxleC0xIHRleHQtY2VudGVyIHB4LTRcIj5cbiAgICAgICAgICAgICAge2xlc3Nvbi50aXRsZX1cbiAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNvbXBsZXRlTGVzc29ufVxuICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LXNocmluay0wXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFoYXNOZXh0fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGUgY2xhc3NOYW1lPVwidy00IGgtNCBtci0xXCIgLz5cbiAgICAgICAgICAgICAge3QoJ25leHQnKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8UGFnZUNvbnRhaW5lciBjbGFzc05hbWU9XCJweS02XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBsZzpncmlkLWNvbHMtMyBnYXAtNlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGc6Y29sLXNwYW4tMiBzcGFjZS15LTZcIj5cbiAgICAgICAgICAgIHsvKiBWaWRlbyBDb250ZW50IC0gU2hvdyBpZiB2aWRlb3MgZXhpc3QsIHJlZ2FyZGxlc3Mgb2YgY29udGVudF90eXBlICovfVxuICAgICAgICAgICAge3ZpZGVvcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgPENhcmQgY2xhc3NOYW1lPVwib3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT1cInAtMFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBiZy1ibGFjayBhc3BlY3QtdmlkZW9cIj5cbiAgICAgICAgICAgICAgICAgICAge3ZpZGVvc1swXT8udmlkZW9fcHJvdmlkZXI/LnRvTG93ZXJDYXNlKCkgPT09ICd5b3V0dWJlJyAmJiB2aWRlb3NbMF0/LnZpZGVvX2lkID8gKFxuICAgICAgICAgICAgICAgICAgICAgIC8qIFlvdVR1YmUgcGxheWVyIGNvbnRhaW5lciAtIGNvbnRyb2xsZWQgYnkgdXNlWW91VHViZVByb2dyZXNzIGhvb2sgKi9cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXt5b3V0dWJlUHJvZ3Jlc3MuY29udGFpbmVyUmVmfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCB3LWZ1bGwgaC1mdWxsXCJcbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICApIDogdmlkZW9zWzBdPy52aWRlb191cmwgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPHZpZGVvXG4gICAgICAgICAgICAgICAgICAgICAgICByZWY9e3ZpZGVvUmVmfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXt2aWRlb3NbMF0udmlkZW9fdXJsfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCB3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb250YWluXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sc0xpc3Q9XCJub2Rvd25sb2FkXCJcbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTggaC04IGFuaW1hdGUtc3BpblwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHsvKiBWaWRlbyBJbmZvICovfVxuICAgICAgICAgICAgICAgIDxDYXJkSGVhZGVyIGNsYXNzTmFtZT1cImJvcmRlci10XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9XCJ0ZXh0LXhsIG1iLTJcIj57bGVzc29uLnRpdGxlfTwvQ2FyZFRpdGxlPlxuICAgICAgICAgICAgICAgICAgICAgIHtsZXNzb24uZGVzY3JpcHRpb24gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQgbGluZS1jbGFtcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtsZXNzb24uZGVzY3JpcHRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHsvKiBTaG93IGFjdHVhbCB2aWRlbyBkdXJhdGlvbiBpZiBhdmFpbGFibGUsIGZhbGxiYWNrIHRvIGxlc3NvbiBkdXJhdGlvbiAqL31cbiAgICAgICAgICAgICAgICAgICAgeyh2aWRlb3NbMF0/LmR1cmF0aW9uX3NlY29uZHMgfHwgbGVzc29uLmR1cmF0aW9uX21pbnV0ZXMpICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1sLTQgdGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQgd2hpdGVzcGFjZS1ub3dyYXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt2aWRlb3NbMF0/LmR1cmF0aW9uX3NlY29uZHMgXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gZm9ybWF0RHVyYXRpb24odmlkZW9zWzBdLmR1cmF0aW9uX3NlY29uZHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogbGVzc29uLmR1cmF0aW9uX21pbnV0ZXMgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBgJHtsZXNzb24uZHVyYXRpb25fbWludXRlc30gJHt0KCdtaW51dGVzX2Z1bGwnKX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7LyogTGVzc29uIE5hdmlnYXRpb24gKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBnYXAtNCBweS00XCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUHJldmlvdXNMZXNzb259XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFoYXNQcmV2aW91c31cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgbWF4LXctWzIwMHB4XVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8Q2hldnJvbkxlZnQgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICB7dCgncHJldmlvdXNfbGVzc29uJyl9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAgICAgIHt0KCdsZXNzb24nKX0ge2N1cnJlbnRJbmRleCArIDF9IC8ge2FsbExlc3NvbnMubGVuZ3RofVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVOZXh0TGVzc29ufVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXshaGFzTmV4dH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgbWF4LXctWzIwMHB4XVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7dCgnbmV4dF9sZXNzb24nKX1cbiAgICAgICAgICAgICAgICA8Q2hldnJvblJpZ2h0IGNsYXNzTmFtZT1cInctNCBoLTQgbWwtMlwiIC8+XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHsobGVzc29uLmNvbnRlbnRfdHlwZSA9PT0gXCJhcnRpY2xlXCIgfHwgbGVzc29uLmNvbnRlbnRUeXBlID09PSBcIkFSVElDTEVcIikgJiYgKFxuICAgICAgICAgICAgICA8Q2FyZD5cbiAgICAgICAgICAgICAgICA8Q2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgICAgIDxDYXJkVGl0bGU+e2xlc3Nvbi50aXRsZX08L0NhcmRUaXRsZT5cbiAgICAgICAgICAgICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICAgICAgICAgICAgPENhcmRDb250ZW50PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9zZSBwcm9zZS1zbSBtYXgtdy1ub25lXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwPntsZXNzb24uZGVzY3JpcHRpb259PC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICAgICAgPC9DYXJkPlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgey8qIFRPRE86IEJhY2tlbmQgbm90ZXMgZmVhdHVyZSBub3QgaW1wbGVtZW50ZWQgeWV0XG4gICAgICAgICAgICA8Q2FyZD5cbiAgICAgICAgICAgICAgPENhcmRIZWFkZXI+XG4gICAgICAgICAgICAgICAgPENhcmRUaXRsZT57dCgnY291cnNlcy5sZXNzb25fbm90ZXMnKX08L0NhcmRUaXRsZT5cbiAgICAgICAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgPFRhYnMgZGVmYXVsdFZhbHVlPVwiYWRkXCI+XG4gICAgICAgICAgICAgICAgICA8VGFic0xpc3QgY2xhc3NOYW1lPVwiZ3JpZCB3LWZ1bGwgZ3JpZC1jb2xzLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPFRhYnNUcmlnZ2VyIHZhbHVlPVwiYWRkXCI+e3QoJ2NvdXJzZXMuYWRkX25vdGUnKX08L1RhYnNUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICA8VGFic1RyaWdnZXIgdmFsdWU9XCJ2aWV3XCI+VmlldyBOb3RlcyAoe25vdGVzLmxlbmd0aH0pPC9UYWJzVHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgIDwvVGFic0xpc3Q+XG4gICAgICAgICAgICAgICAgICA8VGFic0NvbnRlbnQgdmFsdWU9XCJhZGRcIiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPFRleHRhcmVhXG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e3QoJ2NvdXJzZXMud3JpdGVfeW91cl9ub3Rlc19oZXJlJyl9XG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e25vdGV9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROb3RlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUFkZE5vdGV9Pnt0KCdjb3Vyc2VzLnNhdmVfbm90ZScpfTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9UYWJzQ29udGVudD5cbiAgICAgICAgICAgICAgICAgIDxUYWJzQ29udGVudCB2YWx1ZT1cInZpZXdcIj5cbiAgICAgICAgICAgICAgICAgICAge25vdGVzLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkLWZvcmVncm91bmQgdGV4dC1jZW50ZXIgcHktOFwiPnt0KCdjb3Vyc2VzLm5vX25vdGVzX3lldCcpfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAge25vdGVzLm1hcCgobikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17bi5pZH0gY2xhc3NOYW1lPVwicC0zIGJnLW11dGVkIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGaWxlVGV4dCBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bi50aW1lc3RhbXAgIT09IHVuZGVmaW5lZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+e2Zvcm1hdER1cmF0aW9uKG4udGltZXN0YW1wKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc21cIj57bi5jb250ZW50fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvVGFic0NvbnRlbnQ+XG4gICAgICAgICAgICAgICAgPC9UYWJzPlxuICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgPC9DYXJkPlxuICAgICAgICAgICAgKi99XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogU2lkZWJhciAtIENvdXJzZSBDb250ZW50ICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGc6Y29sLXNwYW4tMVwiPlxuICAgICAgICAgICAgPENhcmQgY2xhc3NOYW1lPVwic3RpY2t5IHRvcC0yMFwiPlxuICAgICAgICAgICAgICA8Q2FyZEhlYWRlciBjbGFzc05hbWU9XCJwYi0zXCI+XG4gICAgICAgICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9XCJ0ZXh0LWJhc2VcIj5O4buZaSBkdW5nIGtow7NhIGjhu41jPC9DYXJkVGl0bGU+XG4gICAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT1cInAtMFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LWgtW2NhbGMoMTAwdmgtMjAwcHgpXSBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgIHttb2R1bGVzLm1hcCgobW9kdWxlKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXttb2R1bGUuaWR9IGNsYXNzTmFtZT1cImJvcmRlci1iIGxhc3Q6Ym9yZGVyLWItMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJnLW11dGVkLzUwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXNtXCI+e21vZHVsZS50aXRsZX08L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7bW9kdWxlLmxlc3NvbnM/Lmxlbmd0aCB8fCAwfSBiw6BpIGjhu41jXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsobW9kdWxlLmV4ZXJjaXNlcz8ubGVuZ3RoIHx8IDApID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1waW5rLTYwMCBkYXJrOnRleHQtcGluay00MDBcIj4g4oCiIHttb2R1bGUuZXhlcmNpc2VzPy5sZW5ndGggfHwgMH0gYsOgaSB04bqtcDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRpdmlkZS15XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogTGVzc29ucyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIHttb2R1bGUubGVzc29ucz8ubWFwKChsLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50VHlwZSA9IChsLmNvbnRlbnRfdHlwZSB8fCBsLmNvbnRlbnRUeXBlIHx8ICd2aWRlbycpLnRvTG93ZXJDYXNlKClcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmlvcml0aXplIHZpZGVvIGR1cmF0aW9uX3NlY29uZHMgZm9yIGFjY3VyYXRlIGRpc3BsYXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlkZW9EdXJhdGlvblNlY29uZHMgPSAobCBhcyBhbnkpLnZpZGVvcz8uWzBdPy5kdXJhdGlvbl9zZWNvbmRzIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZHVyYXRpb25NaW51dGVzID0gbC5kdXJhdGlvbl9taW51dGVzIHx8IGwuZHVyYXRpb24gfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkdXJhdGlvblNlY29uZHMgPSB2aWRlb0R1cmF0aW9uU2Vjb25kcyA+IDAgPyB2aWRlb0R1cmF0aW9uU2Vjb25kcyA6IGR1cmF0aW9uTWludXRlcyAqIDYwXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBsLmlkID09PSBwYXJhbXMubGVzc29uSWRcblxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17bC5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHJvdXRlci5wdXNoKGAvY291cnNlcy8ke3BhcmFtcy5jb3Vyc2VJZH0vbGVzc29ucy8ke2wuaWR9YCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgdGV4dC1sZWZ0IHAtMyB0cmFuc2l0aW9uLWFsbCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0FjdGl2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJiZy1wcmltYXJ5LzEwIGJvcmRlci1sLTQgYm9yZGVyLXByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJob3ZlcjpiZy1tdXRlZC81MCBib3JkZXItbC00IGJvcmRlci10cmFuc3BhcmVudFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BmbGV4LXNocmluay0wIHctNiBoLTYgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQteHMgZm9udC1tZWRpdW0gJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0FjdGl2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcImJnLXByaW1hcnkgdGV4dC1wcmltYXJ5LWZvcmVncm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcImJnLW11dGVkIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aW5kZXggKyAxfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPXtgdGV4dC1zbSBmb250LW1lZGl1bSB0cnVuY2F0ZSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmUgPyBcInRleHQtcHJpbWFyeVwiIDogXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsLnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjb250ZW50VHlwZSA9PT0gXCJ2aWRlb1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBsYXlDaXJjbGUgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWaWRlb1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZHVyYXRpb25TZWNvbmRzID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDigKIge2Zvcm1hdER1cmF0aW9uKGR1cmF0aW9uU2Vjb25kcyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NvbnRlbnRUeXBlID09PSBcImFydGljbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZpbGVUZXh0IGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIELDoGkgxJHhu41jXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogRXhlcmNpc2VzIC0gTkVXICovfVxuICAgICAgICAgICAgICAgICAgICAgICAge21vZHVsZS5leGVyY2lzZXM/Lm1hcCgoZXgsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtleC5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHJvdXRlci5wdXNoKGAvZXhlcmNpc2VzLyR7ZXguaWR9YCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHAtMyB0cmFuc2l0aW9uLWFsbCBiZy1waW5rLTUwLzUwIGRhcms6YmctcGluay05NTAvMTAgaG92ZXI6YmctcGluay0xMDAgZGFyazpob3ZlcjpiZy1waW5rLTk1MC8yMCBib3JkZXItbC00IGJvcmRlci10cmFuc3BhcmVudCBob3Zlcjpib3JkZXItcGluay01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTAgdy02IGgtNiByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC14cyBmb250LW1lZGl1bSBiZy1waW5rLTIwMCBkYXJrOmJnLXBpbmstOTAwIHRleHQtcGluay03MDAgZGFyazp0ZXh0LXBpbmstMzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhcmdldCBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdHJ1bmNhdGUgdGV4dC1waW5rLTcwMCBkYXJrOnRleHQtcGluay0zMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtleC50aXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtcGluay02MDAgZGFyazp0ZXh0LXBpbmstNDAwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQZW5Ub29sIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZXgudG90YWxfcXVlc3Rpb25zfSBjw6J1IGjhu49pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZXgudGltZV9saW1pdF9taW51dGVzICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXBpbmstNjAwIGRhcms6dGV4dC1waW5rLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKAoiB7ZXgudGltZV9saW1pdF9taW51dGVzfW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9QYWdlQ29udGFpbmVyPlxuICAgIDwvZGl2PlxuICAgIDwvQXBwTGF5b3V0PlxuICApXG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VDYWxsYmFjayIsInVzZVBhcmFtcyIsInVzZVJvdXRlciIsIkJ1dHRvbiIsIkFwcExheW91dCIsIlBhZ2VDb250YWluZXIiLCJDYXJkIiwiQ2FyZENvbnRlbnQiLCJDYXJkSGVhZGVyIiwiQ2FyZFRpdGxlIiwiQ2hldnJvbkxlZnQiLCJDaGV2cm9uUmlnaHQiLCJDaGVja0NpcmNsZSIsIlBsYXlDaXJjbGUiLCJGaWxlVGV4dCIsIkxvYWRlcjIiLCJQZW5Ub29sIiwiVGFyZ2V0IiwiY291cnNlc0FwaSIsImdldFRva2VuIiwiZm9ybWF0RHVyYXRpb24iLCJ1c2VZb3VUdWJlUHJvZ3Jlc3MiLCJ1c2VQcmVmZXJlbmNlcyIsInVzZVRyYW5zbGF0aW9ucyIsIkxlc3NvblBsYXllclBhZ2UiLCJ2aWRlb3MiLCJ0IiwicGFyYW1zIiwicm91dGVyIiwidmlkZW9SZWYiLCJsZXNzb24iLCJzZXRMZXNzb24iLCJzZXRWaWRlb3MiLCJtb2R1bGVzIiwic2V0TW9kdWxlcyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiaXNQbGF5aW5nIiwic2V0SXNQbGF5aW5nIiwiaXNNdXRlZCIsInNldElzTXV0ZWQiLCJjdXJyZW50VGltZSIsInNldEN1cnJlbnRUaW1lIiwiZHVyYXRpb24iLCJzZXREdXJhdGlvbiIsIm5vdGUiLCJzZXROb3RlIiwibm90ZXMiLCJzZXROb3RlcyIsImxhc3RQb3NpdGlvbiIsInNldExhc3RQb3NpdGlvbiIsInByb2dyZXNzTG9hZGVkIiwic2V0UHJvZ3Jlc3NMb2FkZWQiLCJzZXNzaW9uSWRSZWYiLCJ1bmRlZmluZWQiLCJwYWdlU3RhcnRUaW1lUmVmIiwiRGF0ZSIsIm5vdyIsInRvdGFsVGltZVNwZW50UmVmIiwicHJlZmVyZW5jZXMiLCJwbGF5YmFja1NwZWVkIiwicGxheWJhY2tfc3BlZWQiLCJhdXRvUGxheU5leHQiLCJhdXRvX3BsYXlfbmV4dF9sZXNzb24iLCJzZW5kUHJvZ3Jlc3NVcGRhdGUiLCJkYXRhIiwicGF5bG9hZCIsInZpZGVvV2F0Y2hlZFNlY29uZHMiLCJ2aWRlb193YXRjaGVkX3NlY29uZHMiLCJ2aWRlb1RvdGFsU2Vjb25kcyIsInZpZGVvX3RvdGFsX3NlY29uZHMiLCJwcm9ncmVzc1BlcmNlbnRhZ2UiLCJwcm9ncmVzc19wZXJjZW50YWdlIiwiaXNDb21wbGV0ZWQiLCJpc19jb21wbGV0ZWQiLCJjb25zb2xlIiwibG9nIiwidXNlS2VlcGFsaXZlIiwidG9rZW4iLCJiYXNlIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJ1cmwiLCJsZXNzb25JZCIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImtlZXBhbGl2ZSIsInVwZGF0ZUxlc3NvblByb2dyZXNzIiwiZXJyb3IiLCJpc1lvdVR1YmUiLCJsZW5ndGgiLCJ2aWRlb19wcm92aWRlciIsInRvTG93ZXJDYXNlIiwidmlkZW9faWQiLCJ5b3V0dWJlVmlkZW9JZCIsImhhc1ZpZGVvcyIsInZpZGVvUHJvdmlkZXIiLCJoYW5kbGVQcm9ncmVzc1VwZGF0ZSIsImFjY3VtdWxhdGVkVGltZSIsIndhdGNoZWRTZWNvbmRzIiwiTWF0aCIsImZsb29yIiwibGFzdF9wb3NpdGlvbl9zZWNvbmRzIiwidGhlbiIsImNhdGNoIiwieW91dHViZVByb2dyZXNzIiwidmlkZW9JZCIsInN0YXJ0UG9zaXRpb24iLCJvblByb2dyZXNzVXBkYXRlIiwidXBkYXRlSW50ZXJ2YWwiLCJhdXRvUGxheSIsImZldGNoTGVzc29uRGF0YSIsImxlc3NvbkRhdGEiLCJnZXRMZXNzb25CeUlkIiwidGl0bGUiLCJ2aWRlb3NDb3VudCIsImZpcnN0VmlkZW8iLCJwcm9ncmVzcyIsImdldExlc3NvblByb2dyZXNzIiwiY291cnNlRGV0YWlsIiwiZ2V0Q291cnNlQnlJZCIsImNvdXJzZUlkIiwiaXNfZW5yb2xsZWQiLCJlbnJvbGxDb3Vyc2UiLCJlbkVyciIsIndhcm4iLCJ0cmFuc2Zvcm1lZE1vZHVsZXMiLCJtYXAiLCJtb2R1bGVEYXRhIiwiaW5kZXgiLCJpZCIsIm1vZHVsZSIsImNvdXJzZV9pZCIsImRpc3BsYXlfb3JkZXIiLCJ0b3RhbF9sZXNzb25zIiwibGVzc29ucyIsInRvdGFsX2V4ZXJjaXNlcyIsImV4ZXJjaXNlcyIsImlzX3B1Ymxpc2hlZCIsImNyZWF0ZWRfYXQiLCJ0b0lTT1N0cmluZyIsInVwZGF0ZWRfYXQiLCJ2aWRlbyIsImN1cnJlbnQiLCJwcm9ncmVzc0ludGVydmFsIiwicGxheWJhY2tSYXRlIiwiaGFuZGxlVGltZVVwZGF0ZSIsImhhbmRsZUxvYWRlZE1ldGFkYXRhIiwiaGFuZGxlUGxheSIsInNldEludGVydmFsIiwiaGFuZGxlUGF1c2UiLCJjbGVhckludGVydmFsIiwiaGFuZGxlRW5kZWQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZUJlZm9yZVVubG9hZCIsImhhbmRsZVZpc2liaWxpdHlDaGFuZ2UiLCJkb2N1bWVudCIsImhpZGRlbiIsIndpbmRvdyIsInRvZ2dsZVBsYXkiLCJwYXVzZSIsInBsYXkiLCJ0b2dnbGVNdXRlIiwibXV0ZWQiLCJoYW5kbGVQcm9ncmVzc0NsaWNrIiwiZSIsInJlY3QiLCJjdXJyZW50VGFyZ2V0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicG9zIiwiY2xpZW50WCIsImxlZnQiLCJ3aWR0aCIsImhhbmRsZUNvbXBsZXRlTGVzc29uIiwiaGFuZGxlTmV4dExlc3NvbiIsImFsbExlc3NvbnMiLCJmbGF0TWFwIiwibSIsImN1cnJlbnRJbmRleCIsImZpbmRJbmRleCIsImwiLCJuZXh0TGVzc29uIiwicHVzaCIsImhhbmRsZVByZXZpb3VzTGVzc29uIiwicHJldkxlc3NvbiIsInNob3dTaWRlYmFyIiwic2hvd0Zvb3RlciIsImRpdiIsImNsYXNzTmFtZSIsImgxIiwib25DbGljayIsImhhc1ByZXZpb3VzIiwiaGFzTmV4dCIsInZhcmlhbnQiLCJzaXplIiwiZGlzYWJsZWQiLCJyZWYiLCJjb250YWluZXJSZWYiLCJ2aWRlb191cmwiLCJzcmMiLCJjb250cm9scyIsImNvbnRyb2xzTGlzdCIsImRlc2NyaXB0aW9uIiwicCIsImR1cmF0aW9uX3NlY29uZHMiLCJkdXJhdGlvbl9taW51dGVzIiwiY29udGVudF90eXBlIiwiY29udGVudFR5cGUiLCJoNCIsInNwYW4iLCJ2aWRlb0R1cmF0aW9uU2Vjb25kcyIsImR1cmF0aW9uTWludXRlcyIsImR1cmF0aW9uU2Vjb25kcyIsImlzQWN0aXZlIiwiYnV0dG9uIiwiZXgiLCJ0b3RhbF9xdWVzdGlvbnMiLCJ0aW1lX2xpbWl0X21pbnV0ZXMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/courses/[courseId]/lessons/[lessonId]/page.tsx\n"));

/***/ })

});