"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/courses/[courseId]/lessons/[lessonId]/page",{

/***/ "(app-pages-browser)/./app/courses/[courseId]/lessons/[lessonId]/page.tsx":
/*!************************************************************!*\
  !*** ./app/courses/[courseId]/lessons/[lessonId]/page.tsx ***!
  \************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LessonPlayerPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.2.4_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.2.4_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.2.4_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _components_layout_app_layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/layout/app-layout */ \"(app-pages-browser)/./components/layout/app-layout.tsx\");\n/* harmony import */ var _components_layout_page_container__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/layout/page-container */ \"(app-pages-browser)/./components/layout/page-container.tsx\");\n/* harmony import */ var _components_ui_card__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ui/card */ \"(app-pages-browser)/./components/ui/card.tsx\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,ChevronRight,FileText,Loader2,PenTool,PlayCircle,Target!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,ChevronRight,FileText,Loader2,PenTool,PlayCircle,Target!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/chevron-left.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,ChevronRight,FileText,Loader2,PenTool,PlayCircle,Target!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/circle-check-big.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,ChevronRight,FileText,Loader2,PenTool,PlayCircle,Target!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,ChevronRight,FileText,Loader2,PenTool,PlayCircle,Target!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/circle-play.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,ChevronRight,FileText,Loader2,PenTool,PlayCircle,Target!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/file-text.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,ChevronRight,FileText,Loader2,PenTool,PlayCircle,Target!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/target.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,ChevronRight,FileText,Loader2,PenTool,PlayCircle,Target!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/pen-tool.js\");\n/* harmony import */ var _lib_api_courses__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/api/courses */ \"(app-pages-browser)/./lib/api/courses.ts\");\n/* harmony import */ var _lib_api_apiClient__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/api/apiClient */ \"(app-pages-browser)/./lib/api/apiClient.ts\");\n/* harmony import */ var _lib_utils_format__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/lib/utils/format */ \"(app-pages-browser)/./lib/utils/format.ts\");\n/* harmony import */ var _lib_hooks_use_youtube_progress__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/lib/hooks/use-youtube-progress */ \"(app-pages-browser)/./lib/hooks/use-youtube-progress.ts\");\n/* harmony import */ var _lib_contexts_preferences_context__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/lib/contexts/preferences-context */ \"(app-pages-browser)/./lib/contexts/preferences-context.tsx\");\n/* harmony import */ var _lib_i18n__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/lib/i18n */ \"(app-pages-browser)/./lib/i18n/index.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction LessonPlayerPage() {\n    var _videos__video_provider, _videos_, _videos_1, _videos_2, _videos__video_provider1, _videos_3, _videos_4, _videos_5, _videos_6, _videos_7;\n    _s();\n    const t = (0,_lib_i18n__WEBPACK_IMPORTED_MODULE_12__.useTranslations)('courses');\n    const params = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useParams)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [lesson, setLesson] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [videos, setVideos] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [modules, setModules] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [isPlaying, setIsPlaying] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isMuted, setIsMuted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentTime, setCurrentTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [duration, setDuration] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [note, setNote] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [notes, setNotes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [lastPosition, setLastPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0) // ✅ For resume watching\n    ;\n    const [progressLoaded, setProgressLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false) // ✅ Track if progress has been fetched\n    ;\n    // ✅ Generate UUID for session (backend expects UUID format)\n    const sessionIdRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(undefined) // Optional, backend will handle if missing\n    ;\n    // Track time spent on page (for non-video lessons)\n    const pageStartTimeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(Date.now());\n    const totalTimeSpentRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    // ✅ Get user preferences for playback speed and auto-play\n    const { preferences } = (0,_lib_contexts_preferences_context__WEBPACK_IMPORTED_MODULE_11__.usePreferences)();\n    const playbackSpeed = (preferences === null || preferences === void 0 ? void 0 : preferences.playback_speed) || 1.0;\n    const autoPlayNext = (preferences === null || preferences === void 0 ? void 0 : preferences.auto_play_next_lesson) || false;\n    // Send progress update to backend\n    const sendProgressUpdate = async (data)=>{\n        try {\n            const payload = {};\n            if (data.videoWatchedSeconds !== undefined) {\n                payload.video_watched_seconds = data.videoWatchedSeconds;\n            }\n            if (data.videoTotalSeconds !== undefined) {\n                payload.video_total_seconds = data.videoTotalSeconds;\n            }\n            if (data.progressPercentage !== undefined) {\n                payload.progress_percentage = data.progressPercentage;\n            }\n            if (data.isCompleted) {\n                payload.is_completed = true;\n            }\n            console.log('[Lesson Player] Sending progress:', payload);\n            if (data.useKeepalive) {\n                // Use fetch with keepalive for page unload\n                const token = (0,_lib_api_apiClient__WEBPACK_IMPORTED_MODULE_8__.getToken)();\n                const base = \"http://localhost:8080/api/v1\" || 0;\n                const url = \"\".concat(base, \"/progress/lessons/\").concat(params.lessonId);\n                await fetch(url, {\n                    method: \"PUT\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        ...token ? {\n                            Authorization: \"Bearer \".concat(token)\n                        } : {}\n                    },\n                    body: JSON.stringify(payload),\n                    keepalive: true\n                });\n            } else {\n                await _lib_api_courses__WEBPACK_IMPORTED_MODULE_7__.coursesApi.updateLessonProgress(params.lessonId, payload);\n            }\n            console.log('[Lesson Player] Progress sent successfully');\n        } catch (error) {\n            console.error('[Lesson Player] Failed to send progress:', error);\n        }\n    };\n    // Check if this is a YouTube video\n    const isYouTube = videos.length > 0 && ((_videos_ = videos[0]) === null || _videos_ === void 0 ? void 0 : (_videos__video_provider = _videos_.video_provider) === null || _videos__video_provider === void 0 ? void 0 : _videos__video_provider.toLowerCase()) === 'youtube' && ((_videos_1 = videos[0]) === null || _videos_1 === void 0 ? void 0 : _videos_1.video_id);\n    const youtubeVideoId = isYouTube ? videos[0].video_id : '';\n    console.log('🎥 [Lesson Player] Component render:', {\n        hasVideos: videos.length > 0,\n        isYouTube,\n        youtubeVideoId,\n        videoProvider: (_videos_2 = videos[0]) === null || _videos_2 === void 0 ? void 0 : _videos_2.video_provider\n    });\n    // ✅ Memoize onProgressUpdate để tránh re-render loop\n    const handleProgressUpdate = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"LessonPlayerPage.useCallback[handleProgressUpdate]\": (data)=>{\n            // ❌ REMOVED: setCurrentTime/setDuration cause re-render loop!\n            // ✅ Use youtubeProgress.currentTime/duration directly instead\n            console.log('[YouTube Hook] Progress:', {\n                accumulatedTime: data.accumulatedTime,\n                lastPosition: data.lastPosition,\n                watchedSeconds: data.watchedSeconds\n            });\n            // ✅ Dùng accumulated time từ hook (thời gian thực sự xem)\n            // Send progress to backend với last position + video stats\n            const payload = {\n                video_watched_seconds: data.watchedSeconds,\n                video_total_seconds: Math.floor(data.duration),\n                // ⚠️ Don't send progress_percentage - let backend auto-calculate from last_position\n                // This ensures consistent calculation: progress = last_position / total_duration * 100\n                last_position_seconds: data.lastPosition\n            };\n            console.log('[Lesson Player] Sending YouTube progress:', payload);\n            // Update lesson progress\n            _lib_api_courses__WEBPACK_IMPORTED_MODULE_7__.coursesApi.updateLessonProgress(params.lessonId, payload).then({\n                \"LessonPlayerPage.useCallback[handleProgressUpdate]\": ()=>{\n                    console.log('[Lesson Player] YouTube progress sent successfully');\n                // ℹ️ Video tracking removed - lesson progress already includes all video metrics\n                // (watched_seconds, total_seconds, last_position, etc.)\n                }\n            }[\"LessonPlayerPage.useCallback[handleProgressUpdate]\"]).catch({\n                \"LessonPlayerPage.useCallback[handleProgressUpdate]\": (error)=>console.error('[Lesson Player] Failed to send YouTube progress:', error)\n            }[\"LessonPlayerPage.useCallback[handleProgressUpdate]\"]);\n        }\n    }[\"LessonPlayerPage.useCallback[handleProgressUpdate]\"], [\n        params.lessonId,\n        videos\n    ]);\n    // Initialize YouTube player and tracking (only for YouTube videos)\n    // Hook MUST be called unconditionally, but with empty videoId it will skip init\n    // ✅ Only pass videoId after progress is loaded to ensure startPosition is correct\n    const youtubeProgress = (0,_lib_hooks_use_youtube_progress__WEBPACK_IMPORTED_MODULE_10__.useYouTubeProgress)({\n        videoId: progressLoaded ? youtubeVideoId : '',\n        startPosition: lastPosition,\n        onProgressUpdate: handleProgressUpdate,\n        updateInterval: 5000,\n        autoPlay: false,\n        playbackSpeed: playbackSpeed\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"LessonPlayerPage.useEffect\": ()=>{\n            console.log('[Lesson Player] 🎬 useEffect triggered for lesson:', params.lessonId);\n            const fetchLessonData = {\n                \"LessonPlayerPage.useEffect.fetchLessonData\": async ()=>{\n                    try {\n                        var _lessonData_lesson, _lessonData_videos, _lessonData_videos1, _lessonData_videos_, _lessonData_videos2, _lessonData_videos_1, _lessonData_videos3;\n                        setLoading(true);\n                        console.log('[Lesson Player] 🔍 Fetching lesson data...');\n                        // Fix: getLessonById only takes lessonId, not courseId\n                        const lessonData = await _lib_api_courses__WEBPACK_IMPORTED_MODULE_7__.coursesApi.getLessonById(params.lessonId);\n                        console.log('[Lesson Player] ✅ Lesson data received:', {\n                            lesson: (_lessonData_lesson = lessonData.lesson) === null || _lessonData_lesson === void 0 ? void 0 : _lessonData_lesson.title,\n                            videosCount: (_lessonData_videos = lessonData.videos) === null || _lessonData_videos === void 0 ? void 0 : _lessonData_videos.length,\n                            firstVideo: (_lessonData_videos1 = lessonData.videos) === null || _lessonData_videos1 === void 0 ? void 0 : _lessonData_videos1[0]\n                        });\n                        setLesson(lessonData.lesson);\n                        setVideos(lessonData.videos || []);\n                        console.log('[Lesson Player] Video data:', lessonData.videos);\n                        console.log('[Lesson Player] Is YouTube?', (_lessonData_videos2 = lessonData.videos) === null || _lessonData_videos2 === void 0 ? void 0 : (_lessonData_videos_ = _lessonData_videos2[0]) === null || _lessonData_videos_ === void 0 ? void 0 : _lessonData_videos_.video_provider, (_lessonData_videos3 = lessonData.videos) === null || _lessonData_videos3 === void 0 ? void 0 : (_lessonData_videos_1 = _lessonData_videos3[0]) === null || _lessonData_videos_1 === void 0 ? void 0 : _lessonData_videos_1.video_id);\n                        // ✅ Load last position để resume watching (BEFORE rendering player)\n                        try {\n                            const progress = await _lib_api_courses__WEBPACK_IMPORTED_MODULE_7__.coursesApi.getLessonProgress(params.lessonId);\n                            console.log('[Lesson Player] 📊 Progress response:', progress);\n                            if (progress && progress.last_position_seconds > 0) {\n                                console.log('[Lesson Player] 🔄 Found saved position:', progress.last_position_seconds, 'seconds');\n                                setLastPosition(progress.last_position_seconds);\n                            } else {\n                                console.log('[Lesson Player] ⏭️ Starting from beginning (progress:', progress, 'last_position:', progress === null || progress === void 0 ? void 0 : progress.last_position_seconds, ')');\n                            }\n                        } catch (error) {\n                            console.log('[Lesson Player] ❌ No previous progress found, starting from beginning:', error);\n                        }\n                        // ✅ Mark progress as loaded so player can initialize with correct startPosition\n                        setProgressLoaded(true);\n                        // Get course detail with modules and lessons (including videos)\n                        const courseDetail = await _lib_api_courses__WEBPACK_IMPORTED_MODULE_7__.coursesApi.getCourseById(params.courseId);\n                        // Auto-enroll if not enrolled and user is authenticated\n                        const token = (0,_lib_api_apiClient__WEBPACK_IMPORTED_MODULE_8__.getToken)();\n                        if (token && courseDetail && courseDetail.is_enrolled === false) {\n                            try {\n                                await _lib_api_courses__WEBPACK_IMPORTED_MODULE_7__.coursesApi.enrollCourse(params.courseId);\n                                console.log('[Lesson Player] Auto-enrolled to course:', params.courseId);\n                            } catch (enErr) {\n                                console.warn('[Lesson Player] Failed to auto-enroll:', enErr);\n                            }\n                        }\n                        // Transform the modules data to match our Module type\n                        // UPDATED: Include exercises from API\n                        const transformedModules = courseDetail.modules.map({\n                            \"LessonPlayerPage.useEffect.fetchLessonData.transformedModules\": (moduleData, index)=>{\n                                var _moduleData_lessons, _moduleData_exercises;\n                                return {\n                                    id: moduleData.module.id,\n                                    course_id: params.courseId,\n                                    title: moduleData.module.title || \"Module \".concat(index + 1),\n                                    display_order: moduleData.module.display_order || index + 1,\n                                    total_lessons: ((_moduleData_lessons = moduleData.lessons) === null || _moduleData_lessons === void 0 ? void 0 : _moduleData_lessons.length) || 0,\n                                    total_exercises: ((_moduleData_exercises = moduleData.exercises) === null || _moduleData_exercises === void 0 ? void 0 : _moduleData_exercises.length) || 0,\n                                    is_published: true,\n                                    created_at: moduleData.module.created_at || new Date().toISOString(),\n                                    updated_at: moduleData.module.updated_at || new Date().toISOString(),\n                                    lessons: moduleData.lessons || [],\n                                    exercises: moduleData.exercises || []\n                                };\n                            }\n                        }[\"LessonPlayerPage.useEffect.fetchLessonData.transformedModules\"]);\n                        setModules(transformedModules);\n                    // TODO: Backend notes endpoint not implemented yet\n                    // const lessonNotes = await coursesApi.getLessonNotes(params.courseId as string, params.lessonId as string)\n                    // setNotes(lessonNotes)\n                    } catch (error) {\n                        console.error(\"[v0] Failed to fetch lesson:\", error);\n                    } finally{\n                        setLoading(false);\n                    }\n                }\n            }[\"LessonPlayerPage.useEffect.fetchLessonData\"];\n            fetchLessonData();\n        }\n    }[\"LessonPlayerPage.useEffect\"], [\n        params.courseId,\n        params.lessonId\n    ]);\n    // Track HTML5 video progress (for non-YouTube videos)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"LessonPlayerPage.useEffect\": ()=>{\n            const video = videoRef.current;\n            if (!video || isYouTube) return;\n            let progressInterval = null;\n            // ✅ Apply playback speed from user preferences\n            if (playbackSpeed && playbackSpeed !== 1.0) {\n                video.playbackRate = playbackSpeed;\n                console.log('[HTML5 Video] 🎚️ Playback speed set to:', playbackSpeed);\n            }\n            const handleTimeUpdate = {\n                \"LessonPlayerPage.useEffect.handleTimeUpdate\": ()=>{\n                    setCurrentTime(video.currentTime);\n                }\n            }[\"LessonPlayerPage.useEffect.handleTimeUpdate\"];\n            const handleLoadedMetadata = {\n                \"LessonPlayerPage.useEffect.handleLoadedMetadata\": ()=>{\n                    setDuration(video.duration);\n                    // ✅ Ensure playback speed is set after metadata loads\n                    if (playbackSpeed && playbackSpeed !== 1.0) {\n                        video.playbackRate = playbackSpeed;\n                    }\n                }\n            }[\"LessonPlayerPage.useEffect.handleLoadedMetadata\"];\n            const handlePlay = {\n                \"LessonPlayerPage.useEffect.handlePlay\": ()=>{\n                    setIsPlaying(true);\n                    // Send progress every 5 seconds while playing\n                    progressInterval = setInterval({\n                        \"LessonPlayerPage.useEffect.handlePlay\": ()=>{\n                            if (video.duration > 0) {\n                                sendProgressUpdate({\n                                    videoWatchedSeconds: Math.floor(video.currentTime),\n                                    videoTotalSeconds: Math.floor(video.duration),\n                                    progressPercentage: video.currentTime / video.duration * 100\n                                });\n                            }\n                        }\n                    }[\"LessonPlayerPage.useEffect.handlePlay\"], 5000);\n                }\n            }[\"LessonPlayerPage.useEffect.handlePlay\"];\n            const handlePause = {\n                \"LessonPlayerPage.useEffect.handlePause\": ()=>{\n                    setIsPlaying(false);\n                    if (progressInterval) {\n                        clearInterval(progressInterval);\n                        progressInterval = null;\n                    }\n                    // Send final progress\n                    if (video.duration > 0) {\n                        sendProgressUpdate({\n                            videoWatchedSeconds: Math.floor(video.currentTime),\n                            videoTotalSeconds: Math.floor(video.duration),\n                            progressPercentage: video.currentTime / video.duration * 100\n                        });\n                    }\n                }\n            }[\"LessonPlayerPage.useEffect.handlePause\"];\n            const handleEnded = {\n                \"LessonPlayerPage.useEffect.handleEnded\": ()=>{\n                    setIsPlaying(false);\n                    if (progressInterval) {\n                        clearInterval(progressInterval);\n                        progressInterval = null;\n                    }\n                    // Mark as completed\n                    sendProgressUpdate({\n                        videoWatchedSeconds: Math.floor(video.duration),\n                        videoTotalSeconds: Math.floor(video.duration),\n                        progressPercentage: 100,\n                        isCompleted: true\n                    });\n                }\n            }[\"LessonPlayerPage.useEffect.handleEnded\"];\n            video.addEventListener('timeupdate', handleTimeUpdate);\n            video.addEventListener('loadedmetadata', handleLoadedMetadata);\n            video.addEventListener('play', handlePlay);\n            video.addEventListener('pause', handlePause);\n            video.addEventListener('ended', handleEnded);\n            return ({\n                \"LessonPlayerPage.useEffect\": ()=>{\n                    if (progressInterval) {\n                        clearInterval(progressInterval);\n                    }\n                    video.removeEventListener('timeupdate', handleTimeUpdate);\n                    video.removeEventListener('loadedmetadata', handleLoadedMetadata);\n                    video.removeEventListener('play', handlePlay);\n                    video.removeEventListener('pause', handlePause);\n                    video.removeEventListener('ended', handleEnded);\n                }\n            })[\"LessonPlayerPage.useEffect\"];\n        }\n    }[\"LessonPlayerPage.useEffect\"], [\n        isYouTube,\n        playbackSpeed\n    ]);\n    // Send progress on page unload\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"LessonPlayerPage.useEffect\": ()=>{\n            const handleBeforeUnload = {\n                \"LessonPlayerPage.useEffect.handleBeforeUnload\": ()=>{\n                    sendProgressUpdate({\n                        useKeepalive: true\n                    });\n                }\n            }[\"LessonPlayerPage.useEffect.handleBeforeUnload\"];\n            const handleVisibilityChange = {\n                \"LessonPlayerPage.useEffect.handleVisibilityChange\": ()=>{\n                    if (document.hidden) {\n                        sendProgressUpdate({\n                            useKeepalive: true\n                        });\n                    }\n                }\n            }[\"LessonPlayerPage.useEffect.handleVisibilityChange\"];\n            window.addEventListener('beforeunload', handleBeforeUnload);\n            document.addEventListener('visibilitychange', handleVisibilityChange);\n            return ({\n                \"LessonPlayerPage.useEffect\": ()=>{\n                    window.removeEventListener('beforeunload', handleBeforeUnload);\n                    document.removeEventListener('visibilitychange', handleVisibilityChange);\n                }\n            })[\"LessonPlayerPage.useEffect\"];\n        }\n    }[\"LessonPlayerPage.useEffect\"], []);\n    const togglePlay = ()=>{\n        if (videoRef.current) {\n            if (isPlaying) {\n                videoRef.current.pause();\n            } else {\n                videoRef.current.play();\n            }\n        }\n    };\n    const toggleMute = ()=>{\n        if (videoRef.current) {\n            videoRef.current.muted = !isMuted;\n            setIsMuted(!isMuted);\n        }\n    };\n    const handleProgressClick = (e)=>{\n        if (videoRef.current) {\n            const rect = e.currentTarget.getBoundingClientRect();\n            const pos = (e.clientX - rect.left) / rect.width;\n            videoRef.current.currentTime = pos * duration;\n        }\n    };\n    // TODO: Backend notes feature not implemented yet\n    /*\n  const handleAddNote = async () => {\n    if (!note.trim()) return\n\n    try {\n      await coursesApi.addLessonNote(params.courseId as string, params.lessonId as string, {\n        content: note,\n        timestamp: Math.floor(currentTime),\n      })\n      const updatedNotes = await coursesApi.getLessonNotes(params.courseId as string, params.lessonId as string)\n      setNotes(updatedNotes)\n      setNote(\"\")\n    } catch (error) {\n      console.error(\"[v0] Failed to add note:\", error)\n    }\n  }\n  */ const handleCompleteLesson = async ()=>{\n        try {\n            await sendProgressUpdate({\n                videoWatchedSeconds: Math.floor(currentTime),\n                videoTotalSeconds: Math.floor(duration),\n                progressPercentage: 100,\n                isCompleted: true\n            });\n            // ✅ Check auto_play_next_lesson preference\n            if (autoPlayNext) {\n                // Auto-redirect to next lesson\n                handleNextLesson();\n            } else {\n            // Show completion message or just stay on page\n            // User can manually navigate to next lesson\n            }\n        } catch (error) {\n            console.error(\"[v0] Failed to complete lesson:\", error);\n        }\n    };\n    const handleNextLesson = ()=>{\n        const allLessons = modules.flatMap((m)=>m.lessons || []);\n        const currentIndex = allLessons.findIndex((l)=>(l === null || l === void 0 ? void 0 : l.id) === params.lessonId);\n        if (currentIndex < allLessons.length - 1) {\n            const nextLesson = allLessons[currentIndex + 1];\n            if (nextLesson === null || nextLesson === void 0 ? void 0 : nextLesson.id) {\n                router.push(\"/courses/\".concat(params.courseId, \"/lessons/\").concat(nextLesson.id));\n            }\n        } else {\n            router.push(\"/courses/\".concat(params.courseId));\n        }\n    };\n    const handlePreviousLesson = ()=>{\n        const allLessons = modules.flatMap((m)=>m.lessons || []);\n        const currentIndex = allLessons.findIndex((l)=>(l === null || l === void 0 ? void 0 : l.id) === params.lessonId);\n        if (currentIndex > 0) {\n            const prevLesson = allLessons[currentIndex - 1];\n            if (prevLesson === null || prevLesson === void 0 ? void 0 : prevLesson.id) {\n                router.push(\"/courses/\".concat(params.courseId, \"/lessons/\").concat(prevLesson.id));\n            }\n        }\n    };\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_app_layout__WEBPACK_IMPORTED_MODULE_4__.AppLayout, {\n            showSidebar: false,\n            showFooter: false,\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-center min-h-screen\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                    className: \"w-8 h-8 animate-spin text-primary\"\n                }, void 0, false, {\n                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                    lineNumber: 471,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                lineNumber: 470,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n            lineNumber: 469,\n            columnNumber: 7\n        }, this);\n    }\n    if (!lesson) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_app_layout__WEBPACK_IMPORTED_MODULE_4__.AppLayout, {\n            showSidebar: false,\n            showFooter: false,\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_page_container__WEBPACK_IMPORTED_MODULE_5__.PageContainer, {\n                className: \"py-20 text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-2xl font-bold mb-4\",\n                        children: t('courses.lesson_not_found')\n                    }, void 0, false, {\n                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                        lineNumber: 481,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                        onClick: ()=>router.push(\"/courses/\".concat(params.courseId)),\n                        children: t('courses.back_to_course')\n                    }, void 0, false, {\n                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                        lineNumber: 482,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                lineNumber: 480,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n            lineNumber: 479,\n            columnNumber: 7\n        }, this);\n    }\n    const allLessons = modules.flatMap((m)=>m.lessons || []);\n    const currentIndex = allLessons.findIndex((l)=>(l === null || l === void 0 ? void 0 : l.id) === params.lessonId);\n    const hasPrevious = currentIndex > 0;\n    const hasNext = currentIndex < allLessons.length - 1;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_app_layout__WEBPACK_IMPORTED_MODULE_4__.AppLayout, {\n        showSidebar: false,\n        showFooter: false,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen relative\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"border-b bg-white sticky top-0 z-10 shadow-sm\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"container mx-auto px-4 py-3\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center justify-between gap-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                    variant: \"ghost\",\n                                    size: \"sm\",\n                                    onClick: ()=>router.push(\"/courses/\".concat(params.courseId)),\n                                    className: \"flex-shrink-0\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                            className: \"w-4 h-4 mr-1\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                            lineNumber: 506,\n                                            columnNumber: 15\n                                        }, this),\n                                        t('back')\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                    lineNumber: 500,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                    className: \"text-base md:text-lg font-semibold truncate flex-1 text-center px-4\",\n                                    children: lesson.title\n                                }, void 0, false, {\n                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                    lineNumber: 510,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                    onClick: handleCompleteLesson,\n                                    size: \"sm\",\n                                    className: \"flex-shrink-0\",\n                                    disabled: !hasNext,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                            className: \"w-4 h-4 mr-1\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                            lineNumber: 520,\n                                            columnNumber: 15\n                                        }, this),\n                                        t('next')\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                    lineNumber: 514,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                            lineNumber: 499,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                        lineNumber: 498,\n                        columnNumber: 9\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                    lineNumber: 497,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_page_container__WEBPACK_IMPORTED_MODULE_5__.PageContainer, {\n                    className: \"py-6\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid lg:grid-cols-3 gap-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"lg:col-span-2 space-y-6\",\n                                children: [\n                                    videos.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.Card, {\n                                        className: \"overflow-hidden\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardContent, {\n                                                className: \"p-0\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"relative bg-black aspect-video\",\n                                                    children: ((_videos_3 = videos[0]) === null || _videos_3 === void 0 ? void 0 : (_videos__video_provider1 = _videos_3.video_provider) === null || _videos__video_provider1 === void 0 ? void 0 : _videos__video_provider1.toLowerCase()) === 'youtube' && ((_videos_4 = videos[0]) === null || _videos_4 === void 0 ? void 0 : _videos_4.video_id) ? /* YouTube player container - controlled by useYouTubeProgress hook */ /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        ref: youtubeProgress.containerRef,\n                                                        className: \"absolute inset-0 w-full h-full\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                        lineNumber: 537,\n                                                        columnNumber: 23\n                                                    }, this) : ((_videos_5 = videos[0]) === null || _videos_5 === void 0 ? void 0 : _videos_5.video_url) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                                                        ref: videoRef,\n                                                        src: videos[0].video_url,\n                                                        className: \"absolute inset-0 w-full h-full object-contain\",\n                                                        controls: true,\n                                                        controlsList: \"nodownload\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                        lineNumber: 542,\n                                                        columnNumber: 23\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"absolute inset-0 flex items-center justify-center text-white\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                            className: \"w-8 h-8 animate-spin\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                            lineNumber: 551,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                        lineNumber: 550,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                    lineNumber: 534,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 533,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardHeader, {\n                                                className: \"border-t\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-start justify-between\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex-1\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardTitle, {\n                                                                    className: \"text-xl mb-2\",\n                                                                    children: lesson.title\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                    lineNumber: 561,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                lesson.description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"text-sm text-muted-foreground line-clamp-2\",\n                                                                    children: lesson.description\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                    lineNumber: 563,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                            lineNumber: 560,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        (((_videos_6 = videos[0]) === null || _videos_6 === void 0 ? void 0 : _videos_6.duration_seconds) || lesson.duration_minutes) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"ml-4 text-sm text-muted-foreground whitespace-nowrap\",\n                                                            children: ((_videos_7 = videos[0]) === null || _videos_7 === void 0 ? void 0 : _videos_7.duration_seconds) ? (0,_lib_utils_format__WEBPACK_IMPORTED_MODULE_9__.formatDuration)(videos[0].duration_seconds) : lesson.duration_minutes ? \"\".concat(lesson.duration_minutes, \" \").concat(t('minutes_full')) : ''\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                            lineNumber: 570,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                    lineNumber: 559,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 558,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                        lineNumber: 532,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex justify-between items-center gap-4 py-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                variant: \"outline\",\n                                                onClick: handlePreviousLesson,\n                                                disabled: !hasPrevious,\n                                                className: \"flex-1 max-w-[200px]\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                        lineNumber: 592,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    t('previous_lesson')\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 586,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm text-muted-foreground\",\n                                                children: [\n                                                    t('lesson'),\n                                                    \" \",\n                                                    currentIndex + 1,\n                                                    \" / \",\n                                                    allLessons.length\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 596,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                onClick: handleNextLesson,\n                                                disabled: !hasNext,\n                                                className: \"flex-1 max-w-[200px]\",\n                                                children: [\n                                                    t('next_lesson'),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                        className: \"w-4 h-4 ml-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                        lineNumber: 606,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 600,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                        lineNumber: 585,\n                                        columnNumber: 13\n                                    }, this),\n                                    (lesson.content_type === \"article\" || lesson.contentType === \"ARTICLE\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.Card, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardHeader, {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardTitle, {\n                                                    children: lesson.title\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                    lineNumber: 613,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 612,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardContent, {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"prose prose-sm max-w-none\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        children: lesson.description\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                        lineNumber: 617,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                    lineNumber: 616,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 615,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                        lineNumber: 611,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                lineNumber: 529,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"lg:col-span-1\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.Card, {\n                                    className: \"sticky top-20\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardHeader, {\n                                            className: \"pb-3\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardTitle, {\n                                                className: \"text-base\",\n                                                children: t('course_content')\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 672,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                            lineNumber: 671,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardContent, {\n                                            className: \"p-0\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"max-h-[calc(100vh-200px)] overflow-y-auto\",\n                                                children: modules.map((module)=>{\n                                                    var _module_lessons, _module_exercises, _module_exercises1, _module_lessons1, _module_exercises2;\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"border-b last:border-b-0\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"p-4 bg-muted/50\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                        className: \"font-semibold text-sm\",\n                                                                        children: module.title\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                        lineNumber: 679,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-xs text-muted-foreground mt-1\",\n                                                                        children: [\n                                                                            ((_module_lessons = module.lessons) === null || _module_lessons === void 0 ? void 0 : _module_lessons.length) || 0,\n                                                                            \" b\\xe0i học\",\n                                                                            (((_module_exercises = module.exercises) === null || _module_exercises === void 0 ? void 0 : _module_exercises.length) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"text-pink-600 dark:text-pink-400\",\n                                                                                children: [\n                                                                                    \" • \",\n                                                                                    ((_module_exercises1 = module.exercises) === null || _module_exercises1 === void 0 ? void 0 : _module_exercises1.length) || 0,\n                                                                                    \" b\\xe0i tập\"\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                lineNumber: 683,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                        lineNumber: 680,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                lineNumber: 678,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"divide-y\",\n                                                                children: [\n                                                                    (_module_lessons1 = module.lessons) === null || _module_lessons1 === void 0 ? void 0 : _module_lessons1.map((l, index)=>{\n                                                                        var _l_videos_, _l_videos;\n                                                                        const contentType = (l.content_type || l.contentType || 'video').toLowerCase();\n                                                                        // Prioritize video duration_seconds for accurate display\n                                                                        const videoDurationSeconds = ((_l_videos = l.videos) === null || _l_videos === void 0 ? void 0 : (_l_videos_ = _l_videos[0]) === null || _l_videos_ === void 0 ? void 0 : _l_videos_.duration_seconds) || 0;\n                                                                        const durationMinutes = l.duration_minutes || l.duration || 0;\n                                                                        const durationSeconds = videoDurationSeconds > 0 ? videoDurationSeconds : durationMinutes * 60;\n                                                                        const isActive = l.id === params.lessonId;\n                                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>router.push(\"/courses/\".concat(params.courseId, \"/lessons/\").concat(l.id)),\n                                                                            className: \"w-full text-left p-3 transition-all \".concat(isActive ? \"bg-primary/10 border-l-4 border-primary\" : \"hover:bg-muted/50 border-l-4 border-transparent\"),\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex items-start gap-3\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium \".concat(isActive ? \"bg-primary text-primary-foreground\" : \"bg-muted text-muted-foreground\"),\n                                                                                        children: index + 1\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                        lineNumber: 710,\n                                                                                        columnNumber: 33\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"flex-1 min-w-0\",\n                                                                                        children: [\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                                className: \"text-sm font-medium truncate \".concat(isActive ? \"text-primary\" : \"\"),\n                                                                                                children: l.title\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                lineNumber: 719,\n                                                                                                columnNumber: 35\n                                                                                            }, this),\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                className: \"flex items-center gap-2 mt-1\",\n                                                                                                children: [\n                                                                                                    contentType === \"video\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                                                                        children: [\n                                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                                className: \"text-xs text-muted-foreground flex items-center gap-1\",\n                                                                                                                children: [\n                                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                                                                                        className: \"w-3 h-3\"\n                                                                                                                    }, void 0, false, {\n                                                                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                                        lineNumber: 728,\n                                                                                                                        columnNumber: 43\n                                                                                                                    }, this),\n                                                                                                                    \"Video\"\n                                                                                                                ]\n                                                                                                            }, void 0, true, {\n                                                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                                lineNumber: 727,\n                                                                                                                columnNumber: 41\n                                                                                                            }, this),\n                                                                                                            durationSeconds > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                                className: \"text-xs text-muted-foreground\",\n                                                                                                                children: [\n                                                                                                                    \"• \",\n                                                                                                                    (0,_lib_utils_format__WEBPACK_IMPORTED_MODULE_9__.formatDuration)(durationSeconds)\n                                                                                                                ]\n                                                                                                            }, void 0, true, {\n                                                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                                lineNumber: 732,\n                                                                                                                columnNumber: 43\n                                                                                                            }, this)\n                                                                                                        ]\n                                                                                                    }, void 0, true),\n                                                                                                    contentType === \"article\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                        className: \"text-xs text-muted-foreground flex items-center gap-1\",\n                                                                                                        children: [\n                                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                                                                                className: \"w-3 h-3\"\n                                                                                                            }, void 0, false, {\n                                                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                                lineNumber: 740,\n                                                                                                                columnNumber: 41\n                                                                                                            }, this),\n                                                                                                            \"B\\xe0i đọc\"\n                                                                                                        ]\n                                                                                                    }, void 0, true, {\n                                                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                        lineNumber: 739,\n                                                                                                        columnNumber: 39\n                                                                                                    }, this)\n                                                                                                ]\n                                                                                            }, void 0, true, {\n                                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                lineNumber: 724,\n                                                                                                columnNumber: 35\n                                                                                            }, this)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                        lineNumber: 718,\n                                                                                        columnNumber: 33\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                lineNumber: 709,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        }, l.id, false, {\n                                                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                            lineNumber: 700,\n                                                                            columnNumber: 29\n                                                                        }, this);\n                                                                    }),\n                                                                    (_module_exercises2 = module.exercises) === null || _module_exercises2 === void 0 ? void 0 : _module_exercises2.map((ex, index)=>{\n                                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>router.push(\"/exercises/\".concat(ex.id)),\n                                                                            className: \"w-full text-left p-3 transition-all bg-pink-50/50 dark:bg-pink-950/10 hover:bg-pink-100 dark:hover:bg-pink-950/20 border-l-4 border-transparent hover:border-pink-500\",\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex items-start gap-3\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium bg-pink-200 dark:bg-pink-900 text-pink-700 dark:text-pink-300\",\n                                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                                                            className: \"w-3 h-3\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                            lineNumber: 761,\n                                                                                            columnNumber: 35\n                                                                                        }, this)\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                        lineNumber: 760,\n                                                                                        columnNumber: 33\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"flex-1 min-w-0\",\n                                                                                        children: [\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                                className: \"text-sm font-medium truncate text-pink-700 dark:text-pink-300\",\n                                                                                                children: ex.title\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                lineNumber: 765,\n                                                                                                columnNumber: 35\n                                                                                            }, this),\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                className: \"flex items-center gap-2 mt-1\",\n                                                                                                children: [\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                        className: \"text-xs text-pink-600 dark:text-pink-400 flex items-center gap-1 font-medium\",\n                                                                                                        children: [\n                                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_ChevronRight_FileText_Loader2_PenTool_PlayCircle_Target_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                                                                                                className: \"w-3 h-3\"\n                                                                                                            }, void 0, false, {\n                                                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                                lineNumber: 770,\n                                                                                                                columnNumber: 39\n                                                                                                            }, this),\n                                                                                                            ex.total_questions,\n                                                                                                            \" c\\xe2u hỏi\"\n                                                                                                        ]\n                                                                                                    }, void 0, true, {\n                                                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                        lineNumber: 769,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this),\n                                                                                                    ex.time_limit_minutes && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                        className: \"text-xs text-pink-600 dark:text-pink-400\",\n                                                                                                        children: [\n                                                                                                            \"• \",\n                                                                                                            ex.time_limit_minutes,\n                                                                                                            \"m\"\n                                                                                                        ]\n                                                                                                    }, void 0, true, {\n                                                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                        lineNumber: 774,\n                                                                                                        columnNumber: 39\n                                                                                                    }, this)\n                                                                                                ]\n                                                                                            }, void 0, true, {\n                                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                                lineNumber: 768,\n                                                                                                columnNumber: 35\n                                                                                            }, this)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                        lineNumber: 764,\n                                                                                        columnNumber: 33\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                                lineNumber: 759,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        }, ex.id, false, {\n                                                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                            lineNumber: 754,\n                                                                            columnNumber: 29\n                                                                        }, this);\n                                                                    })\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                                lineNumber: 687,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, module.id, true, {\n                                                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                        lineNumber: 677,\n                                                        columnNumber: 21\n                                                    }, this);\n                                                })\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                                lineNumber: 675,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                            lineNumber: 674,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                    lineNumber: 670,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                                lineNumber: 669,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                        lineNumber: 528,\n                        columnNumber: 9\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n                    lineNumber: 527,\n                    columnNumber: 7\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n            lineNumber: 495,\n            columnNumber: 5\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/bisosad/DATN/Frontend-IELTSGo/app/courses/[courseId]/lessons/[lessonId]/page.tsx\",\n        lineNumber: 494,\n        columnNumber: 5\n    }, this);\n}\n_s(LessonPlayerPage, \"jsMJnIjh4Bc/X9hzkIL9RUAp3B0=\", false, function() {\n    return [\n        _lib_i18n__WEBPACK_IMPORTED_MODULE_12__.useTranslations,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useParams,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        _lib_contexts_preferences_context__WEBPACK_IMPORTED_MODULE_11__.usePreferences,\n        _lib_hooks_use_youtube_progress__WEBPACK_IMPORTED_MODULE_10__.useYouTubeProgress\n    ];\n});\n_c = LessonPlayerPage;\nvar _c;\n$RefreshReg$(_c, \"LessonPlayerPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9jb3Vyc2VzL1tjb3Vyc2VJZF0vbGVzc29ucy9bbGVzc29uSWRdL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLZ0U7QUFDVjtBQUNQO0FBQ1c7QUFDUTtBQUNhO0FBZ0IxRDtBQUN5QjtBQUNBO0FBRUs7QUFDa0I7QUFDRjtBQUN2QjtBQUU3QixTQUFTMkI7UUFtRmlCQyx5QkFBQUEsVUFBMERBLFdBT2hGQSxXQXlaRUEsMEJBQUFBLFdBQTBEQSxXQU12REEsV0E0QkZBLFdBRUdBOztJQXJoQnZCLE1BQU1DLElBQUlILDJEQUFlQSxDQUFDO0lBRTFCLE1BQU1JLFNBQVMxQiwwREFBU0E7SUFDeEIsTUFBTTJCLFNBQVMxQiwwREFBU0E7SUFDeEIsTUFBTTJCLFdBQVc5Qiw2Q0FBTUEsQ0FBbUI7SUFFMUMsTUFBTSxDQUFDK0IsUUFBUUMsVUFBVSxHQUFHbEMsK0NBQVFBLENBQWdCO0lBQ3BELE1BQU0sQ0FBQzRCLFFBQVFPLFVBQVUsR0FBR25DLCtDQUFRQSxDQUFRLEVBQUU7SUFDOUMsTUFBTSxDQUFDb0MsU0FBU0MsV0FBVyxHQUFHckMsK0NBQVFBLENBQVcsRUFBRTtJQUNuRCxNQUFNLENBQUNzQyxTQUFTQyxXQUFXLEdBQUd2QywrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUN3QyxXQUFXQyxhQUFhLEdBQUd6QywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUMwQyxTQUFTQyxXQUFXLEdBQUczQywrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUM0QyxhQUFhQyxlQUFlLEdBQUc3QywrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUM4QyxVQUFVQyxZQUFZLEdBQUcvQywrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNLENBQUNnRCxNQUFNQyxRQUFRLEdBQUdqRCwrQ0FBUUEsQ0FBQztJQUNqQyxNQUFNLENBQUNrRCxPQUFPQyxTQUFTLEdBQUduRCwrQ0FBUUEsQ0FBZ0Ys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QUFPRCxFQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBdUh2QztHQXh2QndCaEg7O1FBRVpELHVEQUFlQTtRQUVWdEIsc0RBQVNBO1FBQ1RDLHNEQUFTQTtRQXVCQW9CLDhFQUFjQTtRQThHZEQsZ0ZBQWtCQTs7O0tBMUlwQkciLCJzb3VyY2VzIjpbIi9Vc2Vycy9iaXNvc2FkL0RBVE4vRnJvbnRlbmQtSUVMVFNHby9hcHAvY291cnNlcy9bY291cnNlSWRdL2xlc3NvbnMvW2xlc3NvbklkXS9wYWdlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG4vLyBSZXN1bWUgd2F0Y2hpbmcgZmVhdHVyZSArIFZpZGVvIGhpc3RvcnkgdHJhY2tpbmdcbmltcG9ydCB0eXBlIFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgdXNlUGFyYW1zLCB1c2VSb3V0ZXIgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCJcbmltcG9ydCB7IEFwcExheW91dCB9IGZyb20gXCJAL2NvbXBvbmVudHMvbGF5b3V0L2FwcC1sYXlvdXRcIlxuaW1wb3J0IHsgUGFnZUNvbnRhaW5lciB9IGZyb20gXCJAL2NvbXBvbmVudHMvbGF5b3V0L3BhZ2UtY29udGFpbmVyXCJcbmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2NhcmRcIlxuaW1wb3J0IHsgVGV4dGFyZWEgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3RleHRhcmVhXCJcbmltcG9ydCB7IFRhYnMsIFRhYnNDb250ZW50LCBUYWJzTGlzdCwgVGFic1RyaWdnZXIgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3RhYnNcIlxuaW1wb3J0IHtcbiAgQ2hldnJvbkxlZnQsXG4gIENoZXZyb25SaWdodCxcbiAgQ2hlY2tDaXJjbGUsXG4gIFBsYXlDaXJjbGUsXG4gIFBhdXNlQ2lyY2xlLFxuICBWb2x1bWUyLFxuICBWb2x1bWVYLFxuICBNYXhpbWl6ZSxcbiAgRmlsZVRleHQsXG4gIExvYWRlcjIsXG4gIFBlblRvb2wsXG4gIFRhcmdldCxcbn0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiXG5pbXBvcnQgeyBjb3Vyc2VzQXBpIH0gZnJvbSBcIkAvbGliL2FwaS9jb3Vyc2VzXCJcbmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSBcIkAvbGliL2FwaS9hcGlDbGllbnRcIlxuaW1wb3J0IHR5cGUgeyBMZXNzb24sIE1vZHVsZSB9IGZyb20gXCJAL3R5cGVzXCJcbmltcG9ydCB7IGZvcm1hdER1cmF0aW9uIH0gZnJvbSBcIkAvbGliL3V0aWxzL2Zvcm1hdFwiXG5pbXBvcnQgeyB1c2VZb3VUdWJlUHJvZ3Jlc3MgfSBmcm9tIFwiQC9saWIvaG9va3MvdXNlLXlvdXR1YmUtcHJvZ3Jlc3NcIlxuaW1wb3J0IHsgdXNlUHJlZmVyZW5jZXMgfSBmcm9tIFwiQC9saWIvY29udGV4dHMvcHJlZmVyZW5jZXMtY29udGV4dFwiXG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbnMgfSBmcm9tICdAL2xpYi9pMThuJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBMZXNzb25QbGF5ZXJQYWdlKCkge1xuXG4gIGNvbnN0IHQgPSB1c2VUcmFuc2xhdGlvbnMoJ2NvdXJzZXMnKVxuXG4gIGNvbnN0IHBhcmFtcyA9IHVzZVBhcmFtcygpXG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpXG4gIGNvbnN0IHZpZGVvUmVmID0gdXNlUmVmPEhUTUxWaWRlb0VsZW1lbnQ+KG51bGwpXG5cbiAgY29uc3QgW2xlc3Nvbiwgc2V0TGVzc29uXSA9IHVzZVN0YXRlPExlc3NvbiB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFt2aWRlb3MsIHNldFZpZGVvc10gPSB1c2VTdGF0ZTxhbnlbXT4oW10pXG4gIGNvbnN0IFttb2R1bGVzLCBzZXRNb2R1bGVzXSA9IHVzZVN0YXRlPE1vZHVsZVtdPihbXSlcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSlcbiAgY29uc3QgW2lzUGxheWluZywgc2V0SXNQbGF5aW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbaXNNdXRlZCwgc2V0SXNNdXRlZF0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2N1cnJlbnRUaW1lLCBzZXRDdXJyZW50VGltZV0gPSB1c2VTdGF0ZSgwKVxuICBjb25zdCBbZHVyYXRpb24sIHNldER1cmF0aW9uXSA9IHVzZVN0YXRlKDApXG4gIGNvbnN0IFtub3RlLCBzZXROb3RlXSA9IHVzZVN0YXRlKFwiXCIpXG4gIGNvbnN0IFtub3Rlcywgc2V0Tm90ZXNdID0gdXNlU3RhdGU8QXJyYXk8eyBpZDogc3RyaW5nOyBjb250ZW50OiBzdHJpbmc7IHRpbWVzdGFtcD86IG51bWJlcjsgY3JlYXRlZEF0OiBzdHJpbmcgfT4+KFtdKVxuICBjb25zdCBbbGFzdFBvc2l0aW9uLCBzZXRMYXN0UG9zaXRpb25dID0gdXNlU3RhdGUoMCkgLy8g4pyFIEZvciByZXN1bWUgd2F0Y2hpbmdcbiAgY29uc3QgW3Byb2dyZXNzTG9hZGVkLCBzZXRQcm9ncmVzc0xvYWRlZF0gPSB1c2VTdGF0ZShmYWxzZSkgLy8g4pyFIFRyYWNrIGlmIHByb2dyZXNzIGhhcyBiZWVuIGZldGNoZWRcbiAgLy8g4pyFIEdlbmVyYXRlIFVVSUQgZm9yIHNlc3Npb24gKGJhY2tlbmQgZXhwZWN0cyBVVUlEIGZvcm1hdClcbiAgY29uc3Qgc2Vzc2lvbklkUmVmID0gdXNlUmVmPHN0cmluZyB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKSAvLyBPcHRpb25hbCwgYmFja2VuZCB3aWxsIGhhbmRsZSBpZiBtaXNzaW5nXG4gIFxuICAvLyBUcmFjayB0aW1lIHNwZW50IG9uIHBhZ2UgKGZvciBub24tdmlkZW8gbGVzc29ucylcbiAgY29uc3QgcGFnZVN0YXJ0VGltZVJlZiA9IHVzZVJlZjxudW1iZXI+KERhdGUubm93KCkpXG4gIGNvbnN0IHRvdGFsVGltZVNwZW50UmVmID0gdXNlUmVmPG51bWJlcj4oMClcbiAgXG4gIC8vIOKchSBHZXQgdXNlciBwcmVmZXJlbmNlcyBmb3IgcGxheWJhY2sgc3BlZWQgYW5kIGF1dG8tcGxheVxuICBjb25zdCB7IHByZWZlcmVuY2VzIH0gPSB1c2VQcmVmZXJlbmNlcygpXG4gIGNvbnN0IHBsYXliYWNrU3BlZWQgPSBwcmVmZXJlbmNlcz8ucGxheWJhY2tfc3BlZWQgfHwgMS4wXG4gIGNvbnN0IGF1dG9QbGF5TmV4dCA9IHByZWZlcmVuY2VzPy5hdXRvX3BsYXlfbmV4dF9sZXNzb24gfHwgZmFsc2VcblxuICAvLyBTZW5kIHByb2dyZXNzIHVwZGF0ZSB0byBiYWNrZW5kXG4gIGNvbnN0IHNlbmRQcm9ncmVzc1VwZGF0ZSA9IGFzeW5jIChkYXRhOiB7XG4gICAgdmlkZW9XYXRjaGVkU2Vjb25kcz86IG51bWJlclxuICAgIHZpZGVvVG90YWxTZWNvbmRzPzogbnVtYmVyXG4gICAgcHJvZ3Jlc3NQZXJjZW50YWdlPzogbnVtYmVyXG4gICAgaXNDb21wbGV0ZWQ/OiBib29sZWFuXG4gICAgdXNlS2VlcGFsaXZlPzogYm9vbGVhblxuICB9KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBheWxvYWQ6IGFueSA9IHt9XG5cbiAgICAgIGlmIChkYXRhLnZpZGVvV2F0Y2hlZFNlY29uZHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwYXlsb2FkLnZpZGVvX3dhdGNoZWRfc2Vjb25kcyA9IGRhdGEudmlkZW9XYXRjaGVkU2Vjb25kc1xuICAgICAgfVxuICAgICAgaWYgKGRhdGEudmlkZW9Ub3RhbFNlY29uZHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwYXlsb2FkLnZpZGVvX3RvdGFsX3NlY29uZHMgPSBkYXRhLnZpZGVvVG90YWxTZWNvbmRzXG4gICAgICB9XG4gICAgICBpZiAoZGF0YS5wcm9ncmVzc1BlcmNlbnRhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwYXlsb2FkLnByb2dyZXNzX3BlcmNlbnRhZ2UgPSBkYXRhLnByb2dyZXNzUGVyY2VudGFnZVxuICAgICAgfVxuICAgICAgaWYgKGRhdGEuaXNDb21wbGV0ZWQpIHtcbiAgICAgICAgcGF5bG9hZC5pc19jb21wbGV0ZWQgPSB0cnVlXG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCdbTGVzc29uIFBsYXllcl0gU2VuZGluZyBwcm9ncmVzczonLCBwYXlsb2FkKVxuXG4gICAgICBpZiAoZGF0YS51c2VLZWVwYWxpdmUpIHtcbiAgICAgICAgLy8gVXNlIGZldGNoIHdpdGgga2VlcGFsaXZlIGZvciBwYWdlIHVubG9hZFxuICAgICAgICBjb25zdCB0b2tlbiA9IGdldFRva2VuKClcbiAgICAgICAgY29uc3QgYmFzZSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgXCJodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL3YxXCJcbiAgICAgICAgY29uc3QgdXJsID0gYCR7YmFzZX0vcHJvZ3Jlc3MvbGVzc29ucy8ke3BhcmFtcy5sZXNzb25JZH1gXG4gICAgICAgIGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgIC4uLih0b2tlbiA/IHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAgfSA6IHt9KSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIGtlZXBhbGl2ZTogdHJ1ZSxcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF3YWl0IGNvdXJzZXNBcGkudXBkYXRlTGVzc29uUHJvZ3Jlc3MocGFyYW1zLmxlc3NvbklkIGFzIHN0cmluZywgcGF5bG9hZClcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coJ1tMZXNzb24gUGxheWVyXSBQcm9ncmVzcyBzZW50IHN1Y2Nlc3NmdWxseScpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tMZXNzb24gUGxheWVyXSBGYWlsZWQgdG8gc2VuZCBwcm9ncmVzczonLCBlcnJvcilcbiAgICB9XG4gIH1cblxuICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgWW91VHViZSB2aWRlb1xuICBjb25zdCBpc1lvdVR1YmUgPSB2aWRlb3MubGVuZ3RoID4gMCAmJiB2aWRlb3NbMF0/LnZpZGVvX3Byb3ZpZGVyPy50b0xvd2VyQ2FzZSgpID09PSAneW91dHViZScgJiYgdmlkZW9zWzBdPy52aWRlb19pZFxuICBjb25zdCB5b3V0dWJlVmlkZW9JZCA9IGlzWW91VHViZSA/IHZpZGVvc1swXS52aWRlb19pZCA6ICcnXG4gIFxuICBjb25zb2xlLmxvZygn8J+OpSBbTGVzc29uIFBsYXllcl0gQ29tcG9uZW50IHJlbmRlcjonLCB7XG4gICAgaGFzVmlkZW9zOiB2aWRlb3MubGVuZ3RoID4gMCxcbiAgICBpc1lvdVR1YmUsXG4gICAgeW91dHViZVZpZGVvSWQsXG4gICAgdmlkZW9Qcm92aWRlcjogdmlkZW9zWzBdPy52aWRlb19wcm92aWRlcixcbiAgfSlcblxuICAvLyDinIUgTWVtb2l6ZSBvblByb2dyZXNzVXBkYXRlIMSR4buDIHRyw6FuaCByZS1yZW5kZXIgbG9vcFxuICBjb25zdCBoYW5kbGVQcm9ncmVzc1VwZGF0ZSA9IHVzZUNhbGxiYWNrKChkYXRhOiB7XG4gICAgY3VycmVudFRpbWU6IG51bWJlclxuICAgIGR1cmF0aW9uOiBudW1iZXJcbiAgICB3YXRjaGVkU2Vjb25kczogbnVtYmVyXG4gICAgcHJvZ3Jlc3NQZXJjZW50YWdlOiBudW1iZXJcbiAgICBhY2N1bXVsYXRlZFRpbWU6IG51bWJlclxuICAgIGxhc3RQb3NpdGlvbjogbnVtYmVyXG4gICAgY29tcGxldGVkOiBib29sZWFuXG4gIH0pID0+IHtcbiAgICAvLyDinYwgUkVNT1ZFRDogc2V0Q3VycmVudFRpbWUvc2V0RHVyYXRpb24gY2F1c2UgcmUtcmVuZGVyIGxvb3AhXG4gICAgLy8g4pyFIFVzZSB5b3V0dWJlUHJvZ3Jlc3MuY3VycmVudFRpbWUvZHVyYXRpb24gZGlyZWN0bHkgaW5zdGVhZFxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdbWW91VHViZSBIb29rXSBQcm9ncmVzczonLCB7XG4gICAgICBhY2N1bXVsYXRlZFRpbWU6IGRhdGEuYWNjdW11bGF0ZWRUaW1lLFxuICAgICAgbGFzdFBvc2l0aW9uOiBkYXRhLmxhc3RQb3NpdGlvbixcbiAgICAgIHdhdGNoZWRTZWNvbmRzOiBkYXRhLndhdGNoZWRTZWNvbmRzLFxuICAgIH0pXG4gICAgXG4gICAgLy8g4pyFIETDuW5nIGFjY3VtdWxhdGVkIHRpbWUgdOG7qyBob29rICh0aOG7nWkgZ2lhbiB0aOG7sWMgc+G7sSB4ZW0pXG4gICAgLy8gU2VuZCBwcm9ncmVzcyB0byBiYWNrZW5kIHbhu5tpIGxhc3QgcG9zaXRpb24gKyB2aWRlbyBzdGF0c1xuICAgIGNvbnN0IHBheWxvYWQ6IGFueSA9IHtcbiAgICAgIHZpZGVvX3dhdGNoZWRfc2Vjb25kczogZGF0YS53YXRjaGVkU2Vjb25kcyxcbiAgICAgIHZpZGVvX3RvdGFsX3NlY29uZHM6IE1hdGguZmxvb3IoZGF0YS5kdXJhdGlvbiksXG4gICAgICAvLyDimqDvuI8gRG9uJ3Qgc2VuZCBwcm9ncmVzc19wZXJjZW50YWdlIC0gbGV0IGJhY2tlbmQgYXV0by1jYWxjdWxhdGUgZnJvbSBsYXN0X3Bvc2l0aW9uXG4gICAgICAvLyBUaGlzIGVuc3VyZXMgY29uc2lzdGVudCBjYWxjdWxhdGlvbjogcHJvZ3Jlc3MgPSBsYXN0X3Bvc2l0aW9uIC8gdG90YWxfZHVyYXRpb24gKiAxMDBcbiAgICAgIGxhc3RfcG9zaXRpb25fc2Vjb25kczogZGF0YS5sYXN0UG9zaXRpb24sIC8vIOKchSBMxrB1IHbhu4sgdHLDrSDEkeG7gyByZXN1bWVcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1tMZXNzb24gUGxheWVyXSBTZW5kaW5nIFlvdVR1YmUgcHJvZ3Jlc3M6JywgcGF5bG9hZClcbiAgICBcbiAgICAvLyBVcGRhdGUgbGVzc29uIHByb2dyZXNzXG4gICAgY291cnNlc0FwaS51cGRhdGVMZXNzb25Qcm9ncmVzcyhwYXJhbXMubGVzc29uSWQgYXMgc3RyaW5nLCBwYXlsb2FkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnW0xlc3NvbiBQbGF5ZXJdIFlvdVR1YmUgcHJvZ3Jlc3Mgc2VudCBzdWNjZXNzZnVsbHknKVxuICAgICAgICBcbiAgICAgICAgLy8g4oS577iPIFZpZGVvIHRyYWNraW5nIHJlbW92ZWQgLSBsZXNzb24gcHJvZ3Jlc3MgYWxyZWFkeSBpbmNsdWRlcyBhbGwgdmlkZW8gbWV0cmljc1xuICAgICAgICAvLyAod2F0Y2hlZF9zZWNvbmRzLCB0b3RhbF9zZWNvbmRzLCBsYXN0X3Bvc2l0aW9uLCBldGMuKVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoJ1tMZXNzb24gUGxheWVyXSBGYWlsZWQgdG8gc2VuZCBZb3VUdWJlIHByb2dyZXNzOicsIGVycm9yKSlcbiAgfSwgW3BhcmFtcy5sZXNzb25JZCwgdmlkZW9zXSlcblxuICAvLyBJbml0aWFsaXplIFlvdVR1YmUgcGxheWVyIGFuZCB0cmFja2luZyAob25seSBmb3IgWW91VHViZSB2aWRlb3MpXG4gIC8vIEhvb2sgTVVTVCBiZSBjYWxsZWQgdW5jb25kaXRpb25hbGx5LCBidXQgd2l0aCBlbXB0eSB2aWRlb0lkIGl0IHdpbGwgc2tpcCBpbml0XG4gIC8vIOKchSBPbmx5IHBhc3MgdmlkZW9JZCBhZnRlciBwcm9ncmVzcyBpcyBsb2FkZWQgdG8gZW5zdXJlIHN0YXJ0UG9zaXRpb24gaXMgY29ycmVjdFxuICBjb25zdCB5b3V0dWJlUHJvZ3Jlc3MgPSB1c2VZb3VUdWJlUHJvZ3Jlc3Moe1xuICAgIHZpZGVvSWQ6IHByb2dyZXNzTG9hZGVkID8geW91dHViZVZpZGVvSWQgOiAnJywgLy8g4pyFIFdhaXQgZm9yIHByb2dyZXNzIHRvIGxvYWQgZmlyc3RcbiAgICBzdGFydFBvc2l0aW9uOiBsYXN0UG9zaXRpb24sIC8vIOKchSBSZXN1bWUgZnJvbSBsYXN0IHBvc2l0aW9uXG4gICAgb25Qcm9ncmVzc1VwZGF0ZTogaGFuZGxlUHJvZ3Jlc3NVcGRhdGUsXG4gICAgdXBkYXRlSW50ZXJ2YWw6IDUwMDAsIC8vIFNlbmQgdXBkYXRlIGV2ZXJ5IDUgc2Vjb25kc1xuICAgIGF1dG9QbGF5OiBmYWxzZSwgLy8gRG9uJ3QgYXV0byBwbGF5XG4gICAgcGxheWJhY2tTcGVlZDogcGxheWJhY2tTcGVlZCwgLy8g4pyFIEFwcGx5IHVzZXIncyBwcmVmZXJyZWQgcGxheWJhY2sgc3BlZWRcbiAgfSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdbTGVzc29uIFBsYXllcl0g8J+OrCB1c2VFZmZlY3QgdHJpZ2dlcmVkIGZvciBsZXNzb246JywgcGFyYW1zLmxlc3NvbklkKVxuICAgIFxuICAgIGNvbnN0IGZldGNoTGVzc29uRGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldExvYWRpbmcodHJ1ZSlcbiAgICAgICAgY29uc29sZS5sb2coJ1tMZXNzb24gUGxheWVyXSDwn5SNIEZldGNoaW5nIGxlc3NvbiBkYXRhLi4uJylcbiAgICAgICAgXG4gICAgICAgIC8vIEZpeDogZ2V0TGVzc29uQnlJZCBvbmx5IHRha2VzIGxlc3NvbklkLCBub3QgY291cnNlSWRcbiAgICAgICAgY29uc3QgbGVzc29uRGF0YSA9IGF3YWl0IGNvdXJzZXNBcGkuZ2V0TGVzc29uQnlJZChwYXJhbXMubGVzc29uSWQgYXMgc3RyaW5nKVxuICAgICAgICBjb25zb2xlLmxvZygnW0xlc3NvbiBQbGF5ZXJdIOKchSBMZXNzb24gZGF0YSByZWNlaXZlZDonLCB7XG4gICAgICAgICAgbGVzc29uOiBsZXNzb25EYXRhLmxlc3Nvbj8udGl0bGUsXG4gICAgICAgICAgdmlkZW9zQ291bnQ6IGxlc3NvbkRhdGEudmlkZW9zPy5sZW5ndGgsXG4gICAgICAgICAgZmlyc3RWaWRlbzogbGVzc29uRGF0YS52aWRlb3M/LlswXVxuICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgc2V0TGVzc29uKGxlc3NvbkRhdGEubGVzc29uKVxuICAgICAgICBzZXRWaWRlb3MobGVzc29uRGF0YS52aWRlb3MgfHwgW10pXG5cbiAgICAgICAgY29uc29sZS5sb2coJ1tMZXNzb24gUGxheWVyXSBWaWRlbyBkYXRhOicsIGxlc3NvbkRhdGEudmlkZW9zKVxuICAgICAgICBjb25zb2xlLmxvZygnW0xlc3NvbiBQbGF5ZXJdIElzIFlvdVR1YmU/JywgbGVzc29uRGF0YS52aWRlb3M/LlswXT8udmlkZW9fcHJvdmlkZXIsIGxlc3NvbkRhdGEudmlkZW9zPy5bMF0/LnZpZGVvX2lkKVxuXG4gICAgICAgIC8vIOKchSBMb2FkIGxhc3QgcG9zaXRpb24gxJHhu4MgcmVzdW1lIHdhdGNoaW5nIChCRUZPUkUgcmVuZGVyaW5nIHBsYXllcilcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwcm9ncmVzcyA9IGF3YWl0IGNvdXJzZXNBcGkuZ2V0TGVzc29uUHJvZ3Jlc3MocGFyYW1zLmxlc3NvbklkIGFzIHN0cmluZylcbiAgICAgICAgICBjb25zb2xlLmxvZygnW0xlc3NvbiBQbGF5ZXJdIPCfk4ogUHJvZ3Jlc3MgcmVzcG9uc2U6JywgcHJvZ3Jlc3MpXG4gICAgICAgICAgaWYgKHByb2dyZXNzICYmIHByb2dyZXNzLmxhc3RfcG9zaXRpb25fc2Vjb25kcyA+IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbTGVzc29uIFBsYXllcl0g8J+UhCBGb3VuZCBzYXZlZCBwb3NpdGlvbjonLCBwcm9ncmVzcy5sYXN0X3Bvc2l0aW9uX3NlY29uZHMsICdzZWNvbmRzJylcbiAgICAgICAgICAgIHNldExhc3RQb3NpdGlvbihwcm9ncmVzcy5sYXN0X3Bvc2l0aW9uX3NlY29uZHMpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbTGVzc29uIFBsYXllcl0g4o+t77iPIFN0YXJ0aW5nIGZyb20gYmVnaW5uaW5nIChwcm9ncmVzczonLCBwcm9ncmVzcywgJ2xhc3RfcG9zaXRpb246JywgcHJvZ3Jlc3M/Lmxhc3RfcG9zaXRpb25fc2Vjb25kcywgJyknKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW0xlc3NvbiBQbGF5ZXJdIOKdjCBObyBwcmV2aW91cyBwcm9ncmVzcyBmb3VuZCwgc3RhcnRpbmcgZnJvbSBiZWdpbm5pbmc6JywgZXJyb3IpXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIOKchSBNYXJrIHByb2dyZXNzIGFzIGxvYWRlZCBzbyBwbGF5ZXIgY2FuIGluaXRpYWxpemUgd2l0aCBjb3JyZWN0IHN0YXJ0UG9zaXRpb25cbiAgICAgICAgc2V0UHJvZ3Jlc3NMb2FkZWQodHJ1ZSlcblxuICAgICAgICAvLyBHZXQgY291cnNlIGRldGFpbCB3aXRoIG1vZHVsZXMgYW5kIGxlc3NvbnMgKGluY2x1ZGluZyB2aWRlb3MpXG4gICAgICAgIGNvbnN0IGNvdXJzZURldGFpbCA9IGF3YWl0IGNvdXJzZXNBcGkuZ2V0Q291cnNlQnlJZChwYXJhbXMuY291cnNlSWQgYXMgc3RyaW5nKVxuXG4gICAgICAgIC8vIEF1dG8tZW5yb2xsIGlmIG5vdCBlbnJvbGxlZCBhbmQgdXNlciBpcyBhdXRoZW50aWNhdGVkXG4gICAgICAgIGNvbnN0IHRva2VuID0gZ2V0VG9rZW4oKVxuICAgICAgICBpZiAodG9rZW4gJiYgY291cnNlRGV0YWlsICYmIGNvdXJzZURldGFpbC5pc19lbnJvbGxlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgY291cnNlc0FwaS5lbnJvbGxDb3Vyc2UocGFyYW1zLmNvdXJzZUlkIGFzIHN0cmluZylcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbTGVzc29uIFBsYXllcl0gQXV0by1lbnJvbGxlZCB0byBjb3Vyc2U6JywgcGFyYW1zLmNvdXJzZUlkKVxuICAgICAgICAgIH0gY2F0Y2ggKGVuRXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tMZXNzb24gUGxheWVyXSBGYWlsZWQgdG8gYXV0by1lbnJvbGw6JywgZW5FcnIpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBUcmFuc2Zvcm0gdGhlIG1vZHVsZXMgZGF0YSB0byBtYXRjaCBvdXIgTW9kdWxlIHR5cGVcbiAgICAgICAgLy8gVVBEQVRFRDogSW5jbHVkZSBleGVyY2lzZXMgZnJvbSBBUElcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtZWRNb2R1bGVzOiBNb2R1bGVbXSA9IGNvdXJzZURldGFpbC5tb2R1bGVzLm1hcCgobW9kdWxlRGF0YTogYW55LCBpbmRleDogbnVtYmVyKSA9PiAoe1xuICAgICAgICAgIGlkOiBtb2R1bGVEYXRhLm1vZHVsZS5pZCxcbiAgICAgICAgICBjb3Vyc2VfaWQ6IHBhcmFtcy5jb3Vyc2VJZCBhcyBzdHJpbmcsXG4gICAgICAgICAgdGl0bGU6IG1vZHVsZURhdGEubW9kdWxlLnRpdGxlIHx8IGBNb2R1bGUgJHtpbmRleCArIDF9YCxcbiAgICAgICAgICBkaXNwbGF5X29yZGVyOiBtb2R1bGVEYXRhLm1vZHVsZS5kaXNwbGF5X29yZGVyIHx8IGluZGV4ICsgMSxcbiAgICAgICAgICB0b3RhbF9sZXNzb25zOiBtb2R1bGVEYXRhLmxlc3NvbnM/Lmxlbmd0aCB8fCAwLFxuICAgICAgICAgIHRvdGFsX2V4ZXJjaXNlczogbW9kdWxlRGF0YS5leGVyY2lzZXM/Lmxlbmd0aCB8fCAwLCAgLy8gTkVXXG4gICAgICAgICAgaXNfcHVibGlzaGVkOiB0cnVlLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IG1vZHVsZURhdGEubW9kdWxlLmNyZWF0ZWRfYXQgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6IG1vZHVsZURhdGEubW9kdWxlLnVwZGF0ZWRfYXQgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIGxlc3NvbnM6IG1vZHVsZURhdGEubGVzc29ucyB8fCBbXSxcbiAgICAgICAgICBleGVyY2lzZXM6IG1vZHVsZURhdGEuZXhlcmNpc2VzIHx8IFtdLCAgLy8gTkVXXG4gICAgICAgIH0pKVxuICAgICAgICBcbiAgICAgICAgc2V0TW9kdWxlcyh0cmFuc2Zvcm1lZE1vZHVsZXMpXG5cbiAgICAgICAgLy8gVE9ETzogQmFja2VuZCBub3RlcyBlbmRwb2ludCBub3QgaW1wbGVtZW50ZWQgeWV0XG4gICAgICAgIC8vIGNvbnN0IGxlc3Nvbk5vdGVzID0gYXdhaXQgY291cnNlc0FwaS5nZXRMZXNzb25Ob3RlcyhwYXJhbXMuY291cnNlSWQgYXMgc3RyaW5nLCBwYXJhbXMubGVzc29uSWQgYXMgc3RyaW5nKVxuICAgICAgICAvLyBzZXROb3RlcyhsZXNzb25Ob3RlcylcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbdjBdIEZhaWxlZCB0byBmZXRjaCBsZXNzb246XCIsIGVycm9yKVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmZXRjaExlc3NvbkRhdGEoKVxuICB9LCBbcGFyYW1zLmNvdXJzZUlkLCBwYXJhbXMubGVzc29uSWRdKVxuXG4gIC8vIFRyYWNrIEhUTUw1IHZpZGVvIHByb2dyZXNzIChmb3Igbm9uLVlvdVR1YmUgdmlkZW9zKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHZpZGVvID0gdmlkZW9SZWYuY3VycmVudFxuICAgIGlmICghdmlkZW8gfHwgaXNZb3VUdWJlKSByZXR1cm5cblxuICAgIGxldCBwcm9ncmVzc0ludGVydmFsOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsXG5cbiAgICAvLyDinIUgQXBwbHkgcGxheWJhY2sgc3BlZWQgZnJvbSB1c2VyIHByZWZlcmVuY2VzXG4gICAgaWYgKHBsYXliYWNrU3BlZWQgJiYgcGxheWJhY2tTcGVlZCAhPT0gMS4wKSB7XG4gICAgICB2aWRlby5wbGF5YmFja1JhdGUgPSBwbGF5YmFja1NwZWVkXG4gICAgICBjb25zb2xlLmxvZygnW0hUTUw1IFZpZGVvXSDwn46a77iPIFBsYXliYWNrIHNwZWVkIHNldCB0bzonLCBwbGF5YmFja1NwZWVkKVxuICAgIH1cblxuICAgIGNvbnN0IGhhbmRsZVRpbWVVcGRhdGUgPSAoKSA9PiB7XG4gICAgICBzZXRDdXJyZW50VGltZSh2aWRlby5jdXJyZW50VGltZSlcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVMb2FkZWRNZXRhZGF0YSA9ICgpID0+IHtcbiAgICAgIHNldER1cmF0aW9uKHZpZGVvLmR1cmF0aW9uKVxuICAgICAgLy8g4pyFIEVuc3VyZSBwbGF5YmFjayBzcGVlZCBpcyBzZXQgYWZ0ZXIgbWV0YWRhdGEgbG9hZHNcbiAgICAgIGlmIChwbGF5YmFja1NwZWVkICYmIHBsYXliYWNrU3BlZWQgIT09IDEuMCkge1xuICAgICAgICB2aWRlby5wbGF5YmFja1JhdGUgPSBwbGF5YmFja1NwZWVkXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaGFuZGxlUGxheSA9ICgpID0+IHtcbiAgICAgIHNldElzUGxheWluZyh0cnVlKVxuICAgICAgLy8gU2VuZCBwcm9ncmVzcyBldmVyeSA1IHNlY29uZHMgd2hpbGUgcGxheWluZ1xuICAgICAgcHJvZ3Jlc3NJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgaWYgKHZpZGVvLmR1cmF0aW9uID4gMCkge1xuICAgICAgICAgIHNlbmRQcm9ncmVzc1VwZGF0ZSh7XG4gICAgICAgICAgICB2aWRlb1dhdGNoZWRTZWNvbmRzOiBNYXRoLmZsb29yKHZpZGVvLmN1cnJlbnRUaW1lKSxcbiAgICAgICAgICAgIHZpZGVvVG90YWxTZWNvbmRzOiBNYXRoLmZsb29yKHZpZGVvLmR1cmF0aW9uKSxcbiAgICAgICAgICAgIHByb2dyZXNzUGVyY2VudGFnZTogKHZpZGVvLmN1cnJlbnRUaW1lIC8gdmlkZW8uZHVyYXRpb24pICogMTAwLFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0sIDUwMDApXG4gICAgfVxuXG4gICAgY29uc3QgaGFuZGxlUGF1c2UgPSAoKSA9PiB7XG4gICAgICBzZXRJc1BsYXlpbmcoZmFsc2UpXG4gICAgICBpZiAocHJvZ3Jlc3NJbnRlcnZhbCkge1xuICAgICAgICBjbGVhckludGVydmFsKHByb2dyZXNzSW50ZXJ2YWwpXG4gICAgICAgIHByb2dyZXNzSW50ZXJ2YWwgPSBudWxsXG4gICAgICB9XG4gICAgICAvLyBTZW5kIGZpbmFsIHByb2dyZXNzXG4gICAgICBpZiAodmlkZW8uZHVyYXRpb24gPiAwKSB7XG4gICAgICAgIHNlbmRQcm9ncmVzc1VwZGF0ZSh7XG4gICAgICAgICAgdmlkZW9XYXRjaGVkU2Vjb25kczogTWF0aC5mbG9vcih2aWRlby5jdXJyZW50VGltZSksXG4gICAgICAgICAgdmlkZW9Ub3RhbFNlY29uZHM6IE1hdGguZmxvb3IodmlkZW8uZHVyYXRpb24pLFxuICAgICAgICAgIHByb2dyZXNzUGVyY2VudGFnZTogKHZpZGVvLmN1cnJlbnRUaW1lIC8gdmlkZW8uZHVyYXRpb24pICogMTAwLFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGhhbmRsZUVuZGVkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldElzUGxheWluZyhmYWxzZSlcbiAgICAgIGlmIChwcm9ncmVzc0ludGVydmFsKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwocHJvZ3Jlc3NJbnRlcnZhbClcbiAgICAgICAgcHJvZ3Jlc3NJbnRlcnZhbCA9IG51bGxcbiAgICAgIH1cbiAgICAgIC8vIE1hcmsgYXMgY29tcGxldGVkXG4gICAgICBzZW5kUHJvZ3Jlc3NVcGRhdGUoe1xuICAgICAgICB2aWRlb1dhdGNoZWRTZWNvbmRzOiBNYXRoLmZsb29yKHZpZGVvLmR1cmF0aW9uKSxcbiAgICAgICAgdmlkZW9Ub3RhbFNlY29uZHM6IE1hdGguZmxvb3IodmlkZW8uZHVyYXRpb24pLFxuICAgICAgICBwcm9ncmVzc1BlcmNlbnRhZ2U6IDEwMCxcbiAgICAgICAgaXNDb21wbGV0ZWQ6IHRydWUsXG4gICAgICB9KVxuICAgIH1cblxuICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWV1cGRhdGUnLCBoYW5kbGVUaW1lVXBkYXRlKVxuICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgaGFuZGxlTG9hZGVkTWV0YWRhdGEpXG4gICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcigncGxheScsIGhhbmRsZVBsYXkpXG4gICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcigncGF1c2UnLCBoYW5kbGVQYXVzZSlcbiAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIGhhbmRsZUVuZGVkKVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChwcm9ncmVzc0ludGVydmFsKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwocHJvZ3Jlc3NJbnRlcnZhbClcbiAgICAgIH1cbiAgICAgIHZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RpbWV1cGRhdGUnLCBoYW5kbGVUaW1lVXBkYXRlKVxuICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCBoYW5kbGVMb2FkZWRNZXRhZGF0YSlcbiAgICAgIHZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BsYXknLCBoYW5kbGVQbGF5KVxuICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigncGF1c2UnLCBoYW5kbGVQYXVzZSlcbiAgICAgIHZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgaGFuZGxlRW5kZWQpXG4gICAgfVxuICB9LCBbaXNZb3VUdWJlLCBwbGF5YmFja1NwZWVkXSlcblxuICAvLyBTZW5kIHByb2dyZXNzIG9uIHBhZ2UgdW5sb2FkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlQmVmb3JlVW5sb2FkID0gKCkgPT4ge1xuICAgICAgc2VuZFByb2dyZXNzVXBkYXRlKHsgdXNlS2VlcGFsaXZlOiB0cnVlIH0pXG4gICAgfVxuXG4gICAgY29uc3QgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSA9ICgpID0+IHtcbiAgICAgIGlmIChkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgICAgc2VuZFByb2dyZXNzVXBkYXRlKHsgdXNlS2VlcGFsaXZlOiB0cnVlIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgaGFuZGxlQmVmb3JlVW5sb2FkKVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIGhhbmRsZUJlZm9yZVVubG9hZClcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKVxuICAgIH1cbiAgfSwgW10pXG5cbiAgY29uc3QgdG9nZ2xlUGxheSA9ICgpID0+IHtcbiAgICBpZiAodmlkZW9SZWYuY3VycmVudCkge1xuICAgICAgaWYgKGlzUGxheWluZykge1xuICAgICAgICB2aWRlb1JlZi5jdXJyZW50LnBhdXNlKClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZpZGVvUmVmLmN1cnJlbnQucGxheSgpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgdG9nZ2xlTXV0ZSA9ICgpID0+IHtcbiAgICBpZiAodmlkZW9SZWYuY3VycmVudCkge1xuICAgICAgdmlkZW9SZWYuY3VycmVudC5tdXRlZCA9ICFpc011dGVkXG4gICAgICBzZXRJc011dGVkKCFpc011dGVkKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZVByb2dyZXNzQ2xpY2sgPSAoZTogUmVhY3QuTW91c2VFdmVudDxIVE1MRGl2RWxlbWVudD4pID0+IHtcbiAgICBpZiAodmlkZW9SZWYuY3VycmVudCkge1xuICAgICAgY29uc3QgcmVjdCA9IGUuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgY29uc3QgcG9zID0gKGUuY2xpZW50WCAtIHJlY3QubGVmdCkgLyByZWN0LndpZHRoXG4gICAgICB2aWRlb1JlZi5jdXJyZW50LmN1cnJlbnRUaW1lID0gcG9zICogZHVyYXRpb25cbiAgICB9XG4gIH1cblxuICAvLyBUT0RPOiBCYWNrZW5kIG5vdGVzIGZlYXR1cmUgbm90IGltcGxlbWVudGVkIHlldFxuICAvKlxuICBjb25zdCBoYW5kbGVBZGROb3RlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghbm90ZS50cmltKCkpIHJldHVyblxuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGNvdXJzZXNBcGkuYWRkTGVzc29uTm90ZShwYXJhbXMuY291cnNlSWQgYXMgc3RyaW5nLCBwYXJhbXMubGVzc29uSWQgYXMgc3RyaW5nLCB7XG4gICAgICAgIGNvbnRlbnQ6IG5vdGUsXG4gICAgICAgIHRpbWVzdGFtcDogTWF0aC5mbG9vcihjdXJyZW50VGltZSksXG4gICAgICB9KVxuICAgICAgY29uc3QgdXBkYXRlZE5vdGVzID0gYXdhaXQgY291cnNlc0FwaS5nZXRMZXNzb25Ob3RlcyhwYXJhbXMuY291cnNlSWQgYXMgc3RyaW5nLCBwYXJhbXMubGVzc29uSWQgYXMgc3RyaW5nKVxuICAgICAgc2V0Tm90ZXModXBkYXRlZE5vdGVzKVxuICAgICAgc2V0Tm90ZShcIlwiKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiW3YwXSBGYWlsZWQgdG8gYWRkIG5vdGU6XCIsIGVycm9yKVxuICAgIH1cbiAgfVxuICAqL1xuXG5cbiAgY29uc3QgaGFuZGxlQ29tcGxldGVMZXNzb24gPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHNlbmRQcm9ncmVzc1VwZGF0ZSh7XG4gICAgICAgIHZpZGVvV2F0Y2hlZFNlY29uZHM6IE1hdGguZmxvb3IoY3VycmVudFRpbWUpLFxuICAgICAgICB2aWRlb1RvdGFsU2Vjb25kczogTWF0aC5mbG9vcihkdXJhdGlvbiksXG4gICAgICAgIHByb2dyZXNzUGVyY2VudGFnZTogMTAwLFxuICAgICAgICBpc0NvbXBsZXRlZDogdHJ1ZSxcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIC8vIOKchSBDaGVjayBhdXRvX3BsYXlfbmV4dF9sZXNzb24gcHJlZmVyZW5jZVxuICAgICAgaWYgKGF1dG9QbGF5TmV4dCkge1xuICAgICAgICAvLyBBdXRvLXJlZGlyZWN0IHRvIG5leHQgbGVzc29uXG4gICAgICAgIGhhbmRsZU5leHRMZXNzb24oKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU2hvdyBjb21wbGV0aW9uIG1lc3NhZ2Ugb3IganVzdCBzdGF5IG9uIHBhZ2VcbiAgICAgICAgLy8gVXNlciBjYW4gbWFudWFsbHkgbmF2aWdhdGUgdG8gbmV4dCBsZXNzb25cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIlt2MF0gRmFpbGVkIHRvIGNvbXBsZXRlIGxlc3NvbjpcIiwgZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGFuZGxlTmV4dExlc3NvbiA9ICgpID0+IHtcbiAgICBjb25zdCBhbGxMZXNzb25zID0gbW9kdWxlcy5mbGF0TWFwKChtKSA9PiBtLmxlc3NvbnMgfHwgW10pXG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gYWxsTGVzc29ucy5maW5kSW5kZXgoKGwpID0+IGw/LmlkID09PSBwYXJhbXMubGVzc29uSWQpXG4gICAgaWYgKGN1cnJlbnRJbmRleCA8IGFsbExlc3NvbnMubGVuZ3RoIC0gMSkge1xuICAgICAgY29uc3QgbmV4dExlc3NvbiA9IGFsbExlc3NvbnNbY3VycmVudEluZGV4ICsgMV1cbiAgICAgIGlmIChuZXh0TGVzc29uPy5pZCkge1xuICAgICAgICByb3V0ZXIucHVzaChgL2NvdXJzZXMvJHtwYXJhbXMuY291cnNlSWR9L2xlc3NvbnMvJHtuZXh0TGVzc29uLmlkfWApXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJvdXRlci5wdXNoKGAvY291cnNlcy8ke3BhcmFtcy5jb3Vyc2VJZH1gKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZVByZXZpb3VzTGVzc29uID0gKCkgPT4ge1xuICAgIGNvbnN0IGFsbExlc3NvbnMgPSBtb2R1bGVzLmZsYXRNYXAoKG0pID0+IG0ubGVzc29ucyB8fCBbXSlcbiAgICBjb25zdCBjdXJyZW50SW5kZXggPSBhbGxMZXNzb25zLmZpbmRJbmRleCgobCkgPT4gbD8uaWQgPT09IHBhcmFtcy5sZXNzb25JZClcbiAgICBpZiAoY3VycmVudEluZGV4ID4gMCkge1xuICAgICAgY29uc3QgcHJldkxlc3NvbiA9IGFsbExlc3NvbnNbY3VycmVudEluZGV4IC0gMV1cbiAgICAgIGlmIChwcmV2TGVzc29uPy5pZCkge1xuICAgICAgICByb3V0ZXIucHVzaChgL2NvdXJzZXMvJHtwYXJhbXMuY291cnNlSWR9L2xlc3NvbnMvJHtwcmV2TGVzc29uLmlkfWApXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGxvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEFwcExheW91dCBzaG93U2lkZWJhcj17ZmFsc2V9IHNob3dGb290ZXI9e2ZhbHNlfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtaW4taC1zY3JlZW5cIj5cbiAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTggaC04IGFuaW1hdGUtc3BpbiB0ZXh0LXByaW1hcnlcIiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvQXBwTGF5b3V0PlxuICAgIClcbiAgfVxuXG4gIGlmICghbGVzc29uKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxBcHBMYXlvdXQgc2hvd1NpZGViYXI9e2ZhbHNlfSBzaG93Rm9vdGVyPXtmYWxzZX0+XG4gICAgICAgIDxQYWdlQ29udGFpbmVyIGNsYXNzTmFtZT1cInB5LTIwIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCBtYi00XCI+e3QoJ2NvdXJzZXMubGVzc29uX25vdF9mb3VuZCcpfTwvaDE+XG4gICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXsoKSA9PiByb3V0ZXIucHVzaChgL2NvdXJzZXMvJHtwYXJhbXMuY291cnNlSWR9YCl9Pnt0KCdjb3Vyc2VzLmJhY2tfdG9fY291cnNlJyl9PC9CdXR0b24+XG4gICAgICAgIDwvUGFnZUNvbnRhaW5lcj5cbiAgICAgIDwvQXBwTGF5b3V0PlxuICAgIClcbiAgfVxuXG4gIGNvbnN0IGFsbExlc3NvbnMgPSBtb2R1bGVzLmZsYXRNYXAoKG0pID0+IG0ubGVzc29ucyB8fCBbXSlcbiAgY29uc3QgY3VycmVudEluZGV4ID0gYWxsTGVzc29ucy5maW5kSW5kZXgoKGwpID0+IGw/LmlkID09PSBwYXJhbXMubGVzc29uSWQpXG4gIGNvbnN0IGhhc1ByZXZpb3VzID0gY3VycmVudEluZGV4ID4gMFxuICBjb25zdCBoYXNOZXh0ID0gY3VycmVudEluZGV4IDwgYWxsTGVzc29ucy5sZW5ndGggLSAxXG5cbiAgcmV0dXJuIChcbiAgICA8QXBwTGF5b3V0IHNob3dTaWRlYmFyPXtmYWxzZX0gc2hvd0Zvb3Rlcj17ZmFsc2V9PlxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIHJlbGF0aXZlXCI+XG4gICAgICB7LyogSGVhZGVyICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItYiBiZy13aGl0ZSBzdGlja3kgdG9wLTAgei0xMCBzaGFkb3ctc21cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgbXgtYXV0byBweC00IHB5LTNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtNFwiPlxuICAgICAgICAgICAgPEJ1dHRvbiBcbiAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCIgXG4gICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHJvdXRlci5wdXNoKGAvY291cnNlcy8ke3BhcmFtcy5jb3Vyc2VJZH1gKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC1zaHJpbmstMFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxDaGV2cm9uTGVmdCBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTFcIiAvPlxuICAgICAgICAgICAgICB7dCgnYmFjaycpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LWJhc2UgbWQ6dGV4dC1sZyBmb250LXNlbWlib2xkIHRydW5jYXRlIGZsZXgtMSB0ZXh0LWNlbnRlciBweC00XCI+XG4gICAgICAgICAgICAgIHtsZXNzb24udGl0bGV9XG4gICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8QnV0dG9uIFxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDb21wbGV0ZUxlc3Nvbn1cbiAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC1zaHJpbmstMFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXshaGFzTmV4dH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPENoZWNrQ2lyY2xlIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMVwiIC8+XG4gICAgICAgICAgICAgIHt0KCduZXh0Jyl9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPFBhZ2VDb250YWluZXIgY2xhc3NOYW1lPVwicHktNlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgbGc6Z3JpZC1jb2xzLTMgZ2FwLTZcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxnOmNvbC1zcGFuLTIgc3BhY2UteS02XCI+XG4gICAgICAgICAgICB7LyogVmlkZW8gQ29udGVudCAtIFNob3cgaWYgdmlkZW9zIGV4aXN0LCByZWdhcmRsZXNzIG9mIGNvbnRlbnRfdHlwZSAqL31cbiAgICAgICAgICAgIHt2aWRlb3MubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgIDxDYXJkIGNsYXNzTmFtZT1cIm92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9XCJwLTBcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgYmctYmxhY2sgYXNwZWN0LXZpZGVvXCI+XG4gICAgICAgICAgICAgICAgICAgIHt2aWRlb3NbMF0/LnZpZGVvX3Byb3ZpZGVyPy50b0xvd2VyQ2FzZSgpID09PSAneW91dHViZScgJiYgdmlkZW9zWzBdPy52aWRlb19pZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAvKiBZb3VUdWJlIHBsYXllciBjb250YWluZXIgLSBjb250cm9sbGVkIGJ5IHVzZVlvdVR1YmVQcm9ncmVzcyBob29rICovXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17eW91dHViZVByb2dyZXNzLmNvbnRhaW5lclJlZn1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgdy1mdWxsIGgtZnVsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgKSA6IHZpZGVvc1swXT8udmlkZW9fdXJsID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDx2aWRlb1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXt2aWRlb1JlZn1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17dmlkZW9zWzBdLnZpZGVvX3VybH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgdy1mdWxsIGgtZnVsbCBvYmplY3QtY29udGFpblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sc1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbHNMaXN0PVwibm9kb3dubG9hZFwiXG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwidy04IGgtOCBhbmltYXRlLXNwaW5cIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB7LyogVmlkZW8gSW5mbyAqL31cbiAgICAgICAgICAgICAgICA8Q2FyZEhlYWRlciBjbGFzc05hbWU9XCJib3JkZXItdFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPVwidGV4dC14bCBtYi0yXCI+e2xlc3Nvbi50aXRsZX08L0NhcmRUaXRsZT5cbiAgICAgICAgICAgICAgICAgICAgICB7bGVzc29uLmRlc2NyaXB0aW9uICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGxpbmUtY2xhbXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7bGVzc29uLmRlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7LyogU2hvdyBhY3R1YWwgdmlkZW8gZHVyYXRpb24gaWYgYXZhaWxhYmxlLCBmYWxsYmFjayB0byBsZXNzb24gZHVyYXRpb24gKi99XG4gICAgICAgICAgICAgICAgICAgIHsodmlkZW9zWzBdPy5kdXJhdGlvbl9zZWNvbmRzIHx8IGxlc3Nvbi5kdXJhdGlvbl9taW51dGVzKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC00IHRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHdoaXRlc3BhY2Utbm93cmFwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dmlkZW9zWzBdPy5kdXJhdGlvbl9zZWNvbmRzIFxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IGZvcm1hdER1cmF0aW9uKHZpZGVvc1swXS5kdXJhdGlvbl9zZWNvbmRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGxlc3Nvbi5kdXJhdGlvbl9taW51dGVzIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYCR7bGVzc29uLmR1cmF0aW9uX21pbnV0ZXN9ICR7dCgnbWludXRlc19mdWxsJyl9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgPC9DYXJkPlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgey8qIExlc3NvbiBOYXZpZ2F0aW9uICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgZ2FwLTQgcHktNFwiPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVByZXZpb3VzTGVzc29ufVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXshaGFzUHJldmlvdXN9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIG1heC13LVsyMDBweF1cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPENoZXZyb25MZWZ0IGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAge3QoJ3ByZXZpb3VzX2xlc3NvbicpfVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgICAgICB7dCgnbGVzc29uJyl9IHtjdXJyZW50SW5kZXggKyAxfSAvIHthbGxMZXNzb25zLmxlbmd0aH1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlTmV4dExlc3Nvbn1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWhhc05leHR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIG1heC13LVsyMDBweF1cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3QoJ25leHRfbGVzc29uJyl9XG4gICAgICAgICAgICAgICAgPENoZXZyb25SaWdodCBjbGFzc05hbWU9XCJ3LTQgaC00IG1sLTJcIiAvPlxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7KGxlc3Nvbi5jb250ZW50X3R5cGUgPT09IFwiYXJ0aWNsZVwiIHx8IGxlc3Nvbi5jb250ZW50VHlwZSA9PT0gXCJBUlRJQ0xFXCIpICYmIChcbiAgICAgICAgICAgICAgPENhcmQ+XG4gICAgICAgICAgICAgICAgPENhcmRIZWFkZXI+XG4gICAgICAgICAgICAgICAgICA8Q2FyZFRpdGxlPntsZXNzb24udGl0bGV9PC9DYXJkVGl0bGU+XG4gICAgICAgICAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICAgICAgICAgIDxDYXJkQ29udGVudD5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvc2UgcHJvc2Utc20gbWF4LXctbm9uZVwiPlxuICAgICAgICAgICAgICAgICAgICA8cD57bGVzc29uLmRlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHsvKiBUT0RPOiBCYWNrZW5kIG5vdGVzIGZlYXR1cmUgbm90IGltcGxlbWVudGVkIHlldFxuICAgICAgICAgICAgPENhcmQ+XG4gICAgICAgICAgICAgIDxDYXJkSGVhZGVyPlxuICAgICAgICAgICAgICAgIDxDYXJkVGl0bGU+e3QoJ2NvdXJzZXMubGVzc29uX25vdGVzJyl9PC9DYXJkVGl0bGU+XG4gICAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgPENhcmRDb250ZW50PlxuICAgICAgICAgICAgICAgIDxUYWJzIGRlZmF1bHRWYWx1ZT1cImFkZFwiPlxuICAgICAgICAgICAgICAgICAgPFRhYnNMaXN0IGNsYXNzTmFtZT1cImdyaWQgdy1mdWxsIGdyaWQtY29scy0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxUYWJzVHJpZ2dlciB2YWx1ZT1cImFkZFwiPnt0KCdjb3Vyc2VzLmFkZF9ub3RlJyl9PC9UYWJzVHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgPFRhYnNUcmlnZ2VyIHZhbHVlPVwidmlld1wiPlZpZXcgTm90ZXMgKHtub3Rlcy5sZW5ndGh9KTwvVGFic1RyaWdnZXI+XG4gICAgICAgICAgICAgICAgICA8L1RhYnNMaXN0PlxuICAgICAgICAgICAgICAgICAgPFRhYnNDb250ZW50IHZhbHVlPVwiYWRkXCIgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxUZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXt0KCdjb3Vyc2VzLndyaXRlX3lvdXJfbm90ZXNfaGVyZScpfVxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtub3RlfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0Tm90ZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVBZGROb3RlfT57dCgnY291cnNlcy5zYXZlX25vdGUnKX08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvVGFic0NvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICA8VGFic0NvbnRlbnQgdmFsdWU9XCJ2aWV3XCI+XG4gICAgICAgICAgICAgICAgICAgIHtub3Rlcy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHRleHQtY2VudGVyIHB5LThcIj57dCgnY291cnNlcy5ub19ub3Rlc195ZXQnKX08L3A+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtub3Rlcy5tYXAoKG4pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e24uaWR9IGNsYXNzTmFtZT1cInAtMyBiZy1tdXRlZCByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RmlsZVRleHQgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LW11dGVkLWZvcmVncm91bmRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge24udGltZXN0YW1wICE9PSB1bmRlZmluZWQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPntmb3JtYXREdXJhdGlvbihuLnRpbWVzdGFtcCl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+e24uY29udGVudH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L1RhYnNDb250ZW50PlxuICAgICAgICAgICAgICAgIDwvVGFicz5cbiAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgICovfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIFNpZGViYXIgLSBDb3Vyc2UgQ29udGVudCAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxnOmNvbC1zcGFuLTFcIj5cbiAgICAgICAgICAgIDxDYXJkIGNsYXNzTmFtZT1cInN0aWNreSB0b3AtMjBcIj5cbiAgICAgICAgICAgICAgPENhcmRIZWFkZXIgY2xhc3NOYW1lPVwicGItM1wiPlxuICAgICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPVwidGV4dC1iYXNlXCI+e3QoJ2NvdXJzZV9jb250ZW50Jyl9PC9DYXJkVGl0bGU+XG4gICAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT1cInAtMFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LWgtW2NhbGMoMTAwdmgtMjAwcHgpXSBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgIHttb2R1bGVzLm1hcCgobW9kdWxlKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXttb2R1bGUuaWR9IGNsYXNzTmFtZT1cImJvcmRlci1iIGxhc3Q6Ym9yZGVyLWItMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJnLW11dGVkLzUwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXNtXCI+e21vZHVsZS50aXRsZX08L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7bW9kdWxlLmxlc3NvbnM/Lmxlbmd0aCB8fCAwfSBiw6BpIGjhu41jXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsobW9kdWxlLmV4ZXJjaXNlcz8ubGVuZ3RoIHx8IDApID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1waW5rLTYwMCBkYXJrOnRleHQtcGluay00MDBcIj4g4oCiIHttb2R1bGUuZXhlcmNpc2VzPy5sZW5ndGggfHwgMH0gYsOgaSB04bqtcDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRpdmlkZS15XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogTGVzc29ucyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIHttb2R1bGUubGVzc29ucz8ubWFwKChsLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50VHlwZSA9IChsLmNvbnRlbnRfdHlwZSB8fCBsLmNvbnRlbnRUeXBlIHx8ICd2aWRlbycpLnRvTG93ZXJDYXNlKClcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmlvcml0aXplIHZpZGVvIGR1cmF0aW9uX3NlY29uZHMgZm9yIGFjY3VyYXRlIGRpc3BsYXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlkZW9EdXJhdGlvblNlY29uZHMgPSAobCBhcyBhbnkpLnZpZGVvcz8uWzBdPy5kdXJhdGlvbl9zZWNvbmRzIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZHVyYXRpb25NaW51dGVzID0gbC5kdXJhdGlvbl9taW51dGVzIHx8IGwuZHVyYXRpb24gfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkdXJhdGlvblNlY29uZHMgPSB2aWRlb0R1cmF0aW9uU2Vjb25kcyA+IDAgPyB2aWRlb0R1cmF0aW9uU2Vjb25kcyA6IGR1cmF0aW9uTWludXRlcyAqIDYwXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBsLmlkID09PSBwYXJhbXMubGVzc29uSWRcblxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17bC5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHJvdXRlci5wdXNoKGAvY291cnNlcy8ke3BhcmFtcy5jb3Vyc2VJZH0vbGVzc29ucy8ke2wuaWR9YCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgdGV4dC1sZWZ0IHAtMyB0cmFuc2l0aW9uLWFsbCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0FjdGl2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJiZy1wcmltYXJ5LzEwIGJvcmRlci1sLTQgYm9yZGVyLXByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJob3ZlcjpiZy1tdXRlZC81MCBib3JkZXItbC00IGJvcmRlci10cmFuc3BhcmVudFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BmbGV4LXNocmluay0wIHctNiBoLTYgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQteHMgZm9udC1tZWRpdW0gJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0FjdGl2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcImJnLXByaW1hcnkgdGV4dC1wcmltYXJ5LWZvcmVncm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcImJnLW11dGVkIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aW5kZXggKyAxfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPXtgdGV4dC1zbSBmb250LW1lZGl1bSB0cnVuY2F0ZSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmUgPyBcInRleHQtcHJpbWFyeVwiIDogXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsLnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjb250ZW50VHlwZSA9PT0gXCJ2aWRlb1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBsYXlDaXJjbGUgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWaWRlb1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZHVyYXRpb25TZWNvbmRzID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDigKIge2Zvcm1hdER1cmF0aW9uKGR1cmF0aW9uU2Vjb25kcyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NvbnRlbnRUeXBlID09PSBcImFydGljbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZpbGVUZXh0IGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIELDoGkgxJHhu41jXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogRXhlcmNpc2VzIC0gTkVXICovfVxuICAgICAgICAgICAgICAgICAgICAgICAge21vZHVsZS5leGVyY2lzZXM/Lm1hcCgoZXgsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtleC5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHJvdXRlci5wdXNoKGAvZXhlcmNpc2VzLyR7ZXguaWR9YCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHAtMyB0cmFuc2l0aW9uLWFsbCBiZy1waW5rLTUwLzUwIGRhcms6YmctcGluay05NTAvMTAgaG92ZXI6YmctcGluay0xMDAgZGFyazpob3ZlcjpiZy1waW5rLTk1MC8yMCBib3JkZXItbC00IGJvcmRlci10cmFuc3BhcmVudCBob3Zlcjpib3JkZXItcGluay01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTAgdy02IGgtNiByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC14cyBmb250LW1lZGl1bSBiZy1waW5rLTIwMCBkYXJrOmJnLXBpbmstOTAwIHRleHQtcGluay03MDAgZGFyazp0ZXh0LXBpbmstMzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhcmdldCBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdHJ1bmNhdGUgdGV4dC1waW5rLTcwMCBkYXJrOnRleHQtcGluay0zMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtleC50aXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtcGluay02MDAgZGFyazp0ZXh0LXBpbmstNDAwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQZW5Ub29sIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZXgudG90YWxfcXVlc3Rpb25zfSBjw6J1IGjhu49pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZXgudGltZV9saW1pdF9taW51dGVzICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXBpbmstNjAwIGRhcms6dGV4dC1waW5rLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKAoiB7ZXgudGltZV9saW1pdF9taW51dGVzfW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9QYWdlQ29udGFpbmVyPlxuICAgIDwvZGl2PlxuICAgIDwvQXBwTGF5b3V0PlxuICApXG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VDYWxsYmFjayIsInVzZVBhcmFtcyIsInVzZVJvdXRlciIsIkJ1dHRvbiIsIkFwcExheW91dCIsIlBhZ2VDb250YWluZXIiLCJDYXJkIiwiQ2FyZENvbnRlbnQiLCJDYXJkSGVhZGVyIiwiQ2FyZFRpdGxlIiwiQ2hldnJvbkxlZnQiLCJDaGV2cm9uUmlnaHQiLCJDaGVja0NpcmNsZSIsIlBsYXlDaXJjbGUiLCJGaWxlVGV4dCIsIkxvYWRlcjIiLCJQZW5Ub29sIiwiVGFyZ2V0IiwiY291cnNlc0FwaSIsImdldFRva2VuIiwiZm9ybWF0RHVyYXRpb24iLCJ1c2VZb3VUdWJlUHJvZ3Jlc3MiLCJ1c2VQcmVmZXJlbmNlcyIsInVzZVRyYW5zbGF0aW9ucyIsIkxlc3NvblBsYXllclBhZ2UiLCJ2aWRlb3MiLCJ0IiwicGFyYW1zIiwicm91dGVyIiwidmlkZW9SZWYiLCJsZXNzb24iLCJzZXRMZXNzb24iLCJzZXRWaWRlb3MiLCJtb2R1bGVzIiwic2V0TW9kdWxlcyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiaXNQbGF5aW5nIiwic2V0SXNQbGF5aW5nIiwiaXNNdXRlZCIsInNldElzTXV0ZWQiLCJjdXJyZW50VGltZSIsInNldEN1cnJlbnRUaW1lIiwiZHVyYXRpb24iLCJzZXREdXJhdGlvbiIsIm5vdGUiLCJzZXROb3RlIiwibm90ZXMiLCJzZXROb3RlcyIsImxhc3RQb3NpdGlvbiIsInNldExhc3RQb3NpdGlvbiIsInByb2dyZXNzTG9hZGVkIiwic2V0UHJvZ3Jlc3NMb2FkZWQiLCJzZXNzaW9uSWRSZWYiLCJ1bmRlZmluZWQiLCJwYWdlU3RhcnRUaW1lUmVmIiwiRGF0ZSIsIm5vdyIsInRvdGFsVGltZVNwZW50UmVmIiwicHJlZmVyZW5jZXMiLCJwbGF5YmFja1NwZWVkIiwicGxheWJhY2tfc3BlZWQiLCJhdXRvUGxheU5leHQiLCJhdXRvX3BsYXlfbmV4dF9sZXNzb24iLCJzZW5kUHJvZ3Jlc3NVcGRhdGUiLCJkYXRhIiwicGF5bG9hZCIsInZpZGVvV2F0Y2hlZFNlY29uZHMiLCJ2aWRlb193YXRjaGVkX3NlY29uZHMiLCJ2aWRlb1RvdGFsU2Vjb25kcyIsInZpZGVvX3RvdGFsX3NlY29uZHMiLCJwcm9ncmVzc1BlcmNlbnRhZ2UiLCJwcm9ncmVzc19wZXJjZW50YWdlIiwiaXNDb21wbGV0ZWQiLCJpc19jb21wbGV0ZWQiLCJjb25zb2xlIiwibG9nIiwidXNlS2VlcGFsaXZlIiwidG9rZW4iLCJiYXNlIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJ1cmwiLCJsZXNzb25JZCIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImtlZXBhbGl2ZSIsInVwZGF0ZUxlc3NvblByb2dyZXNzIiwiZXJyb3IiLCJpc1lvdVR1YmUiLCJsZW5ndGgiLCJ2aWRlb19wcm92aWRlciIsInRvTG93ZXJDYXNlIiwidmlkZW9faWQiLCJ5b3V0dWJlVmlkZW9JZCIsImhhc1ZpZGVvcyIsInZpZGVvUHJvdmlkZXIiLCJoYW5kbGVQcm9ncmVzc1VwZGF0ZSIsImFjY3VtdWxhdGVkVGltZSIsIndhdGNoZWRTZWNvbmRzIiwiTWF0aCIsImZsb29yIiwibGFzdF9wb3NpdGlvbl9zZWNvbmRzIiwidGhlbiIsImNhdGNoIiwieW91dHViZVByb2dyZXNzIiwidmlkZW9JZCIsInN0YXJ0UG9zaXRpb24iLCJvblByb2dyZXNzVXBkYXRlIiwidXBkYXRlSW50ZXJ2YWwiLCJhdXRvUGxheSIsImZldGNoTGVzc29uRGF0YSIsImxlc3NvbkRhdGEiLCJnZXRMZXNzb25CeUlkIiwidGl0bGUiLCJ2aWRlb3NDb3VudCIsImZpcnN0VmlkZW8iLCJwcm9ncmVzcyIsImdldExlc3NvblByb2dyZXNzIiwiY291cnNlRGV0YWlsIiwiZ2V0Q291cnNlQnlJZCIsImNvdXJzZUlkIiwiaXNfZW5yb2xsZWQiLCJlbnJvbGxDb3Vyc2UiLCJlbkVyciIsIndhcm4iLCJ0cmFuc2Zvcm1lZE1vZHVsZXMiLCJtYXAiLCJtb2R1bGVEYXRhIiwiaW5kZXgiLCJpZCIsIm1vZHVsZSIsImNvdXJzZV9pZCIsImRpc3BsYXlfb3JkZXIiLCJ0b3RhbF9sZXNzb25zIiwibGVzc29ucyIsInRvdGFsX2V4ZXJjaXNlcyIsImV4ZXJjaXNlcyIsImlzX3B1Ymxpc2hlZCIsImNyZWF0ZWRfYXQiLCJ0b0lTT1N0cmluZyIsInVwZGF0ZWRfYXQiLCJ2aWRlbyIsImN1cnJlbnQiLCJwcm9ncmVzc0ludGVydmFsIiwicGxheWJhY2tSYXRlIiwiaGFuZGxlVGltZVVwZGF0ZSIsImhhbmRsZUxvYWRlZE1ldGFkYXRhIiwiaGFuZGxlUGxheSIsInNldEludGVydmFsIiwiaGFuZGxlUGF1c2UiLCJjbGVhckludGVydmFsIiwiaGFuZGxlRW5kZWQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZUJlZm9yZVVubG9hZCIsImhhbmRsZVZpc2liaWxpdHlDaGFuZ2UiLCJkb2N1bWVudCIsImhpZGRlbiIsIndpbmRvdyIsInRvZ2dsZVBsYXkiLCJwYXVzZSIsInBsYXkiLCJ0b2dnbGVNdXRlIiwibXV0ZWQiLCJoYW5kbGVQcm9ncmVzc0NsaWNrIiwiZSIsInJlY3QiLCJjdXJyZW50VGFyZ2V0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicG9zIiwiY2xpZW50WCIsImxlZnQiLCJ3aWR0aCIsImhhbmRsZUNvbXBsZXRlTGVzc29uIiwiaGFuZGxlTmV4dExlc3NvbiIsImFsbExlc3NvbnMiLCJmbGF0TWFwIiwibSIsImN1cnJlbnRJbmRleCIsImZpbmRJbmRleCIsImwiLCJuZXh0TGVzc29uIiwicHVzaCIsImhhbmRsZVByZXZpb3VzTGVzc29uIiwicHJldkxlc3NvbiIsInNob3dTaWRlYmFyIiwic2hvd0Zvb3RlciIsImRpdiIsImNsYXNzTmFtZSIsImgxIiwib25DbGljayIsImhhc1ByZXZpb3VzIiwiaGFzTmV4dCIsInZhcmlhbnQiLCJzaXplIiwiZGlzYWJsZWQiLCJyZWYiLCJjb250YWluZXJSZWYiLCJ2aWRlb191cmwiLCJzcmMiLCJjb250cm9scyIsImNvbnRyb2xzTGlzdCIsImRlc2NyaXB0aW9uIiwicCIsImR1cmF0aW9uX3NlY29uZHMiLCJkdXJhdGlvbl9taW51dGVzIiwiY29udGVudF90eXBlIiwiY29udGVudFR5cGUiLCJoNCIsInNwYW4iLCJ2aWRlb0R1cmF0aW9uU2Vjb25kcyIsImR1cmF0aW9uTWludXRlcyIsImR1cmF0aW9uU2Vjb25kcyIsImlzQWN0aXZlIiwiYnV0dG9uIiwiZXgiLCJ0b3RhbF9xdWVzdGlvbnMiLCJ0aW1lX2xpbWl0X21pbnV0ZXMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/courses/[courseId]/lessons/[lessonId]/page.tsx\n"));

/***/ })

});